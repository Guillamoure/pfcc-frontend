(this["webpackJsonppfcc-frontend"]=this["webpackJsonppfcc-frontend"]||[]).push([[0],{124:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFoAAABaCAYAAAA4qEECAAAABmJLR0QA/wD/AP+gvaeTAAAKHElEQVR4nO2df4xdRRXHP9utb9u325bSsgUtLkLbXSmKVRMraknQGJWgjcQirVULCSaCEa1QKiZoDBptgaIB/MeCpeGHICKlhdoCC7QkJpoakP4ARCwtskjpdruL3W531z/Ofey9Z+a+e+/bmfvewvsmJ3n3ztyZM+fOPTPnzJl5UEcdddRRRx111JEHGqrNQAo0AMcBU4FmoCW43wv0AQeBbmC4KtylRK0Jugh8EjgLeD8wJ6BiwnNvAs8FtAt4CtgW3K8jwCnA1cATQD/SM11Qf1DmD4M63pEoAhcDjwNDuBNuHA0FdV1E8tfhBXmrjsnApcDlQGtC3n5G1MG/gNcRndwXpDcHdALSY9uB2UBTQrmvATcANwGHM7egxlEAViIDV1yv6wEeQF7CmUBjBfU0Ah8CvgdsQAQZV98bwIqAt7cFzgb+gb2xx4AtwNeR3ukaE4DzgN8DR2N4eA74rIe6c0MLcBv2xvUC1wHvzpGfmYjK6IvhaS1+XjbgT0d/ELgb6FD3+4HrA3o9RTmtQRntwHRgCtF5dHdQzh5gN/DfFGWeAPwAUVFabewCLgCeSVFO1bEUmb/qHrMZGazK4SRkZrAeeMVSRhLtB24HlgEnJtTVDmy1lPEmsCRlW6uGKzCnaz2I8OPQBCwGHkJ0tqsp3TFgE3Ah5Qe8b2AOmkNIr685NACrMBu7A7HsbGgCLgFetjznml5FZhhxc+gO4GnLc6uoMevZJuS7kFFfowHp4f+xPOObXkHUgk14E4F7LM+sqkAeXnAlJnM3AeMseWcDnZb8edNjwCwLf43AzZb8VVcjSzF18k9j8n6Z8gZL3tSD6G8brlV5h6jiAHkG5pz0Zku+RuDX5CfArLQG+9d3o8r3P8RizRUtyJwzzMhdmAwXkPl0tYWZRPdhjieNwL0q3048GjU2aItvByajTcCfyU9Yo6XNmA6pImK8hPPdmllaFeJsonr5MKYFOA7xL1RbeFnpj5jOrDmIPg/nOyejzDKjgKkyvmbJV8s6OYnWWNrzTZVnJ569fitVhZsteRaRn1B80WJLux5ReVaklFlmTEZ8uKWK+hF/QRizMT+zsUjdwGmqbXOAIyrPlAzyS42rFDM/U+kNwKMpGjFWqBPTgtQWsPNeXQS6QhX0Iu7GMJZW2KBapq+qNrYStR26cLwGebFi4DqVXqQ6vgvftB/xgYSxRuW5KLUUU+DxUMEDmCsjlztsXBINAIM51vcd1daZAQ+l9M7UUkxAG9F584MqvQnY57GhzyOxGR8nOvgcDywArgFe8lj/Xsyp3EOh9CHgfYlSTIGrVcUXqPTFnhrYg8xfbX4IjUYkjKHXEy9JbV6ZgsdEPBEq8BCmzgq/XVfUhWltpsFH8eMh3KjqKRJdlRm1+igSnTv+SaWfhNvlp2FE/35sFDwvdMzPMKKTZ6h6NobS+0mYfSR9lp8i6mh5TKV/nsoCXcrhNuAvlvtnAeuCtAcQZ7xtBed+ZPB2ifFIW8MIy6IQ8FcxfkL0zWp/7Hrc9575Fj6WYZ9p7MBUZQDf8sDXOlXHPJV+jYWP1Aj7ko9g9t79jhvTjWmNTaG8Wf8jC9+fcMzXMLKIHEYjUbV6h4WPt5CkOsK+jOeRXlVCK+4jjUovLoz5wKQyz8yz3Ot2xtEIZiJBPCUMAi+GrrXfJ4LxZdIaiAa87FbpZQuuEG3AX9W9qQnP6J4G/kLN2olGWO1GAuZLaQ2YHQUoL+jjiY6kL6p0H4JuBj6SIf8Q8FvL/c+4YcdAO7A9dP1C6HczsgXkoO3BcqpDf676c0yKb84DqzHj5FoQQ8cH9BTvkLqOVXFZBK2DtsvpzTywETHNNX6Mv05QsUyyCLpXXbdQPWxDXJiD6v4Xge97rFe3WQt6ctyDafwItYZtiPGgX3wHMtf1GStXcdnlBK3fln6buqF54EngC5a6ZyEhuF6WlkJIUhU9cQ9mEXSSKvGNJ4FzMflqQ7ZnvCcHHrQgk3T2W8gi6OPUdVcCUy6xFfgcJk+nId7FvPYRvqautUwqEvQbRHee6lXhPcl8OcHDyCCnd8F2IM6j9+bEB5hGWzgitY9RWKR/Z8SW1/PVVtz7EzRtxO6hm4f0Lt/1a5qm+NgZSvtbrBRTIMmp5HMJ6z7s0UDzqU74717Fh1On0q7Q7ybgAypd+6dd4R5k+eiour8ACZzUujEPPKquzyTqq9dqJYJyvg6QUwLCOAdRJ+HKbbF3o8EdyAaeY5a0aaSPvl8BnOqKKcxO9Wl1vZ1RQC9lbVDpJxJdendB03GDpxzyNIBp1m8KpR/BvgCRCeGYjh5LgeEKfQw4lcKloHUHaya64p6oQtOY4OGI0UnAl1T67SnKGOtYr64XEo38t0XVRpDGdm9DfNGll7IJsdBKKAD/RFYgXOB8ypiyGXAjcLqDcvYiCyDhgXkzIxv1h5Gx4CUHdUW2rA1gCvW7uPtMa40uVW09mWiIhdOZlw5yvEGlF6ls73at0z5Mg+lXKo/TIMcJRAXZhzkKL3HUuFqiRaqNM4geKPAqDmYbGjoQ/ReWPHr7wVimLZb2Xa/yXJlKchlh21qh4+NmIeto1RbSaOkgprFzOtFTbA7gcTlvhWJoqyXPV8hXKD7ofNWmBsw97FekF1t2FIh6rIYRc1lDR8WPJVptaY+eDDwLvCulzCrGAqKB6b2MBJGUMI6xsTVZ052YRtxczD3v3jd0lrBWVfw05ujbhEzsqy28tPQwplu2Gem94Xy2gB1vsDFwP6a/uoD0kmoLMYn+QLpN93uoQjyL7ZP6jSXfOMTAqbYw42g1dp+P3mZdlWMkSliCeTDKtTF5FxKdHlabDmHuTSnh5yrvEPZty7niMsxGrMW+qHAqtWHUbMG+KNAI3GLJvzyzVDzBdnjVvcTv67gQ90HsaWgf8b24GTlGQj/zy0yS8Iy449iewZz6ldCEnEn6guU51/RvxMMY55eYizm4l4RcU8exlbAcU2f3Uj6MtoD0sgdxuyw2gKyMLCL+bI0GxBjRg/oQfoMlnWAJ9iMzHyF57+AMxNJcR2WhDC8DvwvKSArdnYv9aLg+PAx8vj6LM5CjfrTaOIr4c1dhhlfZMB2Jsu8Ifk8legjsQeTg19IhsAdSlDkD8dlchmlG70S+gGdTlFMzaEYOerL1vD7EH+Jq+SsNTkZesu1rK23RyPUEMNcod1D3IBLvfAl+AtsnIN7EDcQf1L2HMX5QdxgF5HMtZ7AcRmLtliOxdZXsyB0PfBgJstlE+U34BxBXp3cvHOQ/dZkEfBsZ0ZMGq6PI1G838mcKBxDBleKyWwKahhgf7cjCQ9LpXV3ISsktvA3/TEFjIrKo2Uk+h5wMIqvVy/CwxjdW0Iacd9FJNPxstHQkKPMq8o2htqLWrJ6JyD5u/RdOSQNlL+ZfOG1HPG41gVoTdBymMvJHCuF5dC/ihbPuVq2jjjrqqKOOOup45+H/xpYyrpHd7AQAAAAASUVORK5CYII="},200:function(e,t,a){e.exports=a(354)},205:function(e,t,a){},206:function(e,t,a){},207:function(e,t,a){},208:function(e,t,a){},209:function(e,t,a){},210:function(e,t,a){},211:function(e,t,a){},212:function(e,t,a){},213:function(e,t,a){},214:function(e,t,a){},215:function(e,t,a){},216:function(e,t,a){},217:function(e,t,a){},354:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(41),i=a.n(l),o=(a(205),a(8)),c=a(9),s=a(11),u=a(10),d=(a(206),a(207),a(208),a(209),a(210),a(211),a(212),a(213),a(214),a(215),a(216),a(217),a(33)),m=a(29),h=a(2),p="https://characterfinder-api.herokuapp.com",f=function(e,t){var a=new Date;a.setTime(a.getTime()+24192e5);var n="".concat(a.toUTCString()),r="characters-".concat(e),l=JSON.stringify(t);g("".concat(r,"=true; expires=").concat(n,";")),v(r,l)},g=function(e){document.cookie=e},b=function(e){return-1!==document.cookie.indexOf(e)},v=function(e,t){window.localStorage.setItem(e,t)},y=function(e){var t="characters-".concat(e);return b?function(e){return JSON.parse(window.localStorage.getItem(e))}(t):null},E=function(e){var t="characters-".concat(e);b(t)||function(e){window.localStorage.removeItem(e)}(t)},k=a(365),w=a(18),_=a(13),C=a(74),S=a(4),O=a(19),j=a(1),A={currentUser:"",admin:!1,character:{},character_info:{ability_scores:{},classes:[],hardcode:{},bonuses:[],features:[],forbidden:[],effects:[],size:"Medium",actions:{full:!1,standard:!1,move:!1,swift:!1,immediate:!1},conditions:[],proficiencies:{weapon:{groups:[],individualIds:[]},armor:{groups:[],individualIds:[]}},movement:[],load:0,equipped:[],activeFeatures:[],temporaryHitPoints:[],statusConditions:[],displayDescriptions:[],summonedAllies:[]},classes:[],races:[],spells:[],skills:[],tooltip:{},modal:[],websocket:{},notifications:[],storedNotifications:[],activeEncounter:{},settings:{layout:"detailed",background1:"CFB997",background2:"fff",textColor:"000",bubbleColor:"ebebeb",borderColor:"000",shadeColor:"800000"}},T=function(e,t){var a=Object(j.a)({},e.character_info),n=t.spell.klass_id||t.spell.klass.id,r=a.classes.find((function(e){return e.id===n})),l=t.spell.spell_level;return 0===l&&t.infinite_zero_level||(r.castSpells[l]?r.castSpells[l]=r.castSpells[l]+1:r.castSpells[l]=1),a.classes.map((function(e){return e.id===r.id?r:e})),a},I=function(e,t){var a=Object(j.a)({},e.character),n=a.prepared_spells.map((function(e){return e.id===t.spell.id?t.spell:e}));return a.prepared_spells=n,a},N=function(e,t){switch(t.name){case"Nettie":return{points:19,speed:20};case"Merg":return{points:18,speed:30};case"Cedrick":return{points:7,speed:30,ringPoints:2,ammo:[{name:"bolt",amount:6}],weaponAmmo:[{weapon:"+1 Underwater Light Crossbow",ammo:"bolt"}]};case"Maddox":return{points:6,speed:30,age:"Venerable"};case"Persephone":return{speed:30,ammo:[{name:"bolt",amount:10}],weaponAmmo:[{weapon:"Light Crossbow",ammo:"bolt"}]};case"Robby":return{speed:30,points:4,charmedLife:0,ammo:[{name:"arrow",amount:11},{name:"cartridge",amount:0},{name:"+1 cunning arrow",amount:1}],weaponAmmo:[{weapon:"Long Bow",ammo:"arrow"},{weapon:"Revolver",ammo:"cartridge"}]};case"Festus":return{speed:35};case"Grackle":return{speed:30,points:0,ammo:[{name:"arrow",amount:20}],weaponAmmo:[{weapon:"Long Bow",ammo:"arrow"}]};default:return{}}},D=function(){var e,t,a,n,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,l=arguments.length>1?arguments[1]:void 0;switch(l.type){case"SIGNIN":return Object(j.a)(Object(j.a)({},r),{},{currentUser:l.user,admin:l.admin});case"SIGNOUT":return Object(j.a)(Object(j.a)({},r),{},{currentUser:"",admin:!1});case"SET SETTINGS":return Object(j.a)(Object(j.a)({},r),{},{settings:l.settings});case"CHARACTER":var i="Medium";"Nettie"===l.character.name&&(i="Tiny"),"Cedrick"===l.character.name&&(i="Small");var o=r.character_info.classes,c=o.map((function(e){var t=Object(j.a)({},e);return t.castSpells={},t})),s=N(r,{name:l.character.name});return s.armor=r.character_info.hardcode.armor,s.crew=r.character_info.hardcode.crew,Object(j.a)(Object(j.a)({},r),{},{character:l.character,character_info:Object(j.a)(Object(j.a)({},r.character_info),{},{classes:c,size:i,hardcode:s})});case"START WEBSOCKET":return console.log("initialized websocket"),Object(j.a)(Object(j.a)({},r),{},{websocket:l.websocket});case"SUBSCRIBE WEBSOCKET":return console.log("Subscibed to channel"),Object(j.a)(Object(j.a)({},r),{},{websocket:l.websocket});case"ABILITY SCORE":return Object(j.a)(Object(j.a)({},r),{},{character_info:Object(j.a)(Object(j.a)({},r.character_info),{},{ability_scores:Object(j.a)(Object(j.a)({},r.character_info.ability_scores),{},Object(O.a)({},l.ability,l.score)),hardcode:{}})});case"CHARACTER_CLASSES":return Object(j.a)(Object(j.a)({},r),{},{character_info:Object(j.a)(Object(j.a)({},r.character_info),{},{classes:l.classes})});case"EVERYTHING":return Object(j.a)(Object(j.a)({},r),{},{classes:l.classes,races:l.races,skills:l.skills});case"CAST CANTRIP SPA OR SPONTANEOUS SPELL":var u=T(r,l);return Object(j.a)(Object(j.a)({},r),{},{character_info:u});case"CAST PREPARED NONCANTRIP SPELL":var d=I(r,l);return Object(j.a)(Object(j.a)({},r),{},{character:d});case"REMOVE PREPARED SPELL":return Object(j.a)(Object(j.a)({},r),{},{character:Object(j.a)(Object(j.a)({},r.character),{},{prepared_spells:l.newPreparedSpells})});case"PREPARE SPELLS":var m=Object(S.a)(r.character.prepared_spells);return l.spells.forEach((function(e){return m.push(e)})),Object(j.a)(Object(j.a)({},r),{},{character:Object(j.a)(Object(j.a)({},r.character),{},{prepared_spells:m})});case"ALL SPELLS":return Object(j.a)(Object(j.a)({},r),{},{spells:l.spells});case"SPECIFIC USER":var h=N(r,l);return Object(j.a)(Object(j.a)({},r),{},{character_info:Object(j.a)(Object(j.a)({},r.character_info),{},{hardcode:h})});case"POINTS CHANGE":var p="increase"===l.amount?r.character_info.hardcode.points+1:r.character_info.hardcode.points-1;return Object(j.a)(Object(j.a)({},r),{},{character_info:Object(j.a)(Object(j.a)({},r.character_info),{},{hardcode:Object(j.a)(Object(j.a)({},r.character_info.hardcode),{},{points:p})})});case"CHANGE PERFORMANCE":return"none"===l.name?Object(j.a)(Object(j.a)({},r),{},{character_info:Object(j.a)(Object(j.a)({},r.character_info),{},{hardcode:Object(j.a)(Object(j.a)({},r.character_info.hardcode),{},{performance:null})})}):Object(j.a)(Object(j.a)({},r),{},{character_info:Object(j.a)(Object(j.a)({},r.character_info),{},{hardcode:Object(j.a)(Object(j.a)({},r.character_info.hardcode),{},{performance:l.name,points:r.character_info.hardcode.points-1})})});case"SUMMON MONSTER":var f=r.character_info.hardcode.monsters?Object(S.a)(r.character_info.hardcode.monsters):[],g=l.monster;return f.push(g),Object(j.a)(Object(j.a)({},r),{},{character_info:Object(j.a)(Object(j.a)({},r.character_info),{},{hardcode:Object(j.a)(Object(j.a)({},r.character_info.hardcode),{},{monsters:f})})});case"TRIGGER ACTION":var b=r.character_info.actions;return"full"===l.action&&!1===b.full?b={full:!0,standard:!0,move:!0}:"full"===l.action&&!0===b.full?b={full:!1,standard:!1,move:!1}:"standard"===l.action&&!1===b.standard&&!1===b.full?b={standard:!0}:"standard"===l.action&&!0===b.standard&&!0===b.full?b={standard:!1}:"move"===l.action&&!1===b.move&&!1===b.full?b={move:!0}:"move"===l.action&&!0===b.move&&!0===b.full?b={move:!1}:b[l.action]=!b[l.action],Object(j.a)(Object(j.a)({},r),{},{character_info:Object(j.a)(Object(j.a)({},r.character_info),{},{actions:b})});case"NEW TURN":var v={full:!1,standard:!1,move:!1,swift:!1,immediate:!1};return Object(j.a)(Object(j.a)({},r),{},{character_info:Object(j.a)(Object(j.a)({},r.character_info),{},{actions:v,hardcode:Object(j.a)(Object(j.a)({},r.character_info.hardcode),{},{power:!1,eBloodActive:!1,ffs:!1,fd:!1,charge:!1,cleave:!1,arcane_strike:!1,taal_tele:!1,augment:!1,slide:!1,dodgingPanache:!1,parry:!1,precise:!1,charmedActive:!1})})});case"POWER ATTACK":return Object(j.a)(Object(j.a)({},r),{},{character_info:Object(j.a)(Object(j.a)({},r.character_info),{},{hardcode:Object(j.a)(Object(j.a)({},r.character_info.hardcode),{},{power:!0})})});case"RAGE":var y="START"===l.change,E=Object(S.a)(r.character_info.conditions);return y||E.push("Fatigued"),Object(j.a)(Object(j.a)({},r),{},{character_info:Object(j.a)(Object(j.a)({},r.character_info),{},{conditions:E,hardcode:Object(j.a)(Object(j.a)({},r.character_info.hardcode),{},{rage:y})})});case"SPARKS":var k=r.character_info.hardcode.eBlood||0;return k<3?k+=1:k=3,Object(j.a)(Object(j.a)({},r),{},{character_info:Object(j.a)(Object(j.a)({},r.character_info),{},{actions:Object(j.a)(Object(j.a)({},r.character_info.actions),{},{swift:!0}),hardcode:Object(j.a)(Object(j.a)({},r.character_info.hardcode),{},{eBlood:k,eBloodActive:!0})})});case"CONDITION":var w=Object(S.a)(r.character_info.conditions);return w.includes(l.condition)?w=w.filter((function(e){return e!==l.condition})):w.push(l.condition),Object(j.a)(Object(j.a)({},r),{},{character_info:Object(j.a)(Object(j.a)({},r.character_info),{},{conditions:w})});case"FIVE FOOT STEP":return Object(j.a)(Object(j.a)({},r),{},{character_info:Object(j.a)(Object(j.a)({},r.character_info),{},{hardcode:Object(j.a)(Object(j.a)({},r.character_info.hardcode),{},{ffs:!0})})});case"FIGHT DEFENSIVELY":return Object(j.a)(Object(j.a)({},r),{},{character_info:Object(j.a)(Object(j.a)({},r.character_info),{},{hardcode:Object(j.a)(Object(j.a)({},r.character_info.hardcode),{},{fd:!0})})});case"CHARGE":return Object(j.a)(Object(j.a)({},r),{},{character_info:Object(j.a)(Object(j.a)({},r.character_info),{},{hardcode:Object(j.a)(Object(j.a)({},r.character_info.hardcode),{},{charge:!0})})});case"SHIFT":var _=r.character_info.hardcode.points-l.points,C="combat"===l.form?l.detail:r.character_info.hardcode.combat,D="minor"===l.form?l.detail:r.character_info.hardcode.minor,M="major"===l.form?l.detail:r.character_info.hardcode.major;return Object(j.a)(Object(j.a)({},r),{},{character_info:Object(j.a)(Object(j.a)({},r.character_info),{},{hardcode:Object(j.a)(Object(j.a)({},r.character_info.hardcode),{},{points:_,combat:C,minor:D,major:M})})});case"CHANGE SIZE":var x="Medium",F=l.size;return"Nettie"===r.character.name&&(x="Tiny"),"Cedrick"===r.character.name&&(x="Small"),l.size===r.character_info.size&&(F=x),Object(j.a)(Object(j.a)({},r),{},{character_info:Object(j.a)(Object(j.a)({},r.character_info),{},{size:F})});case"CLEAVE":return Object(j.a)(Object(j.a)({},r),{},{character_info:Object(j.a)(Object(j.a)({},r.character_info),{},{hardcode:Object(j.a)(Object(j.a)({},r.character_info.hardcode),{},{cleave:!0})})});case"SPEED SHIFT":var R=N(r,l).speed;return l.speed!==r.character_info.speed&&(R=l.speed),Object(j.a)(Object(j.a)({},r),{},{character_info:Object(j.a)(Object(j.a)({},r.character_info),{},{hardcode:Object(j.a)(Object(j.a)({},r.character_info.hardcode),{},{speed:R})})});case"FROG COMBAT":var P=r.character_info.hardcode.frogCombat;return P=l.name===P?null:l.name,Object(j.a)(Object(j.a)({},r),{},{character_info:Object(j.a)(Object(j.a)({},r.character_info),{},{hardcode:Object(j.a)(Object(j.a)({},r.character_info.hardcode),{},{frogCombat:P})})});case"COMMAND POINTS CHANGE":var L="increase"===l.amount?r.character_info.hardcode.ringPoints+1:r.character_info.hardcode.ringPoints-1;return Object(j.a)(Object(j.a)({},r),{},{character_info:Object(j.a)(Object(j.a)({},r.character_info),{},{hardcode:Object(j.a)(Object(j.a)({},r.character_info.hardcode),{},{ringPoints:L})})});case"TIME TRAVEL":return Object(j.a)(Object(j.a)({},r),{},{character_info:Object(j.a)(Object(j.a)({},r.character_info),{},{hardcode:Object(j.a)(Object(j.a)({},r.character_info.hardcode),{},{age:l.age})})});case"LIMIT CASTING":var B=r.character_info.hardcode.limits||[],H=B.find((function(e){return e.name===l.name}));return H?B=B.map((function(e){return e.name===l.name?{name:e.name,cast:e.cast+1}:e})):B.push({name:l.name,cast:1}),Object(j.a)(Object(j.a)({},r),{},{character_info:Object(j.a)(Object(j.a)({},r.character_info),{},{hardcode:Object(j.a)(Object(j.a)({},r.character_info.hardcode),{},{limits:B})})});case"ABILITY SCORE IMPROVEMENT":var W=Object(j.a)({},r.character_info.ability_scores);return W[l.ability_score]++,Object(j.a)(Object(j.a)({},r),{},{character_info:Object(j.a)(Object(j.a)({},r.character_info),{},{ability_scores:W})});case"REMOVE ALLY":var q=Object(S.a)(r.character_info.hardcode.monsters);return q.splice(l.monster,1),Object(j.a)(Object(j.a)({},r),{},{character_info:Object(j.a)(Object(j.a)({},r.character_info),{},{hardcode:Object(j.a)(Object(j.a)({},r.character_info.hardcode),{},{monsters:q})})});case"I CAN FLY":return Object(j.a)(Object(j.a)({},r),{},{character_info:Object(j.a)(Object(j.a)({},r.character_info),{},{hardcode:Object(j.a)(Object(j.a)({},r.character_info.hardcode),{},{fly:!r.character_info.hardcode.fly})})});case"ARCANE STRIKE":return Object(j.a)(Object(j.a)({},r),{},{character_info:Object(j.a)(Object(j.a)({},r.character_info),{},{hardcode:Object(j.a)(Object(j.a)({},r.character_info.hardcode),{},{arcane_strike:!0})})});case"INIT REROLL":return Object(j.a)(Object(j.a)({},r),{},{character_info:Object(j.a)(Object(j.a)({},r.character_info),{},{hardcode:Object(j.a)(Object(j.a)({},r.character_info.hardcode),{},{init_reroll:!0})})});case"DOUBLE DAMAGE":return Object(j.a)(Object(j.a)({},r),{},{character_info:Object(j.a)(Object(j.a)({},r.character_info),{},{hardcode:Object(j.a)(Object(j.a)({},r.character_info.hardcode),{},{double_damage:!0})})});case"TAALMON TELEPORT":return Object(j.a)(Object(j.a)({},r),{},{character_info:Object(j.a)(Object(j.a)({},r.character_info),{},{hardcode:Object(j.a)(Object(j.a)({},r.character_info.hardcode),{},{taal_tele:!0})})});case"AUTUMN EQUINOX":var z=!r.character_info.hardcode.autumn;return Object(j.a)(Object(j.a)({},r),{},{character_info:Object(j.a)(Object(j.a)({},r.character_info),{},{hardcode:Object(j.a)(Object(j.a)({},r.character_info.hardcode),{},{autumn:z})})});case"USED ITEM":var U=r.character_info.hardcode.usedItems||[];return U.push(l.name),Object(j.a)(Object(j.a)({},r),{},{character_info:Object(j.a)(Object(j.a)({},r.character_info),{},{hardcode:Object(j.a)(Object(j.a)({},r.character_info.hardcode),{},{usedItems:U})})});case"ACTIVE ARMOR":var G=r.character_info.hardcode.armor;return G=G===l.name?null:l.name,Object(j.a)(Object(j.a)({},r),{},{character_info:Object(j.a)(Object(j.a)({},r.character_info),{},{hardcode:Object(j.a)(Object(j.a)({},r.character_info.hardcode),{},{armor:G})})});case"AUGMENT SPELL":var Y={spellId:l.spellId,augment:l.augment};return Object(j.a)(Object(j.a)({},r),{},{character_info:Object(j.a)(Object(j.a)({},r.character_info),{},{hardcode:Object(j.a)(Object(j.a)({},r.character_info.hardcode),{},{augment:Y})})});case"DIMENSIONAL SLIDE":return Object(j.a)(Object(j.a)({},r),{},{character_info:Object(j.a)(Object(j.a)({},r.character_info),{},{hardcode:Object(j.a)(Object(j.a)({},r.character_info.hardcode),{},{slide:!0})})});case"SIZE STAFF":var K=(r.character_info.hardcode.sizeStaff||0)+l.amount;return Object(j.a)(Object(j.a)({},r),{},{character_info:Object(j.a)(Object(j.a)({},r.character_info),{},{hardcode:Object(j.a)(Object(j.a)({},r.character_info.hardcode),{},{sizeStaff:K})})});case"ENLARGE":var V=!r.character_info.hardcode.enlarge,J="Medium";J="Nettie"===r.character.name?"Tiny":J,J="Cedrick"===r.character.name?"Small":J,J="Young"===r.character_info.hardcode.age?"Small":J;var Q="Large";return Q="Nettie"===r.character.name?"Small":Q,Q="Cedrick"===r.character.name?"Medium":Q,Q="Young"===r.character_info.hardcode.age?"Medium":Q,Q=r.character_info.size===J?Q:J,Object(j.a)(Object(j.a)({},r),{},{character_info:Object(j.a)(Object(j.a)({},r.character_info),{},{size:Q,hardcode:Object(j.a)(Object(j.a)({},r.character_info.hardcode),{},{enlarge:V})})});case"REDUCE":var Z=!r.character_info.hardcode.reduce;J="Medium";J="Nettie"===r.character.name?"Tiny":J,J="Cedrick"===r.character.name?"Small":J,J="Young"===r.character_info.hardcode.age?"Small":J;Q="Small";return Q="Nettie"===r.character.name?"Diminutive":Q,Q="Cedrick"===r.character.name?"Tiny":Q,Q="Young"===r.character_info.hardcode.age?"Tiny":Q,Q=r.character_info.size===J?Q:J,Object(j.a)(Object(j.a)({},r),{},{character_info:Object(j.a)(Object(j.a)({},r.character_info),{},{hardcode:Object(j.a)(Object(j.a)({},r.character_info.hardcode),{},{reduce:Z})})});case"DODGING PANACHE":return Object(j.a)(Object(j.a)({},r),{},{character_info:Object(j.a)(Object(j.a)({},r.character_info),{},{hardcode:Object(j.a)(Object(j.a)({},r.character_info.hardcode),{},{dodgingPanache:!0})})});case"PARRY":return Object(j.a)(Object(j.a)({},r),{},{character_info:Object(j.a)(Object(j.a)({},r.character_info),{},{hardcode:Object(j.a)(Object(j.a)({},r.character_info.hardcode),{},{parry:!0})})});case"PRECISE STRIKE":return Object(j.a)(Object(j.a)({},r),{},{character_info:Object(j.a)(Object(j.a)({},r.character_info),{},{hardcode:Object(j.a)(Object(j.a)({},r.character_info.hardcode),{},{precise:!0})})});case"CHARMED":var X=r.character_info.hardcode.charmedLife,$=!1;return X<3&&(X+=1,$=!0),Object(j.a)(Object(j.a)({},r),{},{character_info:Object(j.a)(Object(j.a)({},r.character_info),{},{hardcode:Object(j.a)(Object(j.a)({},r.character_info.hardcode),{},{charmedLife:X,charmedActive:$})})});case"EXPEDITIOUS RETREAT":var ee=!r.character_info.hardcode.expeditious;return Object(j.a)(Object(j.a)({},r),{},{character_info:Object(j.a)(Object(j.a)({},r.character_info),{},{hardcode:Object(j.a)(Object(j.a)({},r.character_info.hardcode),{},{expeditious:ee})})});case"SWIM SPEED":var te=!r.character_info.hardcode.swim;return Object(j.a)(Object(j.a)({},r),{},{character_info:Object(j.a)(Object(j.a)({},r.character_info),{},{hardcode:Object(j.a)(Object(j.a)({},r.character_info.hardcode),{},{swim:te})})});case"TEMPEST":var ae=(r.character_info.hardcode.tempest||0)+l.amount;return Object(j.a)(Object(j.a)({},r),{},{character_info:Object(j.a)(Object(j.a)({},r.character_info),{},{hardcode:Object(j.a)(Object(j.a)({},r.character_info.hardcode),{},{tempest:ae})})});case"SWIM 20":var ne=!r.character_info.hardcode.swim20;return Object(j.a)(Object(j.a)({},r),{},{character_info:Object(j.a)(Object(j.a)({},r.character_info),{},{hardcode:Object(j.a)(Object(j.a)({},r.character_info.hardcode),{},{swim20:ne})})});case"LAND 10":var re=!r.character_info.hardcode.land10;return Object(j.a)(Object(j.a)({},r),{},{character_info:Object(j.a)(Object(j.a)({},r.character_info),{},{hardcode:Object(j.a)(Object(j.a)({},r.character_info.hardcode),{},{land10:re})})});case"LAND 20":var le=!r.character_info.hardcode.land20;return Object(j.a)(Object(j.a)({},r),{},{character_info:Object(j.a)(Object(j.a)({},r.character_info),{},{hardcode:Object(j.a)(Object(j.a)({},r.character_info.hardcode),{},{land20:le})})});case"QUICK":var ie=!r.character_info.hardcode.quick;return Object(j.a)(Object(j.a)({},r),{},{character_info:Object(j.a)(Object(j.a)({},r.character_info),{},{hardcode:Object(j.a)(Object(j.a)({},r.character_info.hardcode),{},{quick:ie})})});case"ALTER SELF":var oe=!r.character_info.hardcode.alterSelf;return Object(j.a)(Object(j.a)({},r),{},{character_info:Object(j.a)(Object(j.a)({},r.character_info),{},{hardcode:Object(j.a)(Object(j.a)({},r.character_info.hardcode),{},{alterSelf:oe})})});case"AMMO CHANGE":return Object(j.a)(Object(j.a)({},r),{},{character_info:Object(j.a)(Object(j.a)({},r.character_info),{},{hardcode:Object(j.a)(Object(j.a)({},r.character_info.hardcode),{},{ammo:l.ammo})})});case"ACTIVE WEAPON":return Object(j.a)(Object(j.a)({},r),{},{character_info:Object(j.a)(Object(j.a)({},r.character_info),{},{hardcode:Object(j.a)(Object(j.a)({},r.character_info.hardcode),{},{activeWeapon:l.weapon})})});case"WEAPON AMMO":return Object(j.a)(Object(j.a)({},r),{},{character_info:Object(j.a)(Object(j.a)({},r.character_info),{},{hardcode:Object(j.a)(Object(j.a)({},r.character_info.hardcode),{},{weaponAmmo:l.weaponAmmo})})});case"SPEND AMMO":var ce=r.character_info.hardcode.weaponAmmo.find((function(e){return e.weapon===l.weapon})),se=r.character_info.hardcode.ammo.find((function(e){return e.name===ce.ammo})),ue=Object(S.a)(r.character_info.hardcode.ammo);return ue=ue.map((function(e){if(e.name===se.name){var t=Object(j.a)({},e);return t.amount>0&&(t.amount=t.amount-1),t}return e})),Object(j.a)(Object(j.a)({},r),{},{character_info:Object(j.a)(Object(j.a)({},r.character_info),{},{hardcode:Object(j.a)(Object(j.a)({},r.character_info.hardcode),{},{ammo:ue})})});case"HELMSMAN":var de=!r.character_info.hardcode.helmsman;return Object(j.a)(Object(j.a)({},r),{},{character_info:Object(j.a)(Object(j.a)({},r.character_info),{},{hardcode:Object(j.a)(Object(j.a)({},r.character_info.hardcode),{},{helmsman:de})})});case"CREW":var me=!r.character_info.hardcode.crew;return Object(j.a)(Object(j.a)({},r),{},{character_info:Object(j.a)(Object(j.a)({},r.character_info),{},{hardcode:Object(j.a)(Object(j.a)({},r.character_info.hardcode),{},{crew:me})})});case"TELESWAP":return Object(j.a)(Object(j.a)({},r),{},{character_info:Object(j.a)(Object(j.a)({},r.character_info),{},{hardcode:Object(j.a)(Object(j.a)({},r.character_info.hardcode),{},{teleswap:!0})})});case"MAGICAL HATS":return Object(j.a)(Object(j.a)({},r),{},{character_info:Object(j.a)(Object(j.a)({},r.character_info),{},{hardcode:Object(j.a)(Object(j.a)({},r.character_info.hardcode),{},{magicalHats:!0})})});case"REALITY BEND":var he=r.character_info.hardcode.manipulate||0;return he<=2&&(he+=1),Object(j.a)(Object(j.a)({},r),{},{character_info:Object(j.a)(Object(j.a)({},r.character_info),{},{hardcode:Object(j.a)(Object(j.a)({},r.character_info.hardcode),{},{manipulate:he})})});case"AURA READ":return Object(j.a)(Object(j.a)({},r),{},{character_info:Object(j.a)(Object(j.a)({},r.character_info),{},{hardcode:Object(j.a)(Object(j.a)({},r.character_info.hardcode),{},{auraRead:!0})})});case"STEAL TIME":var pe=!r.character_info.hardcode.stealTime;return Object(j.a)(Object(j.a)({},r),{},{character_info:Object(j.a)(Object(j.a)({},r.character_info),{},{hardcode:Object(j.a)(Object(j.a)({},r.character_info.hardcode),{},{stealTime:pe})})});case"BONUS":var fe;return fe=l.alreadyEquipped?r.character_info.bonuses.filter((function(e){return e.source!==l.bonus.source})):l.remove?Object(S.a)(r.character_info.bonuses).filter((function(e){return e.source.featureId!==l.bonus.source.featureId&&e.source.sourceId!==l.bonus.source.sourceId&&e.source.source!==l.bonus.source.source})):[].concat(Object(S.a)(r.character_info.bonuses),[l.bonus]),Object(j.a)(Object(j.a)({},r),{},{character_info:Object(j.a)(Object(j.a)({},r.character_info),{},{bonuses:fe})});case"EFFECT":var ge;return ge=l.alreadyEquipped?r.character_info.effects.filter((function(e){return e.source!==l.effect.source})):[].concat(Object(S.a)(r.character_info.effects),[l.effect]),Object(j.a)(Object(j.a)({},r),{},{character_info:Object(j.a)(Object(j.a)({},r.character_info),{},{effects:ge})});case"ACTIVATED FEATURE":var be;return be=l.feature.remove?r.character_info.features.filter((function(e){return e.source!==l.feature.source})):[].concat(Object(S.a)(r.character_info.features),[l.feature]),Object(j.a)(Object(j.a)({},r),{},{character_info:Object(j.a)(Object(j.a)({},r.character_info),{},{features:be})});case"NEW NOTE":return ve=r.character.notes.find((function(e){return e.id===l.note.id}))?Object(S.a)(r.character.notes).map((function(e){return e.id!==l.note.id?e:l.note})):[].concat(Object(S.a)(r.character.notes),[l.note]),Object(j.a)(Object(j.a)({},r),{},{character:Object(j.a)(Object(j.a)({},r.character),{},{notes:ve})});case"REMOVE NOTE":var ve=Object(S.a)(r.character.notes).filter((function(e){return e.id!==l.note.id}));return Object(j.a)(Object(j.a)({},r),{},{character:Object(j.a)(Object(j.a)({},r.character),{},{notes:ve})});case"DONE PREPARING":return Object(j.a)(Object(j.a)({},r),{},{character:Object(j.a)(Object(j.a)({},r.character),{},{is_done_preparing_spells:!0})});case"EQUIP CMI":var ye=Object(S.a)(r.character.character_magic_items),Ee=ye.map((function(e){if(e.id===l.id){var t=Object(j.a)({},e);return t.equipped=!e.equipped,t}return e}));return Object(j.a)(Object(j.a)({},r),{},{character:Object(j.a)(Object(j.a)({},r.character),{},{character_magic_items:Ee})});case"EQUIP WEAPON":var ke=Object(S.a)(r.character.character_weapons),we=ke.map((function(e){if(e.id===l.id){var t=Object(j.a)({},e);return t.equipped=l.equipped,t}if(e.equipped!==l.equipped&&("Primary"!==l.equipped&&"Off"!==l.equipped||"Two"!==e.equipped&&"Double"!==e.equipped)&&"Two"!==l.equipped&&"Double"!==l.equipped)return e;var a=Object(j.a)({},e);return a.equipped="",a}));return Object(j.a)(Object(j.a)({},r),{},{character:Object(j.a)(Object(j.a)({},r.character),{},{character_weapons:we})});case"EQUIP ARMOR":r.character.character_armors.find((function(e){return e.id===l.id}));var _e=Object(S.a)(r.character.character_armors).map((function(e){var t;return e.id===l.id?((t=Object(j.a)({},e)).equipped=l.equipped,t):((t=Object(j.a)({},e)).equipped=!1,t)}));return Object(j.a)(Object(j.a)({},r),{},{character:Object(j.a)(Object(j.a)({},r.character),{},{character_armors:_e})});case"MUTAGEN":return Object(j.a)(Object(j.a)({},r),{},{character_info:Object(j.a)(Object(j.a)({},r.character_info),{},{hardcode:Object(j.a)(Object(j.a)({},r.character_info.hardcode),{},{mutagen:l.name})})});case"TOGGLE MUTAGEN":var Ce=r.character_info.hardcode.activeMutagen||!1;return Object(j.a)(Object(j.a)({},r),{},{character_info:Object(j.a)(Object(j.a)({},r.character_info),{},{hardcode:Object(j.a)(Object(j.a)({},r.character_info.hardcode),{},{activeMutagen:!Ce})})});case"PROFICIENCY":var Se=Object(j.a)({},r.character_info.proficiencies),Oe=l.detail;return"weapon"===Oe.type&&Oe.additive&&(Oe.proficiency_group&&Se.weapon.groups.push(Oe.proficiency_group),Oe.weapon_id&&Se.weapon.individualIds.push(Oe.weapon_id)),Object(j.a)(Object(j.a)({},r),{},{character_info:Object(j.a)(Object(j.a)({},r.character_info),{},{proficiencies:Se})});case"NEW PROFICIENCY":return Object(j.a)(Object(j.a)({},r),{},{character_info:Object(j.a)(Object(j.a)({},r.character_info),{},{proficiencies:l.proficiencies})});case"TOOLTIP":var je={message:l.message,target:l.target};return r.tooltip.target===l.target&&(je={}),Object(j.a)(Object(j.a)({},r),{},{tooltip:je});case"MODAL":var Ae,Te,Ie=Object(S.a)(r.modal);if(null!==(e=null===(t=l.options)||void 0===t?void 0:t.remove)&&void 0!==e&&e)Ie.splice(l.options.indexToRemove,1);else 5===Ie.length&&Ie.pop(),Ie.push({detail:l.detail,obj:l.obj,name:(null===(Ae=l.options)||void 0===Ae?void 0:Ae.name)||(null===(Te=l.obj)||void 0===Te?void 0:Te.name)||null});return Object(j.a)(Object(j.a)({},r),{},{modal:Ie});case"CHANGE AMMO":var Ne=Object(S.a)(r.character.character_weapons).map((function(e){if(e.id===l.characterWeapon.id){var t=Object(j.a)({},e);return t.character_weapon_ammunition_id=l.ammoId,t.magazine=0,t.improvised_ammunition=0===l.ammoId,t}return e}));return Object(j.a)(Object(j.a)({},r),{},{character:Object(j.a)(Object(j.a)({},r.character),{},{character_weapons:Ne})});case"UPDATE AMMO":Ne=Object(S.a)(r.character.character_weapons).map((function(e){if(e.id===l.cw.id){var t=Object(j.a)({},e);return t.magazine=l.magazine,t}if(e.id===l.cw.character_weapon_ammunition_id&&l.ammunition_amount){var a=Object(j.a)({},e);return a.ammunition_amount=l.ammunition_amount,a}return e}));return Object(j.a)(Object(j.a)({},r),{},{character:Object(j.a)(Object(j.a)({},r.character),{},{character_weapons:Ne})});case"DISCOVER EQUIPMENT":var De=Object(S.a)(r.character[l.detail]).map((function(e){if(e.id===l.id){var t=Object(j.a)({},e);return t.discovered=!0,t}return e}));return Object(j.a)(Object(j.a)({},r),{},{character:Object(j.a)(Object(j.a)({},r.character),{},Object(O.a)({},l.detail,De))});case"ADD MOVEMENT":return Object(j.a)(Object(j.a)({},r),{},{character_info:Object(j.a)(Object(j.a)({},r.character_info),{},{movement:[].concat(Object(S.a)(r.character_info.movement),[l.movement])})});case"ACTIVE FEATURE":var Me=Object(S.a)(r.character_info.activeFeatures),xe=Me.length;return(Me=Me.filter((function(e){return e.featureId!==l.featureSource.featureId&&e.sourceId!==l.featureSource.sourceId&&(e.source!==l.featureSource.source||e.senderId!==l.featureSource.senderId)}))).length!==xe||null!==(a=null===(n=l.options)||void 0===n?void 0:n.additive)&&void 0!==a&&!a||Me.push(l.featureSource),Object(j.a)(Object(j.a)({},r),{},{character_info:Object(j.a)(Object(j.a)({},r.character_info),{},{activeFeatures:Me})});case"ADD TEMP HP":return(Fe=Object(S.a)(r.character_info.temporaryHitPoints)).push(Object(j.a)(Object(j.a)({},l.tempHP),{},{damage:0})),Object(j.a)(Object(j.a)({},r),{},{character_info:Object(j.a)(Object(j.a)({},r.character_info),{},{temporaryHitPoints:Fe})});case"REMOVE TEMP HP":return Fe=(Fe=Object(S.a)(r.character_info.temporaryHitPoints)).filter((function(e){return e.source.sourceId!==l.source.sourceId&&e.source.featureId!==l.source.featureId&&e.source.source!==l.source.source})),Object(j.a)(Object(j.a)({},r),{},{character_info:Object(j.a)(Object(j.a)({},r.character_info),{},{temporaryHitPoints:Fe})});case"DAMAGE TEMP HP":var Fe;return Fe=(Fe=Object(S.a)(r.character_info.temporaryHitPoints)).map((function(e){return e.source.sourceId===l.source.sourceId&&e.source.featureId===l.source.featureId&&e.source.source===l.source.source?(e.damage+=l.damage,e):e})),Object(j.a)(Object(j.a)({},r),{},{character_info:Object(j.a)(Object(j.a)({},r.character_info),{},{temporaryHitPoints:Fe})});case"ADJUST CHARACTER":return Object(j.a)(Object(j.a)({},r),{},{character:Object(j.a)(Object(j.a)({},r.character),{},Object(O.a)({},l.adjust,l.value))});case"ADJUST CHARACTER REPLACE VALUE IN ARRAY":var Re=Object(S.a)(r.character[l.adjust]);return Re.length?Re=Re.map((function(e){return e.id===l.value.id?l.value:e})):Re.push(l.value),Object(j.a)(Object(j.a)({},r),{},{character:Object(j.a)(Object(j.a)({},r.character),{},Object(O.a)({},l.adjust,Re))});case"ADJUST STATUS CONDITION":return Object(j.a)(Object(j.a)({},r),{},{character_info:Object(j.a)(Object(j.a)({},r.character_info),{},{statusConditions:l.conditions})});case"FORBIDDEN":var Pe;return Pe=l.remove?Object(S.a)(r.character_info.forbidden).filter((function(e){return e.source.featureId!==l.forbidden.source.featureId&&e.source.sourceId!==l.forbidden.source.sourceId&&e.source.source!==l.forbidden.source.source})):[].concat(Object(S.a)(r.character_info.forbidden),[l.forbidden]),Object(j.a)(Object(j.a)({},r),{},{character_info:Object(j.a)(Object(j.a)({},r.character_info),{},{forbidden:Pe})});case"ADJUST CHARACTER INFO":return Object(j.a)(Object(j.a)({},r),{},{character_info:Object(j.a)(Object(j.a)({},r.character_info),{},Object(O.a)({},l.adjust,l.value))});case"UPDATE NOTIFICATIONS":return Object(j.a)(Object(j.a)({},r),{},{notifications:l.notifications});case"UPDATE STORED NOTIFICATIONS":return Object(j.a)(Object(j.a)({},r),{},{storedNotifications:l.notifications});case"REMOVE ENCOUNTER":var Le=Object(j.a)({},r.currentUser),Be=Le.campaigns.map((function(e){if(e.id===l.campaignId){var t=e.encounters.filter((function(e){return e.id!==l.encounterId}));return Object(j.a)(Object(j.a)({},e),{},{encounters:t})}return e}));return Object(j.a)(Object(j.a)({},r),{},{currentUser:Object(j.a)(Object(j.a)({},r.currentUser),{},{campaigns:Be})});case"UPDATE ENCOUNTER":Be=r.currentUser.campaigns.map((function(e){if(e.id===parseInt(l.campaignId)){var t=e.encounters.map((function(e){return e.id===l.encounter.id?l.encounter:e}));return Object(j.a)(Object(j.a)({},e),{},{encounters:t})}return e}));return console.log(l),Object(j.a)(Object(j.a)({},r),{},{currentUser:Object(j.a)(Object(j.a)({},r.currentUser),{},{campaigns:Be})});case"START ENCOUNTER":return Object(j.a)(Object(j.a)({},r),{},{activeEncounter:Object(j.a)(Object(j.a)({},l.encounter),{},{participants:[]})});case"END ENCOUNTER":return Object(j.a)(Object(j.a)({},r),{},{activeEncounter:{}});case"STORE ARCHETYPES":var He=Object(S.a)(r.classes).map((function(e){return e.id!==l.klassId?e:Object(j.a)(Object(j.a)({},e),{},{archetypes:l.archetypes})}));return Object(j.a)(Object(j.a)({},r),{},{classes:He});case"STORE OPTIONS":He=Object(S.a)(r.classes).map((function(e){if(e.id!==l.klassId)return e;var t=e.klass_features.map((function(e){return e.id!==l.klassFeatureId?e:Object(j.a)(Object(j.a)({},e),{},{options:l.options})}));return Object(j.a)(Object(j.a)({},e),{},{klass_features:t})}));return Object(j.a)(Object(j.a)({},r),{},{classes:He});case"ADD SKILL":return Object(j.a)(Object(j.a)({},r),{},{skills:[].concat(Object(S.a)(r.skills),[l.skill])});case"UPDATE COLOR THEME":return Object(j.a)(Object(j.a)({},r),{},{settings:Object(j.a)(Object(j.a)({},r.settings),l.obj)});case"ADD DICE":var We=(qe=Object(S.a)(r.modal)).find((function(e){return"rollDice"===e.detail}));return We?qe=qe.map((function(e){return"rollDice"!==e.detail?e:Object(j.a)(Object(j.a)({},e),{},{obj:l.obj})})):qe.push({detail:"rollDice",obj:l.obj}),Object(j.a)(Object(j.a)({},r),{},{modal:qe});case"UPDATE MODAL":var qe;return qe=(qe=Object(S.a)(r.modal)).map((function(e){return e.detail===l.detail&&e.obj.id===l.obj.id?Object(j.a)(Object(j.a)({},e),{},{obj:l.obj,options:l.obj||e.options}):e})),Object(j.a)(Object(j.a)({},r),{},{modal:qe});default:return r}},M=a(172),x=Object(C.c)(D,Object(C.a)(M.a)),F=x,R=(F.getState,F.dispatch),P=function(e,t,a){return R({type:"MODAL",detail:e,obj:t,options:a})},L=function(e){return R({type:"UPDATE NOTIFICATIONS",notifications:e})},B=function(e){return R({type:"UPDATE STORED NOTIFICATIONS",notifications:e})},H=function(e,t){return R({type:"TOOLTIP",message:e,target:t})},W=function(e){return R({type:"ADD DICE",obj:e})},q=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,l=new Array(n),i=0;i<n;i++)l[i]=arguments[i];return(e=t.call.apply(t,[this].concat(l))).state={currentUser:null,menuDropDown:!1},e.renderLogOut=function(){localStorage.removeItem("token"),e.props.dispatch({type:"SIGNOUT"}),e.setState({currentUser:""}),e.props.history.push("/login")},e.menuClick=function(t){e.props.history.push(t),e.setState({menuDropDown:!1})},e.renderNavBar=function(){return"true"===localStorage.computer?r.a.createElement("nav",{className:"menu"},r.a.createElement("div",null,r.a.createElement("a",{className:"item project-name"},"CharacterFinder"),r.a.createElement("a",{className:"item",onClick:function(){return e.props.history.push("/classes")}},"Classes"),r.a.createElement("a",{className:"item",onClick:function(){return e.props.history.push("/ancestries")}},"Ancestries"),r.a.createElement("a",{className:"item",onClick:function(){return e.props.history.push("/spells")}},"Spells")),r.a.createElement("div",null,e.props.currentUser?r.a.createElement("a",{className:"item",onClick:function(){return e.props.history.push("/")}},e.props.currentUser.username):r.a.createElement("a",{className:"item",onClick:function(){return e.props.history.push("/login")}},"Login"),e.props.currentUser?r.a.createElement("a",{className:"item",onClick:e.renderLogOut},"Log Out"):r.a.createElement("a",{className:"item",onClick:function(){return e.props.history.push("/signup")}},"Sign Up"),r.a.createElement("a",{className:"item",onClick:function(){return P("settings",null,{name:"Settings"})}},"Settings"))):e.state.menuDropDown?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{id:"mobile-navbar"},r.a.createElement("div",{className:"project-name"},"CharacterFinder"),r.a.createElement("button",{onClick:function(){return e.setState({menuDropDown:!e.state.menuDropDown})}},r.a.createElement(w.a,{icon:_.a}))),r.a.createElement("div",{id:"drop-down-menu"},r.a.createElement(k.a,{pointing:!0,secondary:!0,vertical:!0},r.a.createElement(k.a.Item,{onClick:function(){return e.menuClick("/classes")}},"Classes"),r.a.createElement(k.a.Item,{onClick:function(){return e.menuClick("/races")}},"Races"),r.a.createElement(k.a.Item,{onClick:function(){return e.menuClick("/skills")}},"Skills"),r.a.createElement(k.a.Item,{onClick:function(){return e.menuClick("/spells")}},"Spells"),e.state.currentUser?r.a.createElement(k.a.Item,{onClick:function(){return e.menuClick("/")}},e.state.currentUser.username):r.a.createElement(k.a.Item,{onClick:function(){return e.menuClick("/login")}},"Login"),e.state.currentUser?r.a.createElement(k.a.Item,{onClick:e.renderLogOut},"Log Out"):r.a.createElement(k.a.Item,{onClick:function(){return e.menuClick("/signup")}},"Sign Up")))):r.a.createElement("div",{id:"mobile-navbar"},r.a.createElement("div",{className:"project-name",onClick:function(){return e.setState({menuDropDown:!e.state.menuDropDown})}},"CharacterFinder"),r.a.createElement("button",{onClick:function(){return e.setState({menuDropDown:!e.state.menuDropDown})}},r.a.createElement(w.a,{icon:_.a})))},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=localStorage.getItem("token");if("http://localhost:3000/characters/10001"===window.location.href)return null;!this.state.currentUser&&t&&fetch("".concat(p,"/api/v1/auth"),{headers:{Authenticate:t}}).then((function(e){return e.json()})).then((function(t){t.error||(e.props.dispatch({type:"SIGNIN",user:t.current_user,admin:t.current_user.admin}),console.log(t),e.setState({currentUser:t.current_user}),"/login"!==e.props.location.pathname&&"/signup"!==e.props.location.pathname||e.props.history.push("/"))}))}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,this.renderNavBar())}}]),a}(r.a.Component),z=Object(m.f)(Object(h.b)((function(e){return{currentUser:e.currentUser,admin:e.admin}}))(q)),U=a(3),G=Object(h.b)((function(e){return{tooltip:e.tooltip}}))((function(e){var t=r.a.useRef(null),a=r.a.useState(200),n=Object(U.a)(a,2),l=n[0],i=n[1];r.a.useEffect((function(){i(t.current.offsetWidth+10)}),[]);var o=window.pageYOffset+e.tooltip.target.getBoundingClientRect().top,c=e.tooltip.target.offsetHeight,s={left:window.pageXOffset+e.tooltip.target.getBoundingClientRect().left+e.tooltip.target.offsetWidth/2-l/2+"px",top:o+c+17+"px",position:"absolute",zIndex:1};return r.a.createElement("section",{ref:t,id:"tooltip",className:"on top",style:s},r.a.createElement("div",{className:"tooltip-arrow"}),r.a.createElement("div",{className:"tooltip-inner",style:{maxWidth:l+"px"}},e.tooltip.message))})),Y=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(o.a)(this,a),(e=t.call(this)).componentDidMount=function(){document.body.appendChild(e.container)},e.componentWillUnmount=function(){document.body.removeChild(e.container)},e.container=document.createElement("div"),e}return Object(c.a)(a,[{key:"render",value:function(){var e=this.props.children;return i.a.createPortal(e,this.container)}}]),a}(r.a.Component),K=Y,V=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,l=new Array(n),i=0;i<n;i++)l[i]=arguments[i];return(e=t.call.apply(t,[this].concat(l))).state={amount:0,adjustment:"",lethality:"lethal",damageType:"",id:e.props.character.id},e.renderAmount=function(){return"true"===localStorage.computer?r.a.createElement("div",null,r.a.createElement("label",null,r.a.createElement("input",{type:"number",name:"amount",min:"0",value:e.state.amount,onChange:e.handleChange}))):r.a.createElement("span",null,r.a.createElement("label",null,r.a.createElement("input",{className:"mobile-input-field mobile-input-field-number",type:"number",name:"amount",value:e.state.amount,onChange:e.handleChange})))},e.handleChange=function(t){e.setState(Object(O.a)({},t.target.name,t.target.value))},e.handleMobileButton=function(t){"+"===t?e.setState({amount:e.state.amount+1}):"-"===t&&e.state.amount>0&&e.setState({amount:e.state.amount-1})},e.renderAdjustment=function(){return"true"===localStorage.computer?r.a.createElement("div",null,r.a.createElement("label",null,"HP Changes:",r.a.createElement("select",{name:"adjustment",value:e.state.adjustment,onChange:e.handleChange},r.a.createElement("option",{value:""},"Choose One"),r.a.createElement("option",{value:"heal"},"Heal"),r.a.createElement("option",{value:"harm"},"Damage"),r.a.createElement("option",{value:"temp"},"Temporary HP")))):"false"===localStorage.computer?r.a.createElement("span",null,r.a.createElement("label",null,r.a.createElement("select",{className:"mobile-dropdown",name:"adjustment",value:e.state.adjustment,onChange:e.handleChange},r.a.createElement("option",{value:""},"Choose One"),r.a.createElement("option",{value:"heal"},"Heal"),r.a.createElement("option",{value:"harm"},"Damage"),r.a.createElement("option",{value:"temp"},"Temporary HP")))):void 0},e.renderLethality=function(){return r.a.createElement("form",null,r.a.createElement("span",{className:"radio"},r.a.createElement("label",null,r.a.createElement("input",{type:"radio",name:"lethality",value:"lethal",checked:"lethal"===e.state.lethality,onChange:e.handleChange}),"Lethal")),r.a.createElement("span",{className:"radio"},r.a.createElement("label",null,r.a.createElement("input",{type:"radio",name:"lethality",value:"nonLethal",checked:"nonLethal"===e.state.lethality,onChange:e.handleChange}),"Non-lethal")))},e.renderString=function(){switch(e.state.adjustment){case"heal":return"Heal Up";case"harm":return"lethal"===e.state.lethality?"Deal Damage":"Just a Scratch";case"temp":return"Buff Me";default:return"no button found"}},e.renderTypeAdjustments=function(){var t=[],a=e.props.character.name;return"Merg"===a?(t.push("DR 3/- (DR 6/- against non-lethal)"),t.push("Resist fire 2"),e.props.character_info.hardcode.rage&&t.push("Resist electricity 10")):"Robby"===a?t.push("Immune fire (50 damage total)"):("Grackle"===a||"Majestik"===a)&&t.push("Resist fire 5"),r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",null,"Damage Adjustments"),r.a.createElement("ul",{style:{borderColor:"#".concat(e.props.settings.borderColor)}},t.map((function(e){return r.a.createElement("li",null,e)}))))},e.removeTemporaryHPRedux=function(){var t=e.props.character_info.temporaryHitPoints,a=parseInt(e.state.amount);return t.forEach((function(t){var n=t.bonus-t.damage;a>=n?(e.props.dispatch({type:"REMOVE TEMP HP",source:t.source}),a-=n):(e.props.dispatch({type:"DAMAGE TEMP HP",source:t.source,damage:a}),a=0)})),a},e.renderHPDispatch=function(t,a,n){switch(a){case"harm":if("nonLethal"===n){e.props.dispatch({type:"ADJUST CHARACTER",adjust:"non_lethal_damage",value:e.props.character.non_lethal_damage+t});break}if("lethal"===n){var r=t;if(e.props.character.temp_hp){var l=r>=e.props.character.temp_hp?0:e.props.character.temp_hp-r;r=r<=e.props.character.temp_hp?0:r-e.props.character.temp_hp,e.props.dispatch({type:"ADJUST CHARACTER",adjust:"temp_hp",value:l})}e.props.dispatch({type:"ADJUST CHARACTER",adjust:"lethal_damage",value:e.props.character.lethal_damage+r});break}case"heal":var i=t>=e.props.character.lethal_damage?0:e.props.character.lethal_damage-t;e.props.dispatch({type:"ADJUST CHARACTER",adjust:"lethal_damage",value:i});var o=t>=e.props.character.non_lethal_damage?0:e.props.character.non_lethal_damage-t;e.props.dispatch({type:"ADJUST CHARACTER",adjust:"non_lethal_damage",value:o});break;case"temp":e.props.dispatch({type:"ADJUST CHARACTER",adjust:"temp_hp",value:e.props.character.temp_hp+t})}},e.buttonEvent=function(t,a){var n=parseInt(e.state.amount);"harm"===t&&(n=e.removeTemporaryHPRedux()),n>0?fetch("".concat(p,"/api/v1/hp_changes"),{method:"PATCH",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(Object(j.a)(Object(j.a)({},e.state),{},{adjustment:t,lethality:a}))}).then((function(e){return e.json()})).then((function(r){e.renderHPDispatch(n,t,a),"true"===localStorage.computer&&e.props.exitModal()})):e.props.exitModal(),"false"===localStorage.computer&&e.props.closeHPChanges()},e.renderMobileButtons=function(){var t="#fff";return t=e.state.amount<=0?"#999":t,r.a.createElement("section",{style:{textAlign:"center"}},r.a.createElement("button",{className:"mobile-hp-button glow-blue",style:{borderRadius:"0.5em 0em 0em 0.5em",borderRightWidth:"1px",backgroundColor:"#fff"},onClick:function(){return e.handleMobileButton("+")}},"+"),r.a.createElement("button",{className:"mobile-hp-button glow-red",style:{borderRadius:"0em 0.5em 0.5em 0em",borderLeftWidth:"1px",backgroundColor:t},onClick:function(){return e.handleMobileButton("-")}},"-"))},e.renderButtons=function(){return r.a.createElement("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr"}},r.a.createElement("button",{style:{background:"linear-gradient(90deg, #fff 35%, #f00)"},onClick:function(){return e.buttonEvent("harm","lethal")}},"Lethal Damage"),r.a.createElement("button",{style:{background:"linear-gradient(90deg, #fff 35%, #0f0)"},onClick:function(){return e.buttonEvent("heal")}},"Heal"),r.a.createElement("button",{style:{background:"linear-gradient(90deg, #fff 35%, #f00)"},onClick:function(){return e.buttonEvent("harm","nonLethal")}},"Non-Lethal Damage"),r.a.createElement("button",{style:{background:"linear-gradient(90deg, #fff 35%, #0892D0)"},onClick:function(){return e.buttonEvent("temp")}},"Temporary Hit Points"))},e}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("section",{id:"character-show-hp-container"},r.a.createElement("div",null,this.renderAmount(),this.renderTypeAdjustments()),"false"===localStorage.computer&&r.a.createElement("span",null,r.a.createElement("button",{className:"mobile-close-button",onClick:this.props.closeHPChanges},"X")),"false"===localStorage.computer&&this.renderMobileButtons(),this.renderButtons())}}]),a}(r.a.Component),J=Object(h.b)((function(e){return{currentUser:e.currentUser,admin:e.admin,character:e.character,character_info:e.character_info,settings:e.settings}}))(V),Q=a(6),Z=a.n(Q),X=function(e){return Math.floor((e-10)/2)},$=function(e){switch(e){case"Fine":return 8;case"Diminutive":return 4;case"Tiny":return 2;case"Small":return 1;case"Large":return-1;case"Huge":return-2;case"Gargantuan":return-4;case"Colossal":return-8;default:return 0}},ee=function(e){return e<0?e:"+".concat(e)},te=function(e){var t="th";switch(e){case 1:t="st";break;case 2:t="nd";break;case 3:t="rd";break;default:t="th"}return e+t},ae=function(e){var t=e.current_weekday,a=e.current_month,n=e.current_day,r=e.current_age,l=e.current_year,i=[];return t&&i.push("".concat(t,",")),a&&i.push("".concat(a)),n&&i.push("".concat(te(n),",")),r&&i.push("".concat(te(r),",")),l&&i.push("".concat(l)),i.join(" ")},ne=function(e){var t=e.month,a=e.day,n=e.year,r=0;switch(t){case"Floreau Budding":r=1;break;case"Floreau Equinox":r=2;break;case"Floreau Blossom":r=3;break;case"Harvest Flourish":r=4;break;case"Harvest Solstice":r=5;break;case"Harvest Scorch":r=6;break;case"Autumn Cornucopia":r=7;break;case"Autumn Equinox":r=8;break;case"Autumn Festival":r=9;break;case"Borealis Snowfall":r=10;break;case"Borealis Solstice":r=11;break;case"Borealis Renewal":r=12;break;case"Lunalis":r=13}return"".concat(r,"/").concat(a,"/").concat(n)},re=function(e){return fetch("".concat(p,"/api/v1/").concat(e)).then((function(e){return e.json()})).catch((function(e){console.log("Error",e.status,e.exception)}))},le=function(e,t){return fetch("".concat(p,"/api/v1/").concat(e),{method:"POST",headers:{"Content-Type":"application/json",Response:"application/json",Authenticate:localStorage.token},body:JSON.stringify(t)}).then((function(e){return e.json()}))},ie=function(e,t){return fetch("".concat(p,"/api/v1/").concat(e),{method:"PATCH",headers:{"Content-Type":"application/json",Response:"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()}))},oe=function(e){return fetch("".concat(p,"/api/v1/").concat(e),{method:"DELETE"}).then((function(e){return e.json()}))},ce=(F.getState,F.dispatch),se=function(e){var t=e.ability,a=e.score;return ce({type:"ABILITY SCORE",ability:t,score:a})},ue=function(e,t,a){return ce({type:"ADJUST CHARACTER INFO",adjust:e,value:t})},de=function(e,t){return ce({type:"ADJUST CHARACTER",adjust:e,value:t})},me=Object(h.b)((function(e){return{character:e.character,character_info:e.character_info}}))((function(e){var t,a=r.a.useState(!1),n=Object(U.a)(a,2),l=n[0],i=n[1],o=r.a.useState(0),c=Object(U.a)(o,2),s=c[0],u=c[1],d=r.a.useState(!1),m=Object(U.a)(d,2),h=m[0],f=m[1],g=r.a.useState(0),b=Object(U.a)(g,2),v=b[0],y=b[1],E=r.a.useState([]),k=Object(U.a)(E,2),C=k[0],S=k[1],O=r.a.useState([]),A=Object(U.a)(O,2),T=A[0],I=A[1],N=r.a.useState(!1),D=Object(U.a)(N,2),M=D[0],x=D[1],F=r.a.useState(0),P=Object(U.a)(F,2),L=P[0],B=P[1];switch(r.a.useEffect((function(){fetch("".concat(p,"/api/v1/campaign_containers/").concat(e.character.campaign.id)).then((function(e){return e.json()})).then((function(e){S(e)}))}),[e.item]),e.url){case"character_weapon":t="weapon";break;case"character_armor":t="armor";break;case"character_magic_item":t="magicItem"}var H=e.item,W=e.url,q=e.characterItem,z=q.equipped;q.known;console.log("equipped",z);var G=!!H.features&&H.features.find((function(e){return e.usage})),Y=!!G&&G.usage,K=!!("potion"!==H.slot&&"none"!==H.slot&&""!==H.proficiency||Y.wieldable),V=!e.characterItem.stored_character_magic_item&&!!C,J=!!H.features&&!!H.features.find((function(e){return e.feature_container})),Q=!!Y&&Y.adjustable,Z=function(){fetch("".concat(p,"/api/v1/").concat(W,"s_trade/").concat(e.characterItem.id),{method:"PATCH",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({new_owner_id:s})}).then((function(e){return e.json()})).then((function(t){404===t.status||500===t.status?console.log(t):(e.exitModal(),e.dispatch({type:"CHARACTER",character:t.character}),i(!1),u(0))}))},X=function(){var t=e.characterItem;fetch("".concat(p,"/api/v1/container_storage/").concat(v),{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({cmi:t.id})}).then((function(e){return e.json()})).then((function(t){404===t.status||500===t.status?console.log(t):(e.exitModal(),e.dispatch({type:"CHARACTER",character:t.character}),f(!1),y(0))}))},$=function(t){fetch("".concat(p,"/api/v1/container_withdraw/").concat(t),{method:"DELETE",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({cmi:!0})}).then((function(e){return e.json()})).then((function(a){if(404===a.status||500===a.status)console.log(a);else{e.exitModal(),e.dispatch({type:"CHARACTER",character:a.character});T.filter((function(e){return e.id!==t}))}}))},ee=function(){return C.filter((function(t){return t.id!==e.characterItem.id})).map((function(e){return r.a.createElement("option",{value:e.container.id},"".concat(e.character.name,"'s ").concat(e.discovered?e.magic_item.name:e.false_desc))}))};return r.a.createElement("div",null,K?function(){var a=[];return"weapon"===t?(a.push(r.a.createElement("option",{value:""},z?"Unequip":"Unequipped")),("Light"===H.category||"One-Handed"===H.category&&!H.weapon_hands.length)&&(a.push(r.a.createElement("option",{value:"Primary"},"Primary Hand")),a.push(r.a.createElement("option",{value:"Off"},"Off Hand"))),"One-Handed"!==H.category&&"Two-Handed"!==H.category||H.weapon_hands.length||a.push(r.a.createElement("option",{value:"Two"},"Two-Handed")),H.double_weapon&&a.push(r.a.createElement("option",{value:"Double"},"Double")),H.weapon_hands.length&&H.weapon_hands.forEach((function(e){"One"===e.hands&&a.push(r.a.createElement("option",{value:"Primary"},"Primary Hand")),"One"===e.hands&&a.push(r.a.createElement("option",{value:"Off"},"Off Hand")),"Two"===e.hands&&a.push(r.a.createElement("option",{value:"Two"},"Two-Handed"))}))):"armor"===t?(a.push(r.a.createElement("option",{value:!1},"Unequip",!z&&"ed"," (",H.remove,")")),a.push(r.a.createElement("option",{value:!0},"Equip",z&&"ed"," (",H.don,")"))):"magicItem"===t&&(a.push(r.a.createElement("option",{value:!1},"Unequip",!z&&"ed")),a.push(r.a.createElement("option",{value:!0},"Equip",z&&"ed"))),r.a.createElement("label",{htmlFor:"equipType",name:"Equip"},r.a.createElement("select",{name:"equipType",value:"".concat(z),onChange:function(a){return function(a){var n=a.target.value;"armor"===t&&(n="true"===n),fetch("".concat(p,"/api/v1/").concat(W,"s_equip/").concat(e.characterItem.id),{method:"PATCH",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({equipped:n})}).then((function(e){return e.json()})).then((function(a){var r;404===a.status||500===a.status?console.log(a):(H.features&&H.features.forEach((function(t){t.skill_bonuses.length&&t.skill_bonuses.forEach((function(t){var a=t.skill_id,n=t.bonus,r=t.bonus_type,l=t.duration;e.dispatch({type:"BONUS",bonus:{type:"skill",skill_id:a,bonus:n,bonus_type:r,duration:l,source:H.name},alreadyEquipped:z})})),t.stat_bonuses.length&&t.stat_bonuses.forEach((function(t){var a=t.statistic,n=t.bonus,r=t.bonus_type,l=t.duration,i=t.feature_stat_bonus_conditions.map((function(e){return{condition:e.condition}}));e.dispatch({type:"BONUS",bonus:{type:"stat",statistic:a,bonus:n,bonus_type:r,duration:l,source:H.name,conditions:i},alreadyEquipped:z})})),t.skill_notes.length&&t.skill_notes.forEach((function(t){var a=t.skill_id,n=t.note;e.dispatch({type:"BONUS",bonus:{type:"note",skill_id:a,note:n,source:H.name},alreadyEquipped:z})})),t.languages.length&&t.languages.forEach((function(t){var a=t.language,n=t.note;e.dispatch({type:"EFFECT",effect:{type:"language",language:a,note:n,source:H.name},alreadyEquipped:z})}))})),r="character_magic_item"===W?"EQUIP CMI":r,r="character_weapon"===W?"EQUIP WEAPON":r,r="character_armor"===W?"EQUIP ARMOR":r,e.dispatch({type:r,id:e.characterItem.id,equipped:n}),"armor"===t&&e.dispatch({type:"MODAL",detail:"armor",obj:Object(j.a)(Object(j.a)({},e.characterItem),{},{equipped:n})}))}))}(a)}},a))}():null,r.a.createElement("button",{id:"tradeBtn",onClick:function(){return i(!l)}},"Trade"),V?r.a.createElement("button",{className:h?"pressedBtn":null,onClick:function(){return f(!h)}},"Stash"):r.a.createElement("button",{onClick:function(){return $(e.characterItem.id)}},"Withdraw"),J&&r.a.createElement("button",{className:T.length?"pressedBtn":null,onClick:function(){T.length?I([]):fetch("".concat(p,"/api/v1/container/").concat(e.characterItem.container.id)).then((function(e){return e.json()})).then((function(e){I(e)}))}},"Contents"),Q&&r.a.createElement("button",{onClick:function(){return x(!M)}},"Adjustable"),T.length?r.a.createElement("div",null,r.a.createElement("ul",null,T.map((function(e){return r.a.createElement("li",null,"".concat(e.character.name,"'s ").concat(e.discovered?e.magic_item.name:e.false_desc)," ",r.a.createElement("button",{onClick:function(){return $(e.id)}},"Withdraw"))})))):null,l?r.a.createElement(r.a.Fragment,null,r.a.createElement("label",null,"Who?",r.a.createElement("select",{name:"tradedChar",value:s,onChange:function(e){return u(e.target.value)}},r.a.createElement("option",{value:""},"Select One"),e.character.campaign.characters.filter((function(t){return t.name!==e.character.name})).map((function(e){return r.a.createElement("option",{value:e.id},e.name)})))),!!s&&r.a.createElement("button",{onClick:Z},"Enter")):null,h?r.a.createElement(r.a.Fragment,null,r.a.createElement("label",null,"Who?",r.a.createElement("select",{name:"stashContainer",value:v,onChange:function(e){return y(e.target.value)}},r.a.createElement("option",{value:""},"Select One"),ee())),!!v&&r.a.createElement("button",{onClick:X},"Enter")):null,M?function(){var t=e.characterItem.character_magic_item_feature_usages.find((function(e){return e.feature_usage_id===Y.id})),a=t.current_usage||0,n=Y.limit,l=n-a;return r.a.createElement(r.a.Fragment,null,r.a.createElement("span",null," (".concat(l,"/").concat(n,")")),L+l<10&&r.a.createElement("button",{onClick:function(){return B(L+1)}},"+"),L+l>0&&r.a.createElement("button",{onClick:function(){return B(L-1)}},"-"),r.a.createElement("span",null,"Adjust: ",L),!!L&&r.a.createElement("button",{onClick:function(){return a=t.id,void fetch("".concat(p,"/api/v1/character_magic_items/").concat(a),{method:"PATCH",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({count:0-L})}).then((function(e){return e.json()})).then((function(t){404===t.status||500===t.status?console.log(t):(e.exitModal(),e.dispatch({type:"CHARACTER",character:t.character}),B(0),x(!1))}));var a}},"Submit"))}():null,r.a.createElement("div",{className:"trash",onClick:function(){fetch("".concat(p,"/api/v1/").concat(W,"s/").concat(e.characterItem.id),{method:"DELETE",headers:{"Content-Type":"application/json",Accept:"application/json"}}).then((function(e){return e.json()})).then((function(t){404===t.status||500===t.status?console.log(t):(e.exitModal(),e.dispatch({type:"CHARACTER",character:t.character}))}))}},r.a.createElement(w.a,{icon:_.o,size:"1x"})),function(){if(!H.ammunition&&H.ammunition_type){var t=e.character.character_weapons.filter((function(e){return e.weapon.ammunition&&e.weapon.ammunition_type===H.ammunition_type})),a=t.find((function(t){return e.characterItem.character_weapon_ammunition_id===t.id}))||{id:null,name:"No Ammo"};0===e.characterItem.character_weapon_ammunition_id&&(a={id:0,name:"Improvised Ammo"});var n=[];n.push(r.a.createElement("option",{value:null},"No Ammo")),t.forEach((function(e){var t;n.push(r.a.createElement("option",{value:e.id},e.name||e.weapon.name," x",null!==(t=e.ammunition_amount)&&void 0!==t?t:0))})),n.push(r.a.createElement("option",{value:0},"Improvised Ammo"));return r.a.createElement("p",null,r.a.createElement("label",{htmlFor:"ammunitionType",name:"Ammunition"},r.a.createElement("select",{name:"ammunitionType",value:a.id,onChange:function(t){t.preventDefault();var a=parseInt(t.target.value);ie("character_weapons_ammo/".concat(e.characterItem.id),{ammo_id:a}).then((function(t){var n=e.character.character_weapons.map((function(t){return t.id===e.characterItem.id?Object(j.a)(Object(j.a)({},t),{},{character_weapon_ammunition_id:a,improvised_ammunition:0===a}):t}));de("character_weapons",n),function(e,t,a){R({type:"UPDATE MODAL",detail:e,obj:t,options:a})}("weapon",Object(j.a)(Object(j.a)({},e.characterItem),{},{character_weapon_ammunition_id:a,improvised_ammunition:0===a}))}))}},n)))}}())})),he=Object(h.b)((function(e){return{character:e.character,character_info:e.character_info}}))((function(e){var t=function(e){return e.split("\n\n").map((function(e,t){return r.a.createElement("p",{key:3*t+1},e)}))},a=e.characterArmor;return console.log("Armor Info",a),r.a.createElement("div",null,function(){var e=a.masterwork?"mwk ".concat(a.armor.name):a.armor.name,n=a.name?r.a.createElement("h3",{style:{display:"inline-block"}},r.a.createElement("em",null,a.name)," (armorName)"):r.a.createElement("h3",{style:{display:"inline-block"}},e);return r.a.createElement(r.a.Fragment,null,n,a.name&&r.a.createElement(me,{characterItem:a,item:a.armor,url:"character_armor"}),r.a.createElement("div",null,a.armor.proficiency," ",a.armor.bonus_type,"; ",r.a.createElement("strong",null,"Price")," ",a.armor.price_in_gp," gp; ",r.a.createElement("strong",null,"Weight")," ",a.armor.weight," lb;"),r.a.createElement("div",{style:{marginBottom:"1%",paddingBottom:".8%",borderBottom:"double"}}),a.description&&r.a.createElement("div",null,r.a.createElement("em",null,t(a.description))),r.a.createElement("div",null,t(a.armor.description)))}())})),pe=Object(h.b)((function(e){return{character:e.character,character_info:e.character_info}}))((function(e){var t=e.item,a=function(e){return e.split("\n\n").map((function(e,t){return r.a.createElement("p",{key:3*t+1},e)}))};return console.log("Weapon Info",e),r.a.createElement("div",null,function(){var n,l,i,o,c,s;return r.a.createElement(r.a.Fragment,null,(null===(n=e.cw)||void 0===n?void 0:n.name)?r.a.createElement("h3",{style:{display:"inline-block"}},r.a.createElement("em",null,null===(l=e.cw)||void 0===l?void 0:l.name)," (",(null===(i=e.cw)||void 0===i?void 0:i.masterwork)&&"mwk ",t.name,")"):r.a.createElement("h3",{style:{display:"inline-block"}},(null===(o=e.cw)||void 0===o?void 0:o.masterwork)&&"mwk ",t.name),(null===(c=e.cw)||void 0===c?void 0:c.id)&&r.a.createElement(me,{characterItem:e.cw,item:e.item,exitModal:e.exitModal,editModal:e.editModal,url:"character_weapon"}),r.a.createElement("div",null,t.category," ",t.proficiency," ",t.weapon_type," Weapon; ",r.a.createElement("strong",null,"Price")," ",t.price_in_gp," gp; ",r.a.createElement("strong",null,"Weight")," ",t.weight," lb;"),r.a.createElement("div",null,r.a.createElement("strong",null,"Damage")," ",t.num_of_dice,"d",t.damage_dice," ",t.damage_type,"; ",20!==t.critical_range?t.critical_range+"-20/":null,"x",t.critical,"; ",!!t.range&&r.a.createElement(r.a.Fragment,null,r.a.createElement("strong",null,"Range")," ",t.range," ft.")),r.a.createElement("br",null),r.a.createElement("div",{style:{marginBottom:"1%",paddingBottom:".8%",borderBottom:"double"}}),!!e.cw.description&&r.a.createElement(r.a.Fragment,null,r.a.createElement("em",null,a(null===(s=e.cw)||void 0===s?void 0:s.description)),r.a.createElement("br",null)),a(t.description))}())})),fe=a(28),ge=a.n(fe),be=a(34),ve=(F.getState,F.dispatch),ye=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return ve({type:"BONUS",bonus:e,remove:t})},Ee=function(e){return ve({type:"ADD MOVEMENT",movement:e})},ke=function(e,t){return ve({type:"ACTIVE FEATURE",featureSource:e,options:t})},we=function(e){return ve({type:"ADJUST STATUS CONDITION",conditions:e})},_e=function(e){var t=Ke(),a=Object(j.a)(Object(j.a)({},e.source),{},{condition:e.condition});switch(e.condition){case"Fatigued":t.bonuses.push(et({statistic:"strength",bonus:-2,bonus_type:"untyped",duration:"temporary",specific_statistic:null,bonus_multiplier:null,bonus_multiplier_based_on_feature_level:null},a)),t.bonuses.push(et({statistic:"dexterity",bonus:-2,bonus_type:"untyped",duration:"temporary",specific_statistic:null,bonus_multiplier:null,bonus_multiplier_based_on_feature_level:null},a)),t.forbidden.push(rt("Run",a)),t.forbidden.push(rt("Charge",a))}t.bonuses.forEach((function(e){ye(e)})),t.forbidden.forEach((function(e){!function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];ve({type:"FORBIDDEN",forbidden:e,remove:t})}(e)}))},Ce=(F.getState,F.dispatch),Se=function(e){return Ce({type:"SUBSCRIBE WEBSOCKET",websocket:e})},Oe=function(e,t,a){var n,r=F.getState().character;switch(e.itemType){case"item":n="items";break;case"poison":n="poisons";break;case"weapon":n="character_weapons";break;case"armor":n="character_armors";break;case"magic_item":n="character_magic_items";break;case"potion":n="character_potions";break;case"scroll":n="character_scrolls";break;case"wand":n="character_wands"}var l=Object(S.a)(r[n]);(null===a||void 0===a?void 0:a.knownItem)&&(l=l.filter((function(t){return t.id!==e.data.id}))),l.push(e.data),de(n,l)},je=function(e,t,a){var n,r,l;switch(e.itemType){case"item":n="items";break;case"poison":n="poisons";break;case"weapon":n="character_weapons";break;case"armor":n="character_armors";break;case"magic_item":n="character_magic_items";break;case"potion":n="character_potions";break;case"scroll":n="character_scrolls";break;case"wand":n="character_wands"}ie("".concat(n,"_discovered/").concat(e.data.id)).then((function(e){console.log(e.message||"Successful Item Discovered!")})),r=n,l=e.data.id,ce({type:"DISCOVER EQUIPMENT",detail:r,id:l})},Ae=function(){var e=Object(be.a)(ge.a.mark((function e(t,a){var n,r,l;return ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Object(j.a)({},F.getState().websocket),n=(null===a||void 0===a?void 0:a.dm)?a.websocketCode:null===(l=t.campaign)||void 0===l?void 0:l.websocket_code,void 0!==r.cable){e.next=4;break}return e.abrupt("return",null);case 4:return e.next=6,Object(j.a)({},r).cable.subscriptions.create({channel:"CampaignsChannel",campaign_code:n},{connected:function(){console.log("connected!"),console.log(r),t&&r.campaign.send({character_id:t.id,message:"My name is ".concat(t.name)}),(null===a||void 0===a?void 0:a.dm)&&r.campaign.send({message:"Hey, the DM is here!"})},received:function(e){console.log("received websocket data",e.data),Ie(e.data)}});case 6:r.campaign=e.sent,Se(r);case 8:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),Te=function(e,t,a){var n=Object(j.a)({},F.getState()),r=n.websocket,l=n.character;console.log("CATCHING OUTGOING CONNECTIONS",e),r.campaign.send({sender_id:l.id,payload:e,source:t,options:a})},Ie=function(e){console.log("CATCHING INCOMING CONNECTIONS",e);var t=e.sender_id,a=e.payload,n=e.source,r=e.options,l=F.getState(),i=l.character,o=l.notifications,c=l.storedNotifications;if(t){if(t===i.id)return null;if(a.participatingPlayer&&!i.id)return Ne(e);var s=i.campaign.characters.find((function(e){return e.id===t}));if(r.toggleable||Ze(a,Object(j.a)(Object(j.a)({},n),{},{senderName:s.name,senderId:t}),r),r.remove){var u=Object(S.a)(o);u=u.filter((function(e){return!e.message.includes(s.name)&&!e.message.includes(n.sourceName)}));var d={message:"".concat(s.name," revoked the abilities of ").concat(n.sourceName,".")};u.push(d),L(u);var m=Object(S.a)(c);m=m.filter((function(e){return e.source.sourceName!==n.sourceName&&e.source.senderName!==s.name})),B(m)}else{var h=Object(S.a)(o),p="".concat(s.name," gave you the abilities of ").concat(n.sourceName,".");r.toggleable&&(p+=" Are you able to accept it?");var f={message:p};r.toggleable&&(f.toggleable={payload:a,source:Object(j.a)(Object(j.a)({},n),{},{senderName:s.name,senderId:t}),options:r}),h.push(f),L(h)}}else if(null===a||void 0===a?void 0:a.askForInitiative){var g=F.getState(),b=g.character,v=g.notifications;g.storedNotifications;if(b.id){console.log(a,n),Te({participatingPlayer:!0,name:b.name});var y=Object(S.a)(v),E={message:a.message};y.push(E),L(y)}}else if((null===n||void 0===n?void 0:n.dm)&&(console.log("MADE CONTACT FROM THE DM"),a.reciever_id===i.id)){var k=Object(S.a)(o);if(null===r||void 0===r?void 0:r.knownItem){var w={message:a.message};k.push(w),L(k),Oe(a,0,r)}else if(a.itemType){var _={message:"The DM gave you an item!"};r.toggleable&&(_.toggleable={payload:a,source:Object(j.a)({},n),options:Object(j.a)(Object(j.a)({},r),{},{acceptOnly:!0})}),k.push(_),L(k),Oe(a,0,r)}}},Ne=function(e){e.sender_id,e.payload,e.source,e.options},De=function(e){return F.getState().character[e.source].find((function(t){return t.id===e.sourceId}))},Me=function(e,t){return e.features.find((function(e){return e.id===t}))},xe=function(e){var t=De(e);return{feature:Me(t,e.featureId),ability:t}},Fe=function(e){switch(parseInt(e)){case 1:return"1st";case 2:return"2nd";case 3:return"3rd";default:return"".concat(e,"th")}},Re=function(e){var t,a=F.getState().character_info.classes.find((function(t){return t.id===e}));return null!==(t=null===a||void 0===a?void 0:a.level)&&void 0!==t?t:null},Pe=function(e){return"".concat(e.num_of_dice,"d").concat(e.damage_dice)},Le=function(e){return e?"positive"===e||"negative"===e?Z.a.capitalize(e.substring(0,3)):Z.a.capitalize(e[0]):null},Be=function(e){for(var t=[],a=function(a){var n=e.filter((function(e){return e.spell_level===a}));t.push(n.sort((function(e,t){return e.name.localeCompare(t.name)})))},n=0;n<10;n++)a(n);return t=t.flat()},He=function(e,t,a,n){var l=[e];return t.forEach((function(e){for(var t=e.name.toLowerCase(),n=0;n<l.length;n++)if("string"===typeof l[n]&&l[n].includes(t)){var i=l[n].split(t);i.splice(1,0,r.a.createElement("em",{key:3*n+1,className:"underline-hover",onClick:function(){return a(e)}},t)),l[n]=i,l=l.flat()}})),r.a.createElement("span",null,l)},We=function(e){return Math.floor((e-10)/2)},qe=function(e){return e<0?e:"+".concat(e)},ze=function(e){var t=[],a=[];if(e.includes("<table>"))for(var n=e.split("<table>"),l=0;l<n.length;l++)if(n[l].includes("</table>")){var i=n[l].split("</table>"),o=Ue(i[0]);a.push(o),t.push("{{".concat(a.length-1,"}}")),t.push(i[1])}else t.push(n[l]);else t.push(e);var c=[];return t.forEach((function(e){if(e.includes("{{")&&e.includes("}}"))c.push(e);else{var t=e.split("\n\n");c=[].concat(Object(S.a)(c),Object(S.a)(t))}})),c=c.map((function(e){if(e.includes("{{")&&e.includes("}}")){var t=e.replace("{{","");return t=t.replace("}}",""),t=parseInt(t),a[t]}return r.a.createElement("p",{key:Z.a.random(1,2e6)},Ge(e))}))},Ue=function(e){var t=e.slice(7,-8);t.trim();var a=(t=t.split("</tr>")).map((function(e){var t=(e=e.trim()).indexOf("<tr>");(e=e.substr(t+4,e.length-1)).startsWith(">")&&(e=e.substring(1));var a=e.includes("<th>")?"<th>":"<td>",n=e.split(a);return n=n.map((function(e){if(""===(e=e.trim()))return null;var t=e.substr(0,e.length-5);return"<th>"===a?r.a.createElement("th",null,t):r.a.createElement("td",null,t)})),r.a.createElement("tr",null,n)}));return r.a.createElement("table",{className:"generic-table"},a)},Ge=function(e){var t=[e];return t.find((function(e){return"string"===typeof e&&e.includes("<underline>")}))&&(t=t.map((function(e){if(e.includes("<underline>")){var t=[],a=e.split("<underline>"),n=a[1].split("</underline>");return t.push(a[0]),t.push(r.a.createElement("span",{className:"underline"},n[0])),t.push(n[1]),t}return e}))),t},Ye=function(e){var t=e.split(" ");return(t=t.map((function(e){return e[0].toUpperCase()}))).join("")},Ke=function(){return{bonuses:[],displayDescriptions:[],effects:[],features:[],forbidden:[],proficiencies:{weapon:{groups:[],individualIds:[]},armor:{groups:[],individualIds:[]}},movement:[],statusConditions:[],summonedAllies:[]}},Ve=function(e){var t=!1;if(["skill_bonuses","stat_bonuses","display_descriptions","conditions","languages","movements","weapon_proficiencies","armor_proficiencies"].forEach((function(a){e[a].length&&(t=!0)})),e.action){["castable_spells"].forEach((function(a){e[a].length&&(t=!0)}))}return t},Je=function(e,t){var a,n,r,l=Ke(),i=null===(a=F.getState().character_info)||void 0===a||null===(n=a.classes)||void 0===n?void 0:n.reduce((function(e,t){return e+t.level}),0),o=(null!==t&&void 0!==t?t:{}).specific_feature_id_to_be_updated;e.applicable_klass_features.forEach((function(t){t.features.forEach((function(a){if(!a.action&&!a.usage&&(!o||o&&a.id!==o)){var n=e.character_choices.find((function(e){return e.feature_id===a.id}));if(n){var r=a.character_choices[0];n.column=r.column,n.sub_feature=r.sub_feature}Xe(a,l,{sourceId:t.id,source:"applicable_klass_features",featureId:a.id},{characterLevel:i,klassId:t.klass_id,characterChoice:n})}}))})),e.character_magic_items.forEach((function(e){e.magic_item.features.forEach((function(t){t.action||Xe(t,l,{sourceId:e.id,source:"character_magic_items",featureId:t.id},{characterLevel:i})}))})),l.bonuses.forEach((function(e){ye(e)})),l.movement.push({movement:"Base",feet:30,bonus:!1,penalty:!1}),l.movement.forEach(Ee),r=l.proficiencies,ve({type:"NEW PROFICIENCY",proficiencies:r}),ue("displayDescriptions",l.displayDescriptions)},Qe=function e(t,a){var n=Ke(),r={featureId:t.id,sourceId:t.sourceId,source:t.source},l=F.getState().character_info,i=l.activeFeatures,o=l.classes,c=i.length,s=o.reduce((function(e,t){return e+t.level}),0);if(t.action&&t.castable_spells.length&&t.castable_spells.forEach((function(t){t.spell.features.length&&t.spell.features.forEach((function(a){e(a,{featureName:t.spell.name})}))})),Xe(t,n,r,{characterLevel:s}),ke(r),(i=F.getState().character_info.activeFeatures).length>c){if(n.bonuses.forEach((function(e){if("Hit Points"===e.statistic&&"temporary"===e.bonus_type){var t=F.getState(),a={source:Object(j.a)({},e.source)},n=t.character[e.source.source].find((function(t){return t.id===e.source.sourceId})),r=t.character_info.classes.find((function(e){return e.id===n.klass_id})).level;a.bonus=e.bonus*r,function(e){ve({type:"ADD TEMP HP",tempHP:e})}(a)}else ye(e)})),t.applications.find((function(e){return e.affects_allies}))){var u=Object(j.a)({},n),d=De(r),m={sourceName:d.name,sourceId:d.id,featureName:t.name,featureId:t.id},h={additive:!0,toggleable:!!t.applications.find((function(e){return e.toggleable}))};d.klass_id&&(m.klassId=d.klass_id),Te(u,m,h)}}else{if(n.bonuses.forEach((function(e){"Hit Points"===e.statistic&&"temporary"===e.bonus_type?function(e){ve({type:"REMOVE TEMP HP",source:e})}(e.source):ye(e,!0)})),t.applications.find((function(e){return e.affects_allies}))){var p=Object(j.a)({},n),f=De(r),g={sourceName:f.name,sourceId:f.id,featureName:t.name,featureId:t.id};f.klass_id&&(g.klassId=f.klass_id),Te(p,g,{remove:!0,additive:!1})}if(n.statusConditions.forEach((function(e){var t=Object(S.a)(F.getState().character_info.statusConditions);t=t.filter((function(t){return t.condition!==e.condition})),we(t),function(e){var t=Object(j.a)({},F.getState().character_info),a=t.bonuses.filter((function(t){return t.source.condition!==e.condition}));ue("bonuses",a);var n=t.forbidden.filter((function(t){return t.source.condition!==e.condition}));ue("forbidden",n)}(e)})),t.after){var b=F.getState().character[t.source].find((function(e){return e.id===t.sourceId})).features.filter((function(e){return e.after}));n=Ke(),b.forEach((function(e){r={featureId:e.id,sourceId:t.sourceId,source:t.source},Xe(e,n,r,{characterLevel:s})})),n.statusConditions.forEach((function(e){var t=Object(S.a)(F.getState().character_info.statusConditions);Object(S.a)(t).map((function(e){return e.condition})).includes(e.condition)?t=t.filter((function(t){return t.condition!==e.condition})):t.push(e),ke(e.source),we(t),_e(e)}))}}},Ze=function(e,t,a){var n=e;ke(t,a),e.itemType?je(e):a.remove?n.bonuses.forEach((function(e){ye(e,!0)})):n.bonuses.forEach((function(e){ye(e)}))},Xe=function(e,t,a,n){var r,l,i=n.characterLevel,o=n.klassId,c=n.characterChoice,s=null===(r=F.getState().character_info.classes)||void 0===r||null===(l=r.find((function(e){return e.id===o})))||void 0===l?void 0:l.level;e.skill_bonuses.forEach((function(e){t.bonuses.push($e(e,a))})),e.stat_bonuses.forEach((function(e){(!e.applicable_level||e.applicable_level<=i)&&t.bonuses.push(et(e,a))})),e.movements.forEach((function(n){t.movement.push(tt(n,a,e.usage,e.applications,e.conditions))})),e.armor_proficiencies.forEach((function(e){at(e,a,t.proficiencies.armor,{characterChoice:c})})),e.weapon_proficiencies.forEach((function(e){at(e,a,t.proficiencies.weapon,{characterChoice:c})})),e.status_conditions.forEach((function(e){t.statusConditions.push(nt(e,a))})),e.display_descriptions.forEach((function(e){(!e.applicable_level||e.applicable_level<=s)&&t.displayDescriptions.push(lt(e,a))})),e.animal&&"summoned"===e.animal.animal_type&&P("summonedAllies",e.animal,{name:"Creature List"})},$e=function(e,t){return{type:"skill",skill_id:e.skill_id,bonus:e.bonus,bonus_type:e.bonus_type,duration:e.duration,bonus_multiplier:e.bonus_multiplier,bonus_multiplier_based_on_feature_level:e.bonus_multiplier_based_on_feature_level,custom:e.custom,minimum_bonus:e.minimum_bonus,round_down:e.round_down,specific_statistic:e.specific_statistic,source:t}},et=function(e,t){return{type:"stat",statistic:e.statistic,bonus:e.bonus,bonus_type:e.bonus_type,duration:e.duration,specific_statistic:e.specific_statistic,bonus_multiplier:e.bonus_multiplier,bonus_multiplier_based_on_feature_level:e.bonus_multiplier_based_on_feature_level,source:t}},tt=function(e,t,a,n,r){var l=e.movement,i=e.feet,o=e.bonus,c=e.penalty,s=e.permanent;return s?{movement:l,feet:i,bonus:o,penalty:c,permanent:s,usage:a,applications:n,conditions:r,source:t}:{}},at=function(e,t,a,n){n.characterChoice&&e.player_choice&&null===e[n.characterChoice.column]&&(e[n.characterChoice.column]=parseInt(n.characterChoice.choice),t=Object(j.a)(Object(j.a)({},t),{},{characterChoiceId:n.characterChoice.id})),e.proficiency_group&&a.groups.push({source:t,proficiency_group:e.proficiency_group,additive:e.additive}),e.armor_id&&a.individualIds.push({source:t,armor_id:e.armor_id,additive:e.additive}),e.weapon_id&&a.individualIds.push({source:t,weapon_id:e.weapon_id,additive:e.additive})},nt=function(e,t){return{condition:e.condition,source:t}},rt=function(e,t){return{forbidden:e,source:t}},lt=function(e,t){return{access_alignment:e.access_alignment,description:e.description,title:e.title,source:t}},it=function(e){var t,a;if(!e.usage||!e.usage.limit&&!e.usage.base_limit)return null;var n=ot(null!==(t=null===(a=e.baseFeatureAndAbility)||void 0===a?void 0:a.feature.usage)&&void 0!==t?t:e.usage,e.klassId,{klassArchetypeId:e.klassArchetypeId}),r=ct(e.usageSources);return"".concat(n-r,"/").concat(n)},ot=function(e,t,a){var n,r,l=0,i=F.getState(),o=i.character_info.ability_scores,c=null!==(n=null===(r=i.character_info.classes.find((function(e){if(t)return e.id===t;if(a.klassArchetypeId){var n=i.character.archetypes.find((function(e){return e.id===a.klassArchetypeId}));return e.id===n.klass_id}})))||void 0===r?void 0:r.level)&&void 0!==n?n:0;return e.limit?e.limit:(l+=e.base_limit,e.base_limit_modifier&&(l+=X(o[e.base_limit_modifier])),c>1&&(l+=e.limit_increase_per_level*(c-1)),0===e.base_limit&&e.limit_increase_per_level<1&&(l+=e.limit_increase_per_level),e.minimum_limit>l&&(l=e.minimum_limit),l=Math.floor(l))},ct=function(e){return 0===e.length?0:1===e.length?e[0].current_usage:void e.length},st=function(e){var t,a;return e.usage&&(e.usage.limit||e.usage.base_limit)?ot(null!==(t=null===(a=e.baseFeatureAndAbility)||void 0===a?void 0:a.feature.usage)&&void 0!==t?t:e.usage,e.klassId,{klassArchetypeId:e.klassArchetypeId})-ct(e.usageSources):1e3},ut=function(){var e=Object(be.a)(ge.a.mark((function e(t){var a,n,r,l,i;return ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(st(t)>0)){e.next=6;break}return a=1===t.usageSources.length&&t.usageSources[0],e.next=4,mt(a,1,pt(t.source,{klassArchetypeId:t.klassArchetypeId}));case 4:e.next=8;break;case 6:(r=(null===(n=t.usage)||void 0===n?void 0:n.all_feature_usage_options)||[]).length?(l=F.getState(),i=l.character_info,r.forEach((function(e){var t;i.activeFeatures.find((function(t){return t.featureId===e.optionSource.featureId&t.sourceId===e.optionSource.sourceId&&t.source===e.optionSource.source}))&&Qe(Object(j.a)(Object(j.a)({},(t=e.optionSource,Me(De(t),t.featureId))),{},{sourceId:e.optionSource.sourceId,klassId:e.optionSource.feature,source:"applicable_klass_features"}))}))):Qe(t);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),dt=function(){var e=Object(be.a)(ge.a.mark((function e(t){var a;return ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=1===t.usageSources.length&&t.usageSources[0]).current_usage){e.next=4;break}return e.next=4,mt(a,-1,pt(t.source,{klassArchetypeId:t.klassArchetypeId}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),mt=function(){var e=Object(be.a)(ge.a.mark((function e(t,a,n){return ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ie(n,Object(j.a)(Object(j.a)({},t),{},{current_usage:t.current_usage+a})).then((function(e){ce({type:"ADJUST CHARACTER REPLACE VALUE IN ARRAY",adjust:n,value:e})}));case 2:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),ht=function(e){var t=!1;return F.getState().character_info.activeFeatures.forEach((function(a){var n;a.featureId===e.id&&a.sourceId===e.sourceId&&a.source===e.source&&(t=!0),((null===(n=e.usage)||void 0===n?void 0:n.all_feature_usage_options)||[]).forEach((function(a){a.optionSource.featureId===e.id&&a.optionSource.sourceId===e.sourceId&&a.optionSource.source===e.source&&(t=!0)}))})),t},pt=function(e,t){switch(e){case"applicable_klass_features":return t.klassArchetypeId?"character_klass_archetype_feature_usages":"character_klass_feature_usages";case"klass_specializations":return"character_klass_specialization_feature_usages";default:return null}},ft=Object(h.b)((function(e){return{currentUser:e.currentUser,admin:e.admin,character:e.character,character_info:e.character_info}}))((function(e){var t,a=r.a.useState(null),n=Object(U.a)(a,2),l=n[0],i=n[1];r.a.useEffect((function(){i(e.feature)}));var o=function(t){if(l.usageSources.length||l.usageSources.push({character_id:e.character.id,klass_feature_id:l.sourceId,feature_usage_id:l.usage.id,current_usage:0}),"+"===t&&l.usageSources[0].current_usage){dt(l);var a=Object(j.a)({},l);a.usageSources[0].current_usage-=1,i(a)}else if("-"===t&&st(l)){ut(l);var n=Object(j.a)({},l);n.usageSources[0].current_usage+=1,i(n)}};return r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",null,"Remaining: ",l&&st(l)),function(){if("Robby"===e.character.name)return r.a.createElement(r.a.Fragment,null,r.a.createElement("h4",null,"Regain Panache"),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("em",null,r.a.createElement("u",null,"Critical Hit with a Light or One-Handed Piercing Melee Weapon:"))," Each time you confirm a critical hit with a light or one-handed piercing melee weapon, you regain 1 panache point. Confirming a critical hit on a helpless or unaware creature or a creature that has fewer Hit Dice than half your character level doesn\u2019t restore panache."),r.a.createElement("li",null,r.a.createElement("em",null,r.a.createElement("u",null,"Killing Blow with a Light or One-Handed Piercing Melee Weapon:"))," When you reduces a creature to 0 or fewer hit points with a light or one-handed piercing melee weapon attack while in combat, you regain 1 panache point. Destroying an unattended object, reducing a helpless or unaware creature to 0 or fewer hit points, or reducing a creature that has fewer Hit Dice than half your character level to 0 or fewer hit points doesn\u2019t restore panache.")))}(),r.a.createElement("button",{className:l&&!(null===(t=l.usageSources[0])||void 0===t?void 0:t.current_usage)?"inactive-button":"",onClick:function(){return o("+")}},"+"),r.a.createElement("button",{className:l&&!st(l)?"inactive-button":"",onClick:function(){return o("-")}},"-"))})),gt=(F.getState,F.dispatch),bt=function(e,t,a){return gt({type:"MODAL",detail:e,obj:t,remove:a})},vt=function(e){return gt({type:"UPDATE STORED NOTIFICATIONS",notifications:e})},yt=function(e){return F.getState().character[e.source].find((function(t){return t.id===e.sourceId}))},Et=function(e,t){return e.features.find((function(e){return e.id===t}))},kt=function(e){switch(parseInt(e)){case 1:return"1st";case 2:return"2nd";case 3:return"3rd";default:return"".concat(e,"th")}},wt=(F.getState,F.dispatch),_t=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return wt({type:"BONUS",bonus:e,remove:t})},Ct=function(e,t){return wt({type:"ACTIVE FEATURE",featureSource:e,options:t})},St=function(e){return wt({type:"ADJUST STATUS CONDITION",conditions:e})},Ot=(F.getState,F.dispatch),jt=function(e,t,a){return Ot({type:"ADJUST CHARACTER INFO",adjust:e,value:t})},At=function(e,t){return Ot({type:"ADJUST CHARACTER",adjust:e,value:t})},Tt=function(e){return Ot({type:"TRIGGER ACTION",action:e})},It=function(e){var t=Dt(),a=Object(j.a)(Object(j.a)({},e.source),{},{condition:e.condition});switch(e.condition){case"Fatigued":t.bonuses.push(Pt({statistic:"strength",bonus:-2,bonus_type:"untyped",duration:"temporary",specific_statistic:null,bonus_multiplier:null,bonus_multiplier_based_on_feature_level:null},a)),t.bonuses.push(Pt({statistic:"dexterity",bonus:-2,bonus_type:"untyped",duration:"temporary",specific_statistic:null,bonus_multiplier:null,bonus_multiplier_based_on_feature_level:null},a)),t.forbidden.push(Wt("Run",a)),t.forbidden.push(Wt("Charge",a))}t.bonuses.forEach((function(e){_t(e)})),t.forbidden.forEach((function(e){!function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];wt({type:"FORBIDDEN",forbidden:e,remove:t})}(e)}))},Nt=(F.getState,F.dispatch,function(e,t,a){var n=Object(j.a)({},F.getState()),r=n.websocket,l=n.character;r.campaign.send({sender_id:l.id,payload:e,source:t,options:a})}),Dt=function(){return{bonuses:[],displayDescriptions:[],effects:[],features:[],forbidden:[],proficiencies:{weapon:{groups:[],individualIds:[]},armor:{groups:[],individualIds:[]}},movement:[],statusConditions:[]}},Mt=function(e,t){var a=Dt(),n={featureId:e.id,sourceId:e.sourceId,source:e.source},r=F.getState().character_info,l=r.activeFeatures,i=r.classes,o=l.length,c=i.reduce((function(e,t){return e+t.level}),0);if(Ft(e,a,n,{characterLevel:c}),Ct(n),(l=F.getState().character_info.activeFeatures).length>o){if(a.bonuses.forEach((function(e){if("Hit Points"===e.statistic&&"temporary"===e.bonus_type){var t=F.getState(),a={source:Object(j.a)({},e.source)},n=t.character[e.source.source].find((function(t){return t.id===e.source.sourceId})),r=t.character_info.classes.find((function(e){return e.id===n.klass_id})).level;a.bonus=e.bonus*r,function(e){wt({type:"ADD TEMP HP",tempHP:e})}(a)}else _t(e)})),e.applications.find((function(e){return e.affects_allies}))){var s=Object(j.a)({},a),u=yt(n),d={sourceName:u.name,sourceId:u.id,featureName:e.name,featureId:e.id},m={additive:!0,toggleable:!!e.applications.find((function(e){return e.toggleable}))};u.klass_id&&(d.klassId=u.klass_id),Nt(s,d,m)}}else{if(a.bonuses.forEach((function(e){"Hit Points"===e.statistic&&"temporary"===e.bonus_type?function(e){wt({type:"REMOVE TEMP HP",source:e})}(e.source):_t(e,!0)})),e.applications.find((function(e){return e.affects_allies}))){var h=Object(j.a)({},a),p=yt(n),f={sourceName:p.name,sourceId:p.id,featureName:e.name,featureId:e.id};p.klass_id&&(f.klassId=p.klass_id),Nt(h,f,{remove:!0,additive:!1})}if(a.statusConditions.forEach((function(e){var t=Object(S.a)(F.getState().character_info.statusConditions);t=t.filter((function(t){return t.condition!==e.condition})),St(t),function(e){var t=Object(j.a)({},F.getState().character_info),a=t.bonuses.filter((function(t){return t.source.condition!==e.condition}));jt("bonuses",a);var n=t.forbidden.filter((function(t){return t.source.condition!==e.condition}));jt("forbidden",n)}(e)})),!e.after){var g=F.getState().character[e.source].find((function(t){return t.id===e.sourceId})).features.filter((function(e){return e.after}));a=Dt(),g.forEach((function(t){n={featureId:t.id,sourceId:e.sourceId,source:e.source},Ft(t,a,n,{characterLevel:c})})),a.statusConditions.forEach((function(e){var t=Object(S.a)(F.getState().character_info.statusConditions);Object(S.a)(t).map((function(e){return e.condition})).includes(e.condition)?t=t.filter((function(t){return t.condition!==e.condition})):t.push(e),Ct(e.source),St(t),It(e)}))}}},xt=function(e,t,a){var n=e;Ct(t,a),a.remove?n.bonuses.forEach((function(e){_t(e,!0)})):n.bonuses.forEach((function(e){_t(e)}))},Ft=function(e,t,a,n){var r,l,i=n.characterLevel,o=n.klassId,c=n.characterChoice,s=null===(r=F.getState().character_info.classes)||void 0===r||null===(l=r.find((function(e){return e.id===o})))||void 0===l?void 0:l.level;e.skill_bonuses.forEach((function(e){t.bonuses.push(Rt(e,a))})),e.stat_bonuses.forEach((function(e){(!e.applicable_level||e.applicable_level<=i)&&t.bonuses.push(Pt(e,a))})),e.movements.forEach((function(n){t.movement.push(Lt(n,a,e.usage,e.applications,e.conditions))})),e.armor_proficiencies.forEach((function(e){Bt(e,a,t.proficiencies.armor,{characterChoice:c})})),e.weapon_proficiencies.forEach((function(e){Bt(e,a,t.proficiencies.weapon,{characterChoice:c})})),e.status_conditions.forEach((function(e){t.statusConditions.push(Ht(e,a))})),e.display_descriptions.forEach((function(e){(!e.applicable_level||e.applicable_level<=s)&&t.displayDescriptions.push(qt(e,a))}))},Rt=function(e,t){return{type:"skill",skill_id:e.skill_id,bonus:e.bonus,bonus_type:e.bonus_type,duration:e.duration,bonus_multiplier:e.bonus_multiplier,bonus_multiplier_based_on_feature_level:e.bonus_multiplier_based_on_feature_level,custom:e.custom,minimum_bonus:e.minimum_bonus,round_down:e.round_down,specific_statistic:e.specific_statistic,source:t}},Pt=function(e,t){return{type:"stat",statistic:e.statistic,bonus:e.bonus,bonus_type:e.bonus_type,duration:e.duration,specific_statistic:e.specific_statistic,bonus_multiplier:e.bonus_multiplier,bonus_multiplier_based_on_feature_level:e.bonus_multiplier_based_on_feature_level,source:t}},Lt=function(e,t,a,n,r){var l=e.movement,i=e.feet,o=e.bonus,c=e.penalty,s=e.permanent;return s?{movement:l,feet:i,bonus:o,penalty:c,permanent:s,usage:a,applications:n,conditions:r,source:t}:{}},Bt=function(e,t,a,n){n.characterChoice&&e.player_choice&&null===e[n.characterChoice.column]&&(e[n.characterChoice.column]=parseInt(n.characterChoice.choice),t=Object(j.a)(Object(j.a)({},t),{},{characterChoiceId:n.characterChoice.id})),e.proficiency_group&&a.groups.push({source:t,proficiency_group:e.proficiency_group,additive:e.additive}),e.armor_id&&a.individualIds.push({source:t,armor_id:e.armor_id,additive:e.additive}),e.weapon_id&&a.individualIds.push({source:t,weapon_id:e.weapon_id,additive:e.additive})},Ht=function(e,t){return{condition:e.condition,source:t}},Wt=function(e,t){return{forbidden:e,source:t}},qt=function(e,t){return{access_alignment:e.access_alignment,description:e.description,title:e.title,source:t}},zt=function(e){return fetch("".concat(p,"/api/v1/").concat(e)).then((function(e){return e.json()}))},Ut=function(e,t){return fetch("".concat(p,"/api/v1/").concat(e),{method:"POST",headers:{"Content-Type":"application/json",Response:"application/json",Authenticate:localStorage.token},body:JSON.stringify(t)}).then((function(e){return e.json()}))},Gt=function(e,t){return fetch("".concat(p,"/api/v1/").concat(e),{method:"PATCH",headers:{"Content-Type":"application/json",Response:"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()}))},Yt=function(e){return fetch("".concat(p,"/api/v1/").concat(e),{method:"DELETE"}).then((function(e){return e.json()}))},Kt=function(e){var t,a;if(!e.usage)return null;var n=Vt(null!==(t=null===(a=e.baseFeatureAndAbility)||void 0===a?void 0:a.feature.usage)&&void 0!==t?t:e.usage,e.klassId,{klassArchetypeId:e.klass_archetype_id}),r=Jt(e.usageSources);return"".concat(n-r,"/").concat(n)},Vt=function(e,t,a){var n=0,r=F.getState(),l=r.character_info.ability_scores,i=r.character_info.classes.find((function(e){if(t)return e.id===t;if(a.klassArchetypeId){var n=r.character.archetypes.find((function(e){return e.id===a.klassArchetypeId}));return e.id===n.klass_id}})).level;return e.limit?e.limit:(n+=e.base_limit,e.base_limit_modifier&&(n+=X(l[e.base_limit_modifier])),i>1&&(n+=e.limit_increase_per_level*(i-1)),e.minimum_limit>n&&(n=e.minimum_limit),n)},Jt=function(e){return 0===e.length?0:1===e.length?e[0].current_usage:void e.length},Qt=function(e){var t,a;return e.usage?Vt(null!==(t=null===(a=e.baseFeatureAndAbility)||void 0===a?void 0:a.feature.usage)&&void 0!==t?t:e.usage,e.klassId)-Jt(e.usageSources):1e3},Zt=Object(h.b)((function(e){return{currentUser:e.currentUser,admin:e.admin,character:e.character,character_info:e.character_info}}))((function(e){var t={featureId:e.feature.id,source:e.feature.source,sourceId:e.feature.sourceId},a=function(t,a){var n={character_id:e.character.id,klass_feature_id:e.feature.sourceId,feature_usage_id:e.feature.usage.id,current_usage:Jt(e.character.character_klass_feature_usages.filter((function(t){return t.klass_feature_id===e.feature.sourceId})))+1};Gt("character_klass_feature_usages",n).then((function(a){e.dispatch({type:"ADJUST CHARACTER REPLACE VALUE IN ARRAY",adjust:"character_klass_feature_usages",value:a}),Mt(t)})),e.dispatch({type:"TRIGGER ACTION",action:a}),e.exitModal()};return r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",null,function(e){var t=yt(e);return Et(t,e.featureId).name||t.name}(t)," (",Kt(e.feature),")"),e.feature.usage.all_feature_usage_options.map((function(t){var n,l=function(e){var t=yt(e);return{feature:Et(t,e.featureId),ability:t}}(t.optionSource),i=l.feature,o=l.ability,c=i.name||o.name,s=function(e){switch(e){case"Standard Action":return"standard";case"Swift Action":return"swift";case"Move Action":return"move";case"Full-Round Action":return"full";case"Immediate Action":return"immediate";case"Free Action":return"free";default:return e}}((null===(n=i.action)||void 0===n?void 0:n.name)||e.feature.action.name);return r.a.createElement("li",{className:"noStyleLi"},r.a.createElement("button",{className:s,onClick:function(){return a(Object(j.a)(Object(j.a)({},i),{},{sourceId:t.optionSource.sourceId,source:t.optionSource.source}),s)}},"Activate")," ",c)})))})),Xt=function(e){var t=r.a.useState({}),a=Object(U.a)(t,2),n=a[0],l=a[1];r.a.useEffect((function(){e.spell.spell_list_spells?l(e.spell):zt("spells/".concat(e.spell.id)).then((function(e){return l(e.spell)}))}),[e.spell]);return console.log(n),n.id?r.a.createElement("ul",{id:"description-container",onScroll:function(e){console.log("scroll?")}},r.a.createElement("li",null,r.a.createElement("strong",null,n.name)),r.a.createElement("li",null,"School | ",n.magic_school.name," [",n.subschools.map((function(e){return e.name})).join(", "),"]"),r.a.createElement("li",null,"Level | ",n.spell_list_spells.map((function(e){return"".concat(e.spell_list.name.split(" ")[0]," ").concat(e.spell_level)})).join(", ")),r.a.createElement("li",null,r.a.createElement("strong",null,r.a.createElement("u",null,"Casting"))),r.a.createElement("li",null,"Casting Time | ",n.action.name),r.a.createElement("li",null,"Components | ",n.spell_components.map((function(e){return e.component.abbreviation})).join(", "),function(){if(n.spell_components.find((function(e){return null!==e.item}))){var e=n.spell_components.filter((function(e){return e.item})).map((function(e){return e.item})),t=Z.a.uniq(e);return" (".concat(t.join(", "),")")}return null}()),r.a.createElement("li",null,r.a.createElement("strong",null,r.a.createElement("u",null,"Effect"))),r.a.createElement("li",null,"Range | ",function(){var e=n.spell_range,t=[];return t.push(e.name),"Close"===e.name?t.push("(25 ft. + 5 ft./ 2 levels)"):"Medium"===e.name?t.push("(100 ft. + 10 ft./level)"):"Long"===e.name&&t.push("(400 ft. + 40 ft./level)"),t.join(" ")}()),r.a.createElement("li",null,"Target | ",n.target),r.a.createElement("li",null,"Duration | ",n.duration,n.dismissible?" (D)":null),r.a.createElement("li",null,"Saving Throw | ",n.saving_throw," | Spell Resistance | ",n.spell_resistance?"Yes":"No"),r.a.createElement("li",null,r.a.createElement("strong",null,r.a.createElement("u",null,"Description"))),r.a.createElement("li",null,n.description.split("\n\n").map((function(e){return r.a.createElement("p",null,e)})))):null},$t=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=aa(e);return t?a[0]:a[0]+a[1]},ea=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return X($t(e,t))},ta=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return ee(ea(e,t))},aa=function(e){var t=[],a=0,n=0,r=F.getState().character_info;return a=r.ability_scores[e],F.getState().character.any_bonus===e&&(a+=2),r.bonuses.forEach((function(t){t.statistic===e&&"temporary"===t.duration&&(n+=t.bonus)})),t.push(a),t.push(n),t},na=function(e){var t,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.action,r=F.getState().character_info.actions;return"standard"!==(n=ra(n.name))&&"move"!==n||!r.full?"full"===n&&(r.standard||r.move)||r[n]?"cannot-cast":a.spell||st(e)?!a.spell&&la(e)||a.spell&&!a.castAtWill&&(null===(t=sa(a.spellcasting,a.characterLevel).find((function(e){return e.spell_level===a.spellLevel})))||void 0===t?void 0:t.spells)<=0?"cannot-cast":n:"cannot-cast":"cannot-cast"},ra=function(e){switch(e){case"Standard Action":return"standard";case"Swift Action":return"swift";case"Move Action":return"move";case"Full-Round Action":return"full";case"Immediate Action":return"immediate";case"Free Action":return"free";case"no-action":return"no-action";default:return"long"}},la=function(e){var t,a,n=F.getState().character_info.statusConditions.map((function(e){return e.condition.toLowerCase()})),r=null!==(t=null===(a=e.conditions)||void 0===a?void 0:a.filter((function(e){return e.if_affected_by_condition})).map((function(e){return e.if_affected_by_condition.toLowerCase()})))&&void 0!==t?t:[];return!!Z.a.intersection(n,r).length},ia=function(){var e=Object(j.a)({},F.getState()).character;return Object(S.a)(e.applicable_klass_features).filter((function(e){var t=!1;return e.features.forEach((function(e){e.spellcasting&&(t=!0)})),t}))},oa=function(){var e=Object(j.a)({},F.getState()).character;return Object(S.a)(e.applicable_klass_features).filter((function(e){var t=!1;return e.features.forEach((function(e){e.bonus_spell_slot&&(t=!0)})),t}))},ca=function(e){var t,a,n=[],r=F.getState(),l=r.character,i=r.character_info.classes.find((function(t){return t.id===e.klass_id})).level,o=l.uniq_klasses.find((function(t){return t.id===e.klass_id})).name;return e.features.forEach((function(e){e.spellcasting&&(a=e.spellcasting,t=ea(a.ability_score),n=sa(a,i,t))})),{spellsPerDay:n,klassFeature:e,klassName:o,abilityScoreModifier:t,level:i,spellcasting:a}},sa=function(e,t){var a=F.getState(),n=a.character,r=(a.character_info,ea(e.ability_score)),l=e.prepared_spells_per_level.length?e.prepared_spells_per_level:e.spells_per_day_per_level,i=Object(S.a)(l).filter((function(e){return e.klass_level===t}));return Object(S.a)(i).map((function(e){var t=null,a=0;e.spell_level<=r&&(a=1);var l=0;return n.cast_spells.forEach((function(t){e.spell_level===t.spell_level&&l++})),n.prepared_spells.forEach((function(a){e.spell_level===a.spell_level&&a.cast&&!a.bonus_spell&&l++,e.spell_level===a.spell_level&&a.bonus_spell&&(t=!0),e.spell_level===a.spell_level&&a.bonus_spell&&a.cast&&(t="cast")})),Object(j.a)(Object(j.a)({},e),{},{spells:e.spells+a-l,bonusSpell:t})}))},ua=function(e,t){var a=F.getState().character,n=ma(e,t),r=a.character_known_spells;return console.log(n),n=n.map((function(e){var t=r.filter((function(t){return t.spellcasting.id===e.feature_spellcasting_id&&t.spell_list_spell.spell_level===e.spell_level})),a=e.spells-t.length;return a=a<0?0:a,Object(j.a)(Object(j.a)({},e),{},{spells:a})}))},da=function(e,t){var a=F.getState().character,n=sa(e,t),r=a.prepared_spells;return n=n.map((function(e){var t=r.filter((function(t){return t.feature_spellcasting_id===e.feature_spellcasting_id&&t.spell_level===e.spell_level})),a=e.spells-t.length;return a=a<0?0:a,Object(j.a)(Object(j.a)({},e),{},{spells:a})}))},ma=function(e,t){return e.known_spells_per_level.filter((function(e){return e.klass_level===t}))},ha=function(e,t){return e.spells_per_day_per_level.filter((function(e){return e.klass_level===t}))},pa=function(e,t){return e.prepared_spells_per_level.filter((function(e){return e.klass_level===t}))},fa=function(e,t){var a=e.spell_range.increase_per_level*t;return a%1!==0&&(a-=e.spell_range.increase_per_level),e.spell_range.feet+a===0?"Touch"===e.spell_range.name?"Touch":"-":Math.floor(e.spell_range.feet+a)+" ft"},ga=function(e,t){var a=e.time+e.increase_per_level*(t-1),n=e.unit_of_time;if(1!==a&&(n+="s"),0===a){if("instantaneous"===e.duration)return"instant.";if("concentration"===e.duration)return"concent."}var r=a+" "+n;return(e.concentration?"con./":"")+r+(e.dismissible?" (D)":"")},ba=function(e){if("none"===e.spell.saving_throw)return"-";var t=e.spell.saving_throw;"Fortitude"===t&&(t="Fort"),"Reflex"===t&&(t="Ref");var a=10+ea(e.spellcasting.ability_score)+e.spell_level;return"Conjuration"===e.spell.magic_school.name&&console.log("something increase DC something"),t+" "+a},va=function(e,t){if("cannot-cast"!==e.action)if(l=e.action,ce({type:"TRIGGER ACTION",action:l}),e.spellcasting.infinite_zero_level&&0===e.spellLevel)console.log("Zero-th level spell cast!");else{var a=t.find((function(t){return t.spell_level===e.spellLevel})),n=F.getState().character;if(a.spells>0||e.castableBonusSpell)if(e.spellcasting.expend_prepared_spells)le("cast_spells",{id:e.preparedSpellId,expend:!0}).then((function(t){var a=Object(S.a)(n.prepared_spells);a=a.map((function(t){return t.id===e.preparedSpellId?Object(j.a)(Object(j.a)({},t),{},{cast:!0}):t})),de("prepared_spells",a)}));else{var r={character_id:n.id,feature_spellcasting_id:e.spellcasting.id,spell_level:e.spellLevel};le("cast_spells",r).then((function(e){var t=Object(S.a)(n.cast_spells);t.push(r),de("cast_spells",t)}))}}var l},ya=function(e){var t=Object(h.d)((function(e){return e.character})),a=t.character_known_spells,n=t.id,l=r.a.useState("All"),i=Object(U.a)(l,2),o=i[0],c=i[1],s=r.a.useState([]),u=Object(U.a)(s,2),d=u[0],m=u[1],p=r.a.useState(""),f=Object(U.a)(p,2),g=f[0],b=f[1],v=r.a.useState(0),y=Object(U.a)(v,2),E=y[0],k=y[1],w=r.a.useState({characterKlassSpellId:0,spellListSpellId:0,spellId:0,dragging:!1}),_=Object(U.a)(w,2),C=_[0],O=_[1],A=r.a.useState(0),T=Object(U.a)(A,2),I=T[0],N=T[1],D=r.a.useState({}),M=Object(U.a)(D,2),x=M[0],F=M[1],R=r.a.useState(null),P=Object(U.a)(R,2),L=P[0],B=P[1];r.a.useEffect((function(){var t=e.spellcastingData.spellcasting;re("spells?spell_list_id=".concat(t.spell_list.id)).then((function(e){for(var a=e.map((function(e){return Object(j.a)(Object(j.a)({},e),{},{spell_level:e.spell_list_spells.find((function(e){return e.spell_list.id===t.spell_list.id})).spell_level})})),n=[],r=function(e){var t=a.filter((function(t){return t.spell_level===e}));n.push(t.sort((function(e,t){return e.name.localeCompare(t.name)})))},l=0;l<10;l++)r(l);n=n.flat(),m(n),N(t.spell_list.id),F(t)}))}),[]);var H=function(e){e.preventDefault();var t={spell_list_spell_id:C.spellListSpellId,feature_spellcasting_id:x.id,character_id:n};if(a.find((function(e){return e.spell.id===C.spellId}))){var r=a.find((function(e){return e.spell.id===C.spellId})).spell.name;B("You already know ".concat(r))}else le("known_spells",t).then((function(e){if(e.errors)B(e.errors[0]);else{var t=d.find((function(e){return e.id===C.spellId})),n=t.spell_list_spells.find((function(e){return e.id===C.spellListSpellId})),r={id:e.id,spell:t,spell_list_spell:n,spellcasting:x},l=Object(S.a)(a);l.push(r),a.push(r),de("character_known_spells",l)}}));O({spellListSpellId:0,spellId:0,dragging:!1})},W=function(e){e.preventDefault(),O({spellListSpellId:0,spellId:0,dragging:!1})};return r.a.createElement("section",{id:"known-spells-popup"},function(){var t=e.spellcastingData,n=t.level,l=t.spellcasting,i=ma(l,n),s=ua(l,n);0===s.length&&(s=function(e,t){return(e.prepared_spells_per_level.length?pa(e,t):ha(e,t)).map((function(e){return{spell_level:e.spell_level}}))}(l,n),i=Object(S.a)(s));var u=s.map((function(e){var t="";return e.spells>0&&(t="attention-button-animation"),r.a.createElement("button",{className:t,onClick:function(){return c(e.spell_level)}},e.spell_level)})),d=[];i.forEach((function(e){var t=e.spells||0,n=a.filter((function(t){return t.spell_list_spell.spell_level===e.spell_level}));t-=n.length,n.forEach((function(t){return d.push({spellLevel:e.spell_level,spellName:t.spell.name,spellId:t.spell.id,characterKnownSpellId:t.id})}));for(var r=0;r<t;r++)d.push({spellLevel:e.spell_level,spellName:"",spellId:0,characterKnownSpellId:0})})),u.unshift(r.a.createElement("button",{onClick:function(){return c("All")}},"All")),"All"!==o&&(d=d.filter((function(e){return parseInt(o)===e.spellLevel})));var m=d.map((function(e){return r.a.createElement("tr",null,r.a.createElement("td",null,e.spellLevel),r.a.createElement("td",null,r.a.createElement("em",{className:"underline-hover",onClick:function(){return k(e.spellId)}},e.spellName)),r.a.createElement("td",null,!!e.characterKnownSpellId&&r.a.createElement("button",{style:{color:"white",background:"red",fontSize:"0.9rem",border:"1px solid black",textAlign:"right",borderRadius:"6px"},onClick:function(){return t=e.characterKnownSpellId,void oe("known_spells/".concat(t)).then((function(e){var n=Object(S.a)(a).filter((function(e){return e.id!==t}));a=a.filter((function(e){return e.id!==t})),de("character_known_spells",n)}));var t}},"Remove")))})),h={gridArea:"known",overflowY:"scroll",position:"relative",border:"2px solid transparent"};return C.dragging&&(h.border="2px dashed black"),r.a.createElement("aside",{style:h,onDrop:H,onDragOver:function(e){return e.preventDefault()}},u,null,r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Lvl"),r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"Remove"))),r.a.createElement("tbody",null,m)))}(),function(){var t=e.spellcastingData.level,n=d.filter((function(e){var t=g.toLowerCase();return e.name.toLowerCase().includes(t)})),l=a.map((function(e){return e.spell.id})),i=n.map((function(e){var a,n=e.spell_level>t?"mobile-active-tab":"";l.includes(e.id)&&(n="mobile-active-tab");var i=null===(a=e.spell_list_spells.find((function(e){return e.spell_list.id===I})))||void 0===a?void 0:a.id;return r.a.createElement("tr",{className:n},r.a.createElement("td",null,e.spell_level),r.a.createElement("td",{draggable:"true",onDragStart:function(){return function(e,t){O(Object(j.a)(Object(j.a)({},C),{},{spellListSpellId:e,spellId:t,dragging:!0}))}(i,e.id)},onDragEnd:W},r.a.createElement("em",{className:"underline-hover",onClick:function(){return k(e.id)}},e.name)))}));return r.a.createElement("aside",{style:{gridArea:"all-spells",maxHeight:"100%",overflowY:"scroll",margin:"5px"}},r.a.createElement("label",{htmlFor:"spell-filter"},"Filter Spells"),r.a.createElement("input",{name:"spell-filter",id:"spell-filter",type:"text",value:g,onChange:function(e){return b(e.target.value)}}),r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Lvl"),r.a.createElement("th",null,"Name"))),r.a.createElement("tbody",null,i)))}(),function(){if(!E||!d.length)return r.a.createElement("aside",{style:{gridArea:"spell-description",display:"flex",justifyContent:"center",margin:"auto"}},r.a.createElement("strong",null,"Click on a spell to see details"));var e=d.find((function(e){return e.id===E}));return r.a.createElement("aside",{style:{gridArea:"spell-description",textAlign:"left",overflowY:"scroll"}},r.a.createElement(Xt,{spell:e}))}(),L?(setTimeout((function(){B(null)}),3e3),r.a.createElement("div",{style:{position:"fixed",zIndex:"1001",top:"45%",left:"40%",color:"white",background:"black",padding:"20px",width:"20%"}},L)):null)},Ea=function(e){var t=Object(h.d)((function(e){return e.character})),a=t.prepared_spells,n=t.id,l=t.character_known_spells,i=r.a.useState("All"),o=Object(U.a)(i,2),c=o[0],s=o[1],u=r.a.useState(""),d=Object(U.a)(u,2),m=d[0],p=d[1],f=r.a.useState([]),g=Object(U.a)(f,2),b=g[0],v=g[1],y=r.a.useState(0),E=Object(U.a)(y,2),k=(E[0],E[1],r.a.useState(0)),w=Object(U.a)(k,2),_=w[0],C=w[1],O=r.a.useState({}),A=Object(U.a)(O,2),T=A[0],I=A[1],N=r.a.useState({preparedSpellId:0,spellListSpellId:0,spellId:0,spellLevel:null,dragging:!1}),D=Object(U.a)(N,2),M=D[0],x=D[1];r.a.useEffect((function(){var t=e.spellcastingData.spellcasting;if(t.known_spell_list){var a=l.map((function(e){return Object(j.a)(Object(j.a)({},e.spell),{},{spell_level:e.spell_list_spell.spell_level})}));v(Be(a)),C(t.spell_list.id),I(t)}else re("spells?spell_list_id=".concat(t.spell_list.id)).then((function(e){var a=e.map((function(e){return Object(j.a)(Object(j.a)({},e),{},{spell_level:e.spell_list_spells.find((function(e){return e.spell_list.id===t.spell_list.id})).spell_level})})),n=Be(a);console.log(n),v(n),C(t.spell_list.id),I(t)}))}),[]);var F=function(e){e.preventDefault(),x({spellListSpellId:0,spellId:0,spellLevel:null,dragging:!1})},R=function(e){e.preventDefault(),console.log(M);var t={spell_list_spell_id:M.spellListSpellId,feature_spellcasting_id:T.id,character_id:n,spell_level:M.spellLevel};le("prepared_spells",t).then((function(e){if(e.errors);else{var t=b.find((function(e){return e.id===M.spellId})),n=t.spell_list_spells.find((function(e){return e.id===M.spellListSpellId})),r={id:e.id,spell:t,spell_list_spell:n,spellcasting:T,spell_level:M.spellLevel,cast:!1},l=Object(S.a)(a);l.push(r),a.push(r),de("prepared_spells",l)}})),x({spellListSpellId:0,spellId:0,spellLevel:null,dragging:!1})};return r.a.createElement("section",{id:"known-spells-popup"},function(){var t=e.spellcastingData,n=t.level,l=t.spellcasting,i=l.prepared_spells_per_level.length?pa(l,n):ha(l,n),o=da(l,n).map((function(e){var t="";return e.spells>0&&(t="attention-button-animation"),r.a.createElement("button",{className:t,onClick:function(){return s(e.spell_level)}},e.spell_level)}));o.unshift(r.a.createElement("button",{onClick:function(){return s("All")}},"All")),i=i.map((function(e){var t=ea(l.ability_score),a=0;return e.spell_level<=t&&(a=1),Object(j.a)(Object(j.a)({},e),{},{spells:e.spells+a})}));var u=[];i.forEach((function(e){var t=e.spells,n=a.filter((function(t){return t.spell_level===e.spell_level&&!t.bonus_spell}));t-=n.length,n.forEach((function(t){return u.push({spellLevel:e.spell_level,spellName:t.spell.name,spellId:t.spell.id,preparedSpellId:t.id,cast:t.cast})}));for(var r=0;r<t;r++)u.push({spellLevel:e.spell_level,spellName:"",spellId:0,preparedSpellId:0})})),"All"!==c&&(u=u.filter((function(e){return parseInt(c)===e.spellLevel})));var d=u.map((function(e){return r.a.createElement("tr",null,r.a.createElement("td",null,e.spellLevel),r.a.createElement("td",null,r.a.createElement("em",{className:"underline-hover",onClick:function(){return P("spellDescription",{id:e.spellId},{name:e.spellName})}},e.spellName)),r.a.createElement("td",null,!!e.preparedSpellId&&r.a.createElement("button",{style:{color:"white",background:"red",fontSize:"0.9rem",border:"1px solid black",textAlign:"right",borderRadius:"6px"},onClick:function(){return t=e.preparedSpellId,void oe("prepared_spells/".concat(t)).then((function(e){var n=Object(S.a)(a).filter((function(e){return e.id!==t}));a=a.filter((function(e){return e.id!==t})),de("prepared_spells",n)}));var t}},"Forget")),r.a.createElement("td",null,e.cast&&r.a.createElement("button",{onClick:function(){return t=e.preparedSpellId,n=e.cast,void ie("cast_spells/toggle_cast/".concat(t),{cast:!n}).then((function(e){var r=Object(S.a)(a);r=r.map((function(e){return e.id===t?Object(j.a)(Object(j.a)({},e),{},{cast:!n}):e})),de("prepared_spells",r)}));var t,n}},"Restore")))})),m={gridArea:"known",overflowY:"scroll",position:"relative",border:"2px solid transparent"};return M.dragging&&(m.border="2px dashed black"),r.a.createElement("aside",{style:m,onDrop:R,onDragOver:function(e){return e.preventDefault()}},o,r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Lvl"),r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"Forget Prepared Spell"),r.a.createElement("th",null,"UnCast"))),r.a.createElement("tbody",null,d)))}(),function(){var t=e.spellcastingData.level,n=b.filter((function(e){var t=m.toLowerCase();return e.name.toLowerCase().includes(t)})),l=a.map((function(e){return e.spell.id})),i=n.map((function(e){var a,n=e.spell_level>t?"mobile-active-tab":"";l.includes(e.id)&&(n="mobile-active-tab");var i=null===(a=e.spell_list_spells.find((function(e){return e.spell_list.id===_})))||void 0===a?void 0:a.id;return r.a.createElement("tr",{className:n},r.a.createElement("td",null,e.spell_level),r.a.createElement("td",{draggable:"true",onDragStart:function(){return function(e,t,a){x(Object(j.a)(Object(j.a)({},M),{},{spellListSpellId:e,spellId:t,spellLevel:a,dragging:!0}))}(i,e.id,e.spell_level)},onDragEnd:F},r.a.createElement("em",{className:"underline-hover",onClick:function(){return P("spellDescription",e,{name:e.name})}},e.name)))}));return r.a.createElement("aside",{style:{gridArea:"all-spells",maxHeight:"100%",overflowY:"scroll",margin:"5px"}},r.a.createElement("label",{htmlFor:"spell-filter"},"Filter Spells"),r.a.createElement("input",{name:"spell-filter",id:"spell-filter",type:"text",value:m,onChange:function(e){return p(e.target.value)}}),r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Lvl"),r.a.createElement("th",null,"Name"))),r.a.createElement("tbody",null,i)))}())},ka=function(e,t,a,n,r){return t.isNew?e[n][r].push({weapon_id:parseInt(a.choice),additive:!0,source:{characterChoiceId:a.id,featureId:a.feature_id,source:"applicable_klass_features",sourceId:t.sourceId}}):e[n][r]=e[n][r].map((function(e){return e.source.characterChoiceId===a.id?Object(j.a)(Object(j.a)({},e),{},{weapon_id:parseInt(a.choice)}):e})),e},wa=function(e){var t=r.a.useState(null),a=Object(U.a)(t,2),n=a[0],l=a[1],i=r.a.useState(null),o=Object(U.a)(i,2),c=o[0],s=o[1],u=r.a.useState(""),d=Object(U.a)(u,2),m=d[0],p=d[1];r.a.useEffect((function(){var t=null;"weapon_id"===e.choiceObj.specifics&&(t="weapons"),t&&zt(t).then((function(e){var t=e.sort((function(e,t){return e.name.localeCompare(t.name)}));l(t),s(t)}))}),[e.choiceObj.specifics]),r.a.useEffect((function(){if(n){var e=n.filter((function(e){return e.name.toLowerCase().includes(m.toLowerCase())}));s(e)}}),[m]);var f=Object(h.d)((function(e){return e.character})),g=e.choiceObj,b=g.feature,v=g.featureName,y=(g.klassName,g.specifics);y=Z.a.startCase(y),Z.a.endsWith(y," Id")&&(y=y.substring(0,y.length-3));var E=function(t){Ut("character_choice",{character_id:f.id,feature_id:b.id,choice:t}).then((function(t){var a=f.character_choices.filter((function(e){return e.id!==t.id}));a.push(t),At("character_choices",a),function(e,t){var a,n,r,l,i=F.getState().character_info;e.sub_feature.includes("proficiencies")&&(a="proficiencies",n=Object(j.a)({},i.proficiencies),"weapon_id"===e.specifics&&(r="weapon",l="individualIds"),n=ka(n,e,t,r,l));jt(a,n)}(e.choiceObj,t),e.exitModal()}))};return r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",null,v," ",y),n?r.a.createElement(r.a.Fragment,null,r.a.createElement("label",{htmlFor:"search-term"},"Filter:"),r.a.createElement("input",{type:"text",name:"search-term",id:"search-term",value:m,onChange:function(e){return p(e.target.value)}}),r.a.createElement("br",null)):null,c?c.map((function(e){var t=e.name;return f.character_choices.find((function(t){return t.feature_id===b.id&&parseInt(t.choice)===e.id}))&&(t=r.a.createElement("strong",null,t)),r.a.createElement("button",{onClick:function(){return E(e.id)}},t)})):b.character_choices.map((function(e){var t=Z.a.capitalize(e.option);return f.character_choices.find((function(t){return t.feature_id===b.id&&t.choice===e.option}))&&(t=r.a.createElement("strong",null,t)),r.a.createElement("button",{onClick:function(){return E(e.option)}},t)})))},_a=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=Sa(e);return t?a[0]:a[0]+a[1]},Ca=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return X(_a(e,t))},Sa=function(e){var t,a=[],n=0,r=F.getState().character_info;return t=r.ability_scores[e],r.bonuses.forEach((function(t){t.statistic===e&&"temporary"===t.duration&&(n+=t.bonus)})),a.push(t),a.push(n),a},Oa=function(e){var t,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.action,r=F.getState().character_info.actions;return"standard"!==(n=ja(n.name))&&"move"!==n||!r.full?"full"===n&&(r.standard||r.move)||r[n]?"cannot-cast":a.spell||Qt(e)?!a.spell&&Aa(e)||a.spell&&!a.castAtWill&&(null===(t=xa(a.spellcasting,a.spellLevel).find((function(e){return e.spell_level===a.spellLevel})))||void 0===t?void 0:t.spells)<=0?"cannot-cast":n:"cannot-cast":"cannot-cast"},ja=function(e){switch(e){case"Standard Action":return"standard";case"Swift Action":return"swift";case"Move Action":return"move";case"Full-Round Action":return"full";case"Immediate Action":return"immediate";case"Free Action":return"free";case"no-action":return"no-action";default:return"long"}},Aa=function(e){var t,a,n=F.getState().character_info.statusConditions.map((function(e){return e.condition.toLowerCase()})),r=null!==(t=null===(a=e.conditions)||void 0===a?void 0:a.filter((function(e){return e.if_affected_by_condition})).map((function(e){return e.if_affected_by_condition.toLowerCase()})))&&void 0!==t?t:[];return!!Z.a.intersection(n,r).length},Ta=function(){var e=Object(j.a)({},F.getState()).character;return Object(S.a)(e.applicable_klass_features).filter((function(e){var t=!1;return e.features.forEach((function(e){e.spellcasting&&(t=!0)})),t}))},Ia=function(){var e=Object(j.a)({},F.getState()).character;return Object(S.a)(e.applicable_klass_features).filter((function(e){var t=!1;return e.features.forEach((function(e){e.bonus_spell_slot&&(t=!0)})),t}))},Na=function(e){var t,a,n=null===(t=Ta().find((function(t){return t.klass_id===e&&t.features.find((function(e){return e.spellcasting}))})))||void 0===t||null===(a=t.features.find((function(e){return e.spellcasting})))||void 0===a?void 0:a.spellcasting,r=function(e){var t,a=F.getState().character_info.classes.find((function(t){return t.id===e}));return null!==(t=null===a||void 0===a?void 0:a.level)&&void 0!==t?t:null}(e);return n.spells_per_day_per_level.filter((function(e){return e.klass_level===r})).map((function(e){return e.spell_level}))},Da=function(){return Ta().map(Ma)},Ma=function(e){var t,a,n=[],r=F.getState(),l=r.character,i=r.character_info.classes.find((function(t){return t.id===e.klass_id})).level,o=l.uniq_klasses.find((function(t){return t.id===e.klass_id})).name;return e.features.forEach((function(e){e.spellcasting&&(a=e.spellcasting,t=Ca(a.ability_score),n=xa(a,i,t))})),{spellsPerDay:n,klassFeature:e,klassName:o,abilityScoreModifier:t,level:i,spellcasting:a}},xa=function(e,t){var a=F.getState(),n=a.character,r=(a.character_info,Ca(e.ability_score)),l=Object(S.a)(e.spells_per_day_per_level).filter((function(e){return e.klass_level===t}));return Object(S.a)(l).map((function(e){var t=null,a=0;e.spell_level<=r&&(a=1);var l=0;return n.cast_spells.forEach((function(t){e.spell_level===t.spell_level&&l++})),n.prepared_spells.forEach((function(a){e.spell_level===a.spell_level&&a.cast&&!a.bonus_spell&&l++,e.spell_level===a.spell_level&&a.bonus_spell&&(t=!0),e.spell_level===a.spell_level&&a.bonus_spell&&a.cast&&(t="cast")})),Object(j.a)(Object(j.a)({},e),{},{spells:e.spells+a-l,bonusSpell:t})}))},Fa=function(e,t){return e.spells_per_day_per_level.filter((function(e){return e.klass_level===t}))},Ra=function(e){var t=Object(h.d)((function(e){return e})).character,a=r.a.useState([]),n=Object(U.a)(a,2),l=n[0],i=n[1],o=r.a.useState(!0),c=Object(U.a)(o,2),s=c[0],u=c[1],d=r.a.useState(0),m=Object(U.a)(d,2),p=m[0],f=m[1],g=r.a.useState(0),b=Object(U.a)(g,2),v=b[0],y=b[1];r.a.useEffect((function(){if(s){var a=null;if(e.feature.spontaneous_castings[0].player_choice){a=t.character_choices.find((function(t){return t.feature_id===e.feature.id}));var n=Z.a.uniqBy(e.feature.spontaneous_castings,"keyword").map((function(e){return e.keyword}));if(!a||!n.includes(a.choice))return void u(!1)}var r=Na(e.feature.klassId);e.feature.spontaneous_castings.forEach((function(e){var t;if(a&&(null===(t=a)||void 0===t?void 0:t.choice)!==e.keyword)return null;r.includes(e.spell_level)&&zt("spells/".concat(e.spell_id)).then((function(t){var a=Object(S.a)(l);a.push(Object(j.a)(Object(j.a)({},t.spell),{},{spell_level:e.spell_level})),i(a)}))}))}}),[e.feature,s]);var E=function(e,t){var a=e.map((function(e){var a=e.name.toLowerCase();(t&&v===e.id||!t&&p===e.preparedSpellId)&&(a=r.a.createElement("strong",null,a));var n=t?e.id:e.preparedSpellId;return r.a.createElement("tr",null,r.a.createElement("td",null,e.spell_level),r.a.createElement("td",{className:Oa(e)},e.action.name),r.a.createElement("td",null,r.a.createElement("button",{onClick:function(){return function(e,t){if(e)y(v===t?0:t);else if(!e){f(p===t?0:t)}}(t,n)}},r.a.createElement("em",null,a))))}));if(!a.length)return r.a.createElement("p",null,"You have no available prepared spells that you can expend.");var n=t?"Available Spontaneous Spells":"Prepared Spells";return r.a.createElement("table",{style:{width:"48%",margin:"1%"}},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{colspan:"2"},n)),r.a.createElement("tr",null,r.a.createElement("th",null,"Lvl"),r.a.createElement("th",null,"Action"),r.a.createElement("th",null,"Name"))),r.a.createElement("tbody",null,a))},k=function(){Ut("cast_spells",{id:p,expend:!0}).then((function(a){var n=Object(S.a)(t.prepared_spells);n=n.map((function(e){return e.id===p?Object(j.a)(Object(j.a)({},e),{},{cast:!0}):e}));var r=l.find((function(e){return v===e.id}));f(0),At("prepared_spells",n),Tt(ja(r.action.name)),e.exitModal()}))},w=t.prepared_spells.filter((function(e){return!e.cast&&e.spell_level>0})).map((function(e){return Object(j.a)(Object(j.a)({},e.spell),{},{spell_level:e.spell_level,preparedSpellId:e.id})}));return r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",null,"Spontaneous Casting"),!s&&r.a.createElement("h3",null,"You have not chosen a category of Spontaneous Casting. Please go to the menu and choose, and try again."),r.a.createElement("section",{style:{display:"flex"}},s&&E(l,!0),s&&E(w,!1)),function(){if(v){var e=l.find((function(e){return v===e.id}));return r.a.createElement(Xt,{spell:e})}}(),function(){if(!p||!v)return null;var e=l.find((function(e){return v===e.id})),t=w.find((function(e){return p===e.preparedSpellId}));return"cannot-cast"===Oa(e)?r.a.createElement("p",null,"You cannot cast this spell because you don't can't use a ",r.a.createElement("strong",null,e.action.name)," right now."):r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,"You are casting ",r.a.createElement("em",null,r.a.createElement("strong",null,e.name))," at ",kt(e.spell_level)," level by expending ",r.a.createElement("em",null,r.a.createElement("strong",null,t.name))),r.a.createElement("p",null,"You must expend a prepared spell of the same or higher level to cast this spell. ",t.name," is a ",r.a.createElement("strong",null,kt(t.spell_level),"-level")," spell."),r.a.createElement("button",{onClick:k},"Cast ",e.name))}())},Pa=function(e){var t=Object(h.d)((function(e){return e})).character,a=r.a.useState([]),n=Object(U.a)(a,2),l=n[0],i=n[1],o=r.a.useState(0),c=Object(U.a)(o,2),s=c[0],u=c[1],d=r.a.useState([]),m=Object(U.a)(d,2),p=(m[0],m[1],r.a.useState({})),f=Object(U.a)(p,2),g=f[0],b=f[1],v=e.klassFeature,y=v.klassFeature,E=v.klassName;r.a.useEffect((function(){console.log(e.klassFeature),zt("klass_specializations?klass_id=".concat(e.klassFeature.klassFeature.id)).then(i)}),[e.klassFeature]);var k=function(e){g.id===e.id?b({}):b(e)},w=function(){var a;l.forEach((function(e){e.klass_feature_klass_specializations.forEach((function(e){e.klass_feature_id===y.id&&e.klass_specialization_id===s&&(a=e)}))})),Ut("character_klass_specializations",{character_id:t.id,klass_feature_klass_specialization_id:a.id}).then((function(a){var n=Object(S.a)(t.klass_specializations);n.push(a),At("klass_specializations",n),e.exitModal()}))},_=function(){var a=t.klass_specializations.find((function(e){return e.id===s})).character_klass_specialization_id;Yt("character_klass_specializations/".concat(a)).then((function(a){var n=t.klass_specializations.filter((function(e){return e.id!==s}));At("klass_specializations",n),e.exitModal()}))};return r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null,E," ",y.name," - Please Select ",y.choice_amount),r.a.createElement("section",{id:"klass-specialization-container"},function(){var e=l.map((function(e){var a=e.name;return t.klass_specializations.find((function(t){return t.id===e.id}))&&(a=r.a.createElement("strong",null,a)),r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("button",{onClick:function(){return u(e.id)}},a)))}));return r.a.createElement("table",{className:"klass-specialization-options"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,y.name," Options"))),r.a.createElement("tbody",null,e))}(),function(){if(!s)return null;var e=l.find((function(e){return e.id===s})),t=e.name,a=e.description,n=e.klass_specialization_features.map((function(e){var t=[];e.features.forEach((function(e){e.castable_spells.forEach((function(e){t.push(e.spell)}))}));var a=e.description;return t.length&&(a=function(e,t,a,n){var l=[e];return t.forEach((function(e){for(var t=e.name.toLowerCase(),n=0;n<l.length;n++)if("string"===typeof l[n]&&l[n].includes(t)){var i=l[n].split(t);i.splice(1,0,r.a.createElement("em",{key:3*n+1,className:"underline-hover",onClick:function(){return a(e)}},t)),l[n]=i,l=l.flat()}})),r.a.createElement("span",null,l)}(a,t,k)),r.a.createElement("p",null,r.a.createElement("strong",null,e.name,":")," ",a)}));return r.a.createElement("aside",{className:"klass-specialization-details"},r.a.createElement("h3",null,t),r.a.createElement("p",null,r.a.createElement("em",null,a)),n)}(),g.id?r.a.createElement("aside",{className:"klass-specialization-spell-description"},r.a.createElement(Xt,{spell:g})):null),function(){if(!s)return null;var e=l.find((function(e){return e.id===s})),a=y.choice_amount>1?"one of your ".concat(y.name):"your ".concat(y.name);return t.klass_specializations.find((function(e){return e.id===s}))?r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,r.a.createElement("strong",null,e.name)," is already ",a,"."),r.a.createElement("button",{onClick:_},"Remove")):r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,"You are choosing ",r.a.createElement("strong",null,e.name)," as ",a,"."),r.a.createElement("button",{onClick:w},"Select"))}())},La=function(e){var t=Object(h.d)((function(e){return e.character})),a=t.prepared_spells,n=t.id,l=r.a.useState([]),i=Object(U.a)(l,2),o=i[0],c=i[1],s=r.a.useState(""),u=Object(U.a)(s,2),d=u[0],m=u[1],p=r.a.useState(0),f=Object(U.a)(p,2),g=f[0],b=f[1],v=r.a.useState({spellId:0,dragging:!1}),y=Object(U.a)(v,2),E=y[0],k=y[1],w=r.a.useState({}),_=Object(U.a)(w,2);_[0],_[1];r.a.useEffect((function(){var t=e.spellcastingData,a=t.level,n=t.spellcasting;c(function(e,t){var a=Ia(),n=Fa(e,t).map((function(e){return e.spell_level})),r=[];1===a.length&&("klass_specializations"===a[0].features.find((function(e){return e.bonus_spell_slot})).bonus_spell_slot.list_of_available_spells&&F.getState().character.klass_specializations.forEach((function(e){e.klass_specialization_features.forEach((function(e){e.features.forEach((function(t){t.castable_spells.forEach((function(t){t.bonus_spell_slot_option&&n.includes(t.applicable_spell_level)&&r.push(Object(j.a)(Object(j.a)({},t.spell),{},{spell_level:t.applicable_spell_level,sourceId:e.id,sourceAbility:"klass_specialization_feature"}))}))}))}))})));return r}(n,a))}),[]);var C=function(t){t.preventDefault();var r=o.find((function(e){return e.id===E.spellId})),l={feature_spellcasting_id:e.spellcastingData.spellcasting.id,character_id:n,spell_level:r.spell_level,direct_spell_id:r.id,bonus_spell:!0,alternate_source_id:r.sourceId,alternate_source_ability:r.sourceAbility};Ut("prepared_spells",l).then((function(t){if(t.errors);else{var l={id:t.id,spell:r,spell_list_spell:null,spellcasting:e.spellcastingData.spellcasting,bonus_spell:!0,spell_level:r.spell_level,character_id:n,alternate_source:t.alternate_source},i=Object(S.a)(a);i.push(l),a.push(l),At("prepared_spells",i)}})),k({spellId:0,dragging:!1})},O=function(e){e.preventDefault(),k({spellId:0,dragging:!1})};return r.a.createElement("section",{id:"known-spells-popup"},function(){var t=e.spellcastingData,n=t.level,l=t.spellcasting,i=Fa(l,n).map((function(e){return e.spell_level})),o=i.indexOf(0);-1!==o&&i.splice(o,1);var c=[];i.forEach((function(e){var t=a.find((function(t){return t.spell_level===e&&t.bonus_spell}));t?c.push({spellLevel:e,spellName:t.spell.name,spellId:t.spell.id,preparedSpellId:t.id,cast:t.cast}):c.push({spellLevel:e,spellName:"",preparedSpellId:0,spellId:0})}));var s=c.map((function(e){return r.a.createElement("tr",null,r.a.createElement("td",null,e.spellLevel),r.a.createElement("td",null,r.a.createElement("em",{className:"underline-hover",onClick:function(){return b(e.spellId)}},e.spellName)),r.a.createElement("td",null,!!e.preparedSpellId&&r.a.createElement("button",{style:{color:"white",background:"red",fontSize:"0.9rem",border:"1px solid black",textAlign:"right",borderRadius:"6px"},onClick:function(){return t=e.preparedSpellId,void Yt("prepared_spells/".concat(t)).then((function(e){var n=Object(S.a)(a).filter((function(e){return e.id!==t}));a=a.filter((function(e){return e.id!==t})),At("prepared_spells",n)}));var t}},"Remove")),r.a.createElement("td",null,e.cast&&r.a.createElement("button",{onClick:function(){return t=e.preparedSpellId,n=e.cast,void Gt("cast_spells/toggle_cast/".concat(t),{cast:!n}).then((function(e){var r=Object(S.a)(a);r=r.map((function(e){return e.id===t?Object(j.a)(Object(j.a)({},e),{},{cast:!n}):e})),At("prepared_spells",r)}));var t,n}},"Restore")))})),u={gridArea:"known",overflowY:"scroll",position:"relative",border:"2px solid transparent"};return E.dragging&&(u.border="2px dashed black"),r.a.createElement("aside",{style:u,onDrop:C,onDragOver:function(e){return e.preventDefault()}},null,r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Lvl"),r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"Forget Prepared Spell"),r.a.createElement("th",null,"UnCast"))),r.a.createElement("tbody",null,s)))}(),function(){var t=e.spellcastingData.level,n=o.filter((function(e){var t=d.toLowerCase();return e.name.toLowerCase().includes(t)})),l=a.map((function(e){return e.spell.id})),i=n.map((function(e){var a=e.spell_level>t?"mobile-active-tab":"";return l.includes(e.id)&&(a="mobile-active-tab"),r.a.createElement("tr",{className:a},r.a.createElement("td",null,e.spell_level),r.a.createElement("td",{draggable:"true",onDragStart:function(){return function(e){k(Object(j.a)(Object(j.a)({},E),{},{spellId:e,dragging:!0}))}(e.id)},onDragEnd:O},r.a.createElement("em",{className:"underline-hover",onClick:function(){return b(e.id)}},e.name)))}));return r.a.createElement("aside",{style:{gridArea:"all-spells",maxHeight:"100%",overflowY:"scroll",margin:"5px"}},r.a.createElement("label",{htmlFor:"spell-filter"},"Filter Spells"),r.a.createElement("input",{name:"spell-filter",id:"spell-filter",type:"text",value:d,onChange:function(e){return m(e.target.value)}}),r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Lvl"),r.a.createElement("th",null,"Name"))),r.a.createElement("tbody",null,i)))}(),function(){if(!g||!o.length)return r.a.createElement("aside",{style:{gridArea:"spell-description",display:"flex",justifyContent:"center",margin:"auto"}},r.a.createElement("strong",null,"Click on a spell to see details"));var e=o.find((function(e){return e.id===g}));return r.a.createElement("aside",{style:{gridArea:"spell-description",textAlign:"left",overflowY:"scroll"}},r.a.createElement(Xt,{spell:e}))}())},Ba=function(e){var t=e.feat,a=t.name,n=t.description,l=t.benefit,i=t.normal,o=t.special;t.source;return r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",null,a),r.a.createElement("p",null,r.a.createElement("em",null,n)),l&&r.a.createElement("p",null,r.a.createElement("strong",null,"Benefit:")," ",l),i&&r.a.createElement("p",null,r.a.createElement("strong",null,"Normal:")," ",i),o&&r.a.createElement("p",null,r.a.createElement("strong",null,"Special:")," ",o))},Ha=function(e){return r.a.createElement("article",{style:{textAlign:"left"}},r.a.createElement(Ba,{feat:e.feat}))},Wa=function(e){switch(e){case"Fine":return 8;case"Diminutive":return 4;case"Tiny":return 2;case"Small":return 1;case"Large":return-1;case"Huge":return-2;case"Gargantuan":return-4;case"Colossal":return-8;default:return 0}},qa=function(e){switch(e){case"Fine":return-8;case"Diminutive":return-4;case"Tiny":return-2;case"Small":return-1;case"Large":return 1;case"Huge":return 2;case"Gargantuan":return 4;case"Colossal":return 8;default:return 0}},za=function(e){switch(e){case"Fine":return["1/2 ft.","0 ft."];case"Diminutive":return["1 ft.","0 ft."];case"Tiny":return["2 1/2 ft.","0 ft."];case"Small":return["5 ft.","5 ft."];case"Large":return["10 ft.","10 ft."];case"Huge":return["15 ft.","15 ft."];case"Gargantuan":return["20 ft.","20 ft."];case"Colossal":return["30 ft.","30 ft."];default:return["5 ft.","5 ft."]}},Ua=function(e){return e<1?"1/".concat(Math.ceil(1/e)):e},Ga=function(e,t,a,n){var r=(t+1)/2,l=Math.floor(e*r),i=e*We(a);n.augmentSummoning&&(i+=2*e);var o=l+i,c=0!==We(a)?qe(i):"";return"".concat(o," (").concat(e,"d").concat(t).concat(c,")")},Ya=function(e,t,a,n){var r=We(t),l=Math.floor(r+e*a);return.5===e&&(l+=2),n.augmentSummoning&&(l+=2),qe(l)},Ka=function(e,t){var a=1;return 8===t&&(a=.75),6===t&&(a=.5),Math.floor(a*e)},Va=function(e){var t=Ka(e.hit_dice,e.creature_type.hit_die),a=qa(e.size),n=We(e.strength);a<=-2&&(n=We(e.dexterity));var r=0;return e.augmentSummoning&&(r+=2),t+a+n+r},Ja=function(e){var t=[],a=We(e.dexterity);t.push({name:"Dex",mod:a});var n=Wa(e.size);return t.push({name:"size",mod:n}),t},Qa=function(e,t){var a=e.weapons.filter((function(e){return e.weapon.weapon_type===t}));if(a.length){var n=We("Melee"===t?e.strength:e.dexterity);e.augmentSummoning&&"Melee"===t&&(n+=2);var l=Za(e,t),i=a.map((function(t){var a=t.weapon.num_of_dice+"d"+t.weapon.damage_dice;return a=function(e,t){var a=function(e){return["Fine","Diminutive","Tiny","Small","Medium","Large","Huge","Gargantuan","Colossal"].indexOf(e)-4}(e),n=["1","1d2","1d3","1d4","1d6","1d8","2d6","2d8","4d6"],r=n.indexOf(t)+a;return r<0&&(r=0),r>n.length-1&&(r=n.length-1),n[r]}(e.size,a),"".concat(t.weapon.name," ").concat(qe(l)," (").concat(a).concat(qe(n),")")}));return r.a.createElement("p",null,r.a.createElement("strong",null,"Melee")," ",i.join(", "))}return null},Za=function(e,t){var a=Wa(e.size),n=We("Melee"===t?e.strength:e.dexterity);return e.augmentSummoning&&"Melee"===t&&(n+=2),e.creatureInfo.effects.forEach((function(a){if(!0===a.could_apply_dex_for_attack_rolls&&"Melee"===t){var r=e.strength>e.dexterity?e.strength:e.dexterity;n=We(r)}})),a+n+Ka(e.hit_dice,e.creature_type.hit_die)},Xa=function(e,t,a){e.weapon_applications.forEach((function(e){a.effects.push(Object(j.a)(Object(j.a)({},e),{},{source:t}))}))},$a=function(e){var t=r.a.useState(null),a=Object(U.a)(t,2),n=a[0],l=a[1];r.a.useEffect((function(){if(e.creature){var t=function(e){var t={effects:[]};return e.feats.forEach((function(e){e.features.forEach((function(a){return Xa(a,{source:"feats",sourceId:e.id,sourceName:e.name},t)}))})),Object(j.a)(Object(j.a)({},e),{},{creatureInfo:t})}(e.creature);l(t)}}),[e.creature]);return r.a.createElement(r.a.Fragment,null,function(){if(n){console.log(n);var e=n.hit_dice,t=Ya(n.creature_type.fortitude,n.constitution,e,{augmentSummoning:n.augmentSummoning}),a=Ya(n.creature_type.reflex,n.dexterity,e,{}),l=Ya(n.creature_type.will,n.wisdom,e,{}),i=function(e){var t={armorClass:10,touch:10,flatFooted:10},a=Ja(e);t.armorClass+=Z.a.sum(a.map((function(e){return e.mod})));var n=a.filter((function(e){return"armor"!==e.name&&"natural"!==e.name}));t.touch+=Z.a.sum(n.map((function(e){return e.mod})));var r=a.filter((function(e){return"Dex"!==e.name&&"dodge"!==e.name}));return t.flatFooted+=Z.a.sum(r.map((function(e){return e.mod}))),t}(n),o=function(e){var t=Ja(e).map((function(e){return"".concat(qe(e.mod)," ").concat(e.name)}));return"(".concat(t.join(", "),")")}(n);return r.a.createElement("article",{id:"creature-details"},r.a.createElement("h3",null,r.a.createElement("span",null,n.name),"CR ",Ua(n.challenge_rating)),r.a.createElement("h4",null,"XP ",function(e){var t=e%2?400:600;if(e>=1){var a=Math.ceil(e/2-1);return t*Math.pow(2,a)}switch(Math.ceil(1/e)){case 2:return 200;case 3:return 135;case 4:return 100;case 6:return 65;case 8:return 50;default:return 0}}(n.challenge_rating)),r.a.createElement("p",null,n.alignment[0].toUpperCase()," ",n.size," ",n.creature_type.name),r.a.createElement("p",null,r.a.createElement("strong",null,"Init:")," ",function(e){var t=We(e.dexterity);return qe(t)}(n),"; ",r.a.createElement("strong",null,"Senses")," INSERT SENSES; Perception INSERT PERCEPTION"),r.a.createElement("p",{className:"creature-header"},r.a.createElement("strong",null,"DEFENSE")),r.a.createElement("p",null,r.a.createElement("strong",null,"AC")," ",i.armorClass,", touch ",i.touch,", flat-footed ",i.flatFooted," ",o),r.a.createElement("p",null,r.a.createElement("strong",null,"hp")," ",Ga(e,n.creature_type.hit_die,n.constitution,{augmentSummoning:n.augmentSummoning})),r.a.createElement("p",null,r.a.createElement("strong",null,"Fort")," ",t,", ",r.a.createElement("strong",null,"Ref")," ",a,", ",r.a.createElement("strong",null,"Will")," ",l),r.a.createElement("p",{className:"creature-header"},r.a.createElement("strong",null,"OFFENSE")),r.a.createElement("p",null,"INSERT SPEED"),Qa(n,"Melee"),Qa(n,"Ranged"),r.a.createElement("p",null,r.a.createElement("strong",null,"Space")," ",za(n.size)[0],"; ",r.a.createElement("strong",null,"Reach")," ",za(n.size)[1]),r.a.createElement("p",{className:"creature-header"},r.a.createElement("strong",null,"STATISTICS")),r.a.createElement("p",null,r.a.createElement("strong",null,"Str")," ",n.augmentSummoning?n.strength+4:n.strength,", ",r.a.createElement("strong",null,"Dex")," ",n.dexterity,", ",r.a.createElement("strong",null,"Con")," ",n.augmentSummoning&&n.constitution?n.constitution+4:n.constitution,", ",r.a.createElement("strong",null,"Int")," ",n.intelligence,", ",r.a.createElement("strong",null,"Wis")," ",n.wisdom,", ",r.a.createElement("strong",null,"Cha")," ",n.charisma),r.a.createElement("p",null,r.a.createElement("strong",null,"Base Atk")," ",(c=e,s=n.creature_type.hit_die,qe(Ka(c,s))),"; ",r.a.createElement("strong",null,"CMB")," ",function(e){return qe(Va(e))}(n),"; ",r.a.createElement("strong",null,"CMD")," ",function(e){var t=qa(e.size),a=We(e.dexterity);return t<=-2&&(a=We(e.strength)),10+Va(e)+a}(n)),r.a.createElement("p",null,r.a.createElement("strong",null,"Feats")," ",function(e){for(var t=[],a=function(a){t.push(r.a.createElement("span",{className:"underline-hover",onClick:function(){return P("feat",e[a])}},e[a].name)),a+1<e.length&&t.push(", ")},n=0;n<e.length;n++)a(n);return t}(n.feats)),r.a.createElement("p",null,r.a.createElement("strong",null,"Skills")," INSERT SKILLS; ",r.a.createElement("strong",null,"Racial Modifiers")," INSERT RACIAL MODIFIERS"),r.a.createElement("p",{className:"creature-header"},r.a.createElement("strong",null,"ECOLOGY")),r.a.createElement("p",null,r.a.createElement("strong",null,"Environment")," INSERT ENVIRONMENT"),r.a.createElement("p",null,r.a.createElement("strong",null,"Organization")," INSERT ORGANIZATION"),r.a.createElement("p",null,r.a.createElement("strong",null,"Treasure")," INSERT TREASURE"),r.a.createElement("br",null),r.a.createElement("p",null,n.description))}var c,s}())},en=(F.getState,F.dispatch),tn=Object(h.b)((function(e){return{skills:e.skills}}))((function(e){var t,a,n=r.a.useState({}),l=Object(U.a)(n,2),i=l[0],o=l[1];r.a.useState((function(){if(e.skillId){var t=e.skills.find((function(t){return t.id===e.skillId}));t?o(t):re("skills/".concat(e.skillId)).then((function(e){e.error||(o(e.skill),function(e){en({type:"ADD SKILL",skill:e})}(e.skill))}))}}),[]);return console.log("New Skill",e.skill),r.a.createElement("aside",null,r.a.createElement("h2",null,(null===(t=e.skill)||void 0===t?void 0:t.name)||i.name),r.a.createElement("p",null,r.a.createElement("em",null,(null===(a=e.skill)||void 0===a?void 0:a.blurb)||i.blurb)),function(){if(!i.description&&!e.skill)return null;var t=e.skill||i,a=t.description,n=t.action,l=t.try_again,o=t.special;return r.a.createElement(r.a.Fragment,null,ze(a),r.a.createElement("strong",null,"Action:")," ",ze(n),!!l&&r.a.createElement(r.a.Fragment,null,r.a.createElement("strong",null,"Try Again:")," ",ze(l)),!!o&&r.a.createElement(r.a.Fragment,null,r.a.createElement("strong",null,"Special:")," ",ze(o)))}())})),an=function(){var e=r.a.useState([]),t=Object(U.a)(e,2),a=(t[0],t[1],r.a.useState({})),n=Object(U.a)(a,2),l=n[0],i=n[1],o=[{name:"The Winged Serpent",img_url:"https://i.imgur.com/bOYXoxq.png",alignment:"LG",symbol:["Wisdom","Star"],traditional:"Knowing when to strike",misaligned:"Failing to sieze the moment"},{name:"The Avalanche",img_url:"https://i.imgur.com/Zpou16q.png",alignment:"LE",symbol:["Dexterity","Key"],traditional:"Unrelenting disaster",misaligned:"Disaster can be averted"},{name:"The Unicorn",img_url:"https://i.imgur.com/RQPKsmn.png",alignment:"CG",symbol:["Charisma","Crown"],traditional:"What you seek is yours",misaligned:"Friends are untrustworthy"},{name:"The Wanderer",img_url:"https://i.imgur.com/KKAkoki.png",alignment:"NG",symbol:["Intelligence","Book"],traditional:"Finding worth in cast-offs",misaligned:"Inability to see value"},{name:"The Waxworks",img_url:"https://i.imgur.com/Gvt8Txi.png",alignment:"CE",symbol:["Constitution","Shield"],traditional:"Helplessness and entropy",misaligned:"Abundance of energy"},{name:"The Bear",img_url:"https://i.imgur.com/pgqXLKC.png",alignment:"N",symbol:["Strength","Hammer"],traditional:"Brute force reigns",misaligned:"Never misaligned"},{name:"The Beating",img_url:"https://i.imgur.com/nkRWkAz.png",alignment:"NE",symbol:["Strength","Hammer"],traditional:"Attack from all sides",misaligned:"Hidden Strength"},{name:"The Betrayal",img_url:"https://i.imgur.com/wDQqoQ7.png",alignment:"NE",symbol:["Charisma","Crown"],traditional:"Selfishness leads to ruin",misaligned:"Noble self-sacrifice"},{name:"The Big Sky",img_url:"https://i.imgur.com/fiELYn8.png",alignment:"CG",symbol:["Strength","Hammer"],traditional:"Freedom from bondage",misaligned:"New shackles replace the old"},{name:"the Brass Dwarf",img_url:"https://i.imgur.com/LLRsqY7.png",alignment:"LN",symbol:["Constitution","Shield"],traditional:"Invulnerability to peril",misaligned:"Never misaligned"},{name:"The Carnival",img_url:"https://i.imgur.com/bySnncn.png",alignment:"CN",symbol:["Wisdom","Star"],traditional:"Illusions and false dreams",misaligned:"Never misaligned"},{name:"The Courtesan",img_url:"https://i.imgur.com/d1xtvtT.png",alignment:"CN",symbol:["Charisma","Crown"],traditional:"Political intrigue",misaligned:"Never misaligned"},{name:"The Cricket",img_url:"https://i.imgur.com/vUchyiC.png",alignment:"NG",symbol:["Dexterity","Key"],traditional:"Speed and quick passage",misaligned:"The journey goes poorly"},{name:"The Crows",img_url:"https://i.imgur.com/o4myQCy.png",alignment:"NE",symbol:["Dexterity","Key"],traditional:"Taking of loved ones or items",misaligned:"Thievery can be stopped"},{name:"The Cyclone",img_url:"https://i.imgur.com/uRMFDaP.png",alignment:"CE",symbol:["Strength","Hammer"],traditional:"Tumultuous, evil plots",misaligned:"Renewal after a trial"},{name:"The Dance",img_url:"https://i.imgur.com/HBIXbNe.png",alignment:"LG",symbol:["Dexterity","Key"],traditional:"Staying in harmony",misaligned:"Lockstep is perilous"},{name:"The Demon's Lantern",img_url:"https://i.imgur.com/6k12CcK.png",alignment:"CE",symbol:["Dexterity","Key"],traditional:"An impossible situation",misaligned:"A guide lights the way out"},{name:"The Desert",img_url:"https://i.imgur.com/mT7MS8O.png",alignment:"CG",symbol:["Constitution","Shield"],traditional:"Traversing a bleak passage",misaligned:"A passage with little hope"},{name:"The Eclipse",img_url:"https://i.imgur.com/zaDqEn4.png",alignment:"LE",symbol:["Wisdom","Star"],traditional:"Self-doubt",misaligned:"Unheralded abilities"},{name:"The Empty Throne",img_url:"https://i.imgur.com/WKYUil9.png",alignment:"LG",symbol:["Charisma","Crown"],traditional:"Loss brings good fortune",misaligned:"Loss brings bad tidings"},{name:"The Fiend",img_url:"https://i.imgur.com/MyqKyDN.png",alignment:"LE",symbol:["Strength","Hammer"],traditional:"Many losses in a calamity",misaligned:"Salvation from a calamity"},{name:"The Foreign Trader",img_url:"https://i.imgur.com/vwtsxfq.png",alignment:"N",symbol:["Intelligence","Book"],traditional:"An informitive pact",misaligned:"Never misaligned"},{name:"The Forge",img_url:"https://i.imgur.com/SPhzWtD.png",alignment:"LN",symbol:["Strength","Hammer"],traditional:"Strength through diversity",misaligned:"Never misaligned"},{name:"The Hidden Truth",img_url:"https://i.imgur.com/35T4bCl.png",alignment:"LG",symbol:["Intelligence","Book"],traditional:"Seeing past the obvious",misaligned:"A dangerous secret"},{name:"The Idiot",img_url:"https://i.imgur.com/ZUObUcr.png",alignment:"NE",symbol:["Intelligence","Book"],traditional:"Grave foolishness and greed",misaligned:"Clever feigning or idiocy"},{name:"The Inquisitor",img_url:"https://i.imgur.com/dbhicSo.png",alignment:"LN",symbol:["Intelligence","Book"],traditional:"Immutable reality",misaligned:"Never misaligned"},{name:"The Joke",img_url:"https://i.imgur.com/SsfIZGg.png",alignment:"CG",symbol:["Intelligence","Book"],traditional:"Danger overcome by artifice",misaligned:"The joke is on you"},{name:"The Juggler",img_url:"https://i.imgur.com/T5vCqsY.png",alignment:"CG",symbol:["Dexterity","Key"],traditional:"Fate is on your side",misaligned:"Fate is not on your side"},{name:"The Keep",img_url:"https://i.imgur.com/wrNg7cI.png",alignment:"NG",symbol:["Strength","Hammer"],traditional:"Unshakable to threat",misaligned:"Temptation is stronger"},{name:"The Liar",img_url:"https://i.imgur.com/15lSLv7.png",alignment:"CE",symbol:["Charisma","Crown"],traditional:"Love at its most trecherous",misaligned:"A new relationship begins"},{name:"The Locksmith",img_url:"https://i.imgur.com/51WdWag.png",alignment:"LN",symbol:["Dexterity","Key"],traditional:"Keys to a new destiny",misaligned:"Never misaligned"},{name:"The Lost",img_url:"https://i.imgur.com/jNMMfS3.png",alignment:"CE",symbol:["Wisdom","Star"],traditional:"Loss of identity",misaligned:"Clarity of mind"},{name:"The Marriage",img_url:"https://i.imgur.com/Xe2b5W2.png",alignment:"LN",symbol:["Charisma","Crown"],traditional:"Union of persons or ideas",misaligned:"Never misaligned"},{name:"The Midwife",img_url:"https://i.imgur.com/MCsKDcs.png",alignment:"NG",symbol:["Wisdom","Star"],traditional:"New life or new information",misaligned:"Dangerous new arrivals"},{name:"The Mountain Man",img_url:"https://i.imgur.com/8w1ldsa.png",alignment:"CN",symbol:["Constitution","Shield"],traditional:"An external physical power",misaligned:"Never misaligned"},{name:"The Mute Hag",img_url:"https://i.imgur.com/QrRreDj.png",alignment:"CE",symbol:["Wisdom","Star"],traditional:"Blood pacts and dark secrets",misaligned:"Unwavering loyalty"},{name:"The Owl",img_url:"https://i.imgur.com/UOSPBm2.png",alignment:"N",symbol:["Wisdom","Star"],traditional:"Wisdom of the natural order",misaligned:"Never misaligned"},{name:"The Paladin",img_url:"https://i.imgur.com/TyNH8KM.png",alignment:"LG",symbol:["Strength","Hammer"],traditional:"Standing fast under adversity",misaligned:"Standing fast is foolish"},{name:"The Peacock",img_url:"https://i.imgur.com/pQeLlRF.png",alignment:"N",symbol:["Dexterity","Key"],traditional:"Suddern personal shift",misaligned:"Never misaligned"},{name:"The Publican",img_url:"https://i.imgur.com/gxbKvtL.png",alignment:"CG",symbol:["Wisdom","Star"],traditional:"Fellowship and camaraderie",misaligned:"Refuge cannot be found"},{name:"The Queen Mother",img_url:"https://i.imgur.com/B4DKI0j.png",alignment:"LN",symbol:["Wisdom","Star"],traditional:"Knowledge through fealty",misaligned:"Never misaligned"},{name:"The Rabbit Prince",img_url:"https://i.imgur.com/Tez2pyu.png",alignment:"CN",symbol:["Dexterity","Key"],traditional:"Capriciousness of combat",misaligned:"Never misaligned"},{name:"The Rakshasa",img_url:"https://i.imgur.com/yyyloyW.png",alignment:"LE",symbol:["Intelligence","Book"],traditional:"Dominance and mind control",misaligned:"Enslavement is shaken off"},{name:"The Sickness",img_url:"https://i.imgur.com/35CCsz8.png",alignment:"NE",symbol:["Constitution","Shield"],traditional:"Disease of body or soul",misaligned:"Great health in an epidemic"},{name:"The Snakebite",img_url:"https://i.imgur.com/BLBd18X.png",alignment:"CE",symbol:["Intelligence","Book"],traditional:"Poisonous powers or ideas",misaligned:"Mental leap or discovery"},{name:"The Survivor",img_url:"https://i.imgur.com/HkZbwZe.png",alignment:"NG",symbol:["Constitution","Shield"],traditional:"Rebirth through ordeal",misaligned:"Tragic news or profound loss"},{name:"The Tangled Briar",img_url:"https://i.imgur.com/wpeUgbc.png",alignment:"LE",symbol:["Constitution","Shield"],traditional:"Ancient triumphs return",misaligned:"Old evils endanger present"},{name:"The Teamster",img_url:"https://i.imgur.com/jLfpDYp.png",alignment:"N",symbol:["Constitution","Shield"],traditional:"Driving eternal pressure",misaligned:"Never misaligned"},{name:"The Theater",img_url:"https://i.imgur.com/AuO9j8u.png",alignment:"NG",symbol:["Charisma","Crown"],traditional:"Prophecy is true",misaligned:"Prophecy is unreliable"},{name:"The Trumpet",img_url:"https://i.imgur.com/2cBF2j7.png",alignment:"LG",symbol:["Constitution","Shield"],traditional:"Declaration of power",misaligned:"Power for power's sake"},{name:"The Twin",img_url:"https://i.imgur.com/1mputKc.png",alignment:"N",symbol:["Charisma","Crown"],traditional:"Duality of purpose",misaligned:"Never misaligned"},{name:"The Tyrant",img_url:"https://i.imgur.com/UtQYP41.png",alignment:"LE",symbol:["Charisma","Crown"],traditional:"Paternal influence brings pain",misaligned:"A dark influence is overruled"},{name:"The Uprising",img_url:"https://i.imgur.com/0QYTakI.png",alignment:"CN",symbol:["Strength","Hammer"],traditional:"Overwhelming groundswell",misaligned:"Never misaligned"},{name:"The Vision",img_url:"https://i.imgur.com/Zts2LoM.png",alignment:"CN",symbol:["Intelligence","Book"],traditional:"Arcane knowledge",misaligned:"Never misaligned"}],c=function(){var e=Math.floor(Math.random()*o.length);return o[e]};return r.a.createElement("section",{style:{display:"grid",gridTemplateColumns:"30% 70%",gridTemplateAreas:" 'buttons card' 'cards cards'"}},r.a.createElement("aside",{style:{gridArea:"buttons",display:"flex",flexDirection:"column"}},r.a.createElement("button",{onClick:function(){var e=c();i(e)}},"Draw Random Card")),l.name&&function(){var e=l.name,t=l.img_url,a=l.alignment,n=l.symbol,i=l.traditional,o=l.misaligned;return r.a.createElement("aside",{style:{gridArea:"card",display:"flex"}},r.a.createElement("img",{src:t,alt:e,height:"60%"}),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("h4",null,e)),r.a.createElement("li",null,"Alignment: ",r.a.createElement("strong",null,a)),r.a.createElement("li",null,"Ability Score: ",r.a.createElement("strong",null,n[0])),r.a.createElement("li",null,"Suit: ",r.a.createElement("strong",null,n[1])),r.a.createElement("br",null),r.a.createElement("li",null,"Traditional: ",i),r.a.createElement("li",null,"Misaligned: ",o)))}(),r.a.createElement("aside",{style:{gridArea:"cards"}}))},nn=function(e){return r.a.createElement("section",null,r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",{style:{display:"inline-block"}},e.item.name),r.a.createElement("div",null,Z.a.startCase(e.item.category)," ",r.a.createElement("strong",null,"Price")," ",e.item.price_in_gp," gp; ",r.a.createElement("strong",null,"Weight")," ",e.item.weight," lb;"),r.a.createElement("br",null),r.a.createElement("div",{style:{marginBottom:"1%",paddingBottom:".8%",borderBottom:"double"}}),ze(e.item.description)))},rn=function(e){var t=Object(h.d)((function(e){return e})).character,a=r.a.useState({pp:1,gp:1,sp:1,cp:1}),n=Object(U.a)(a,2),l=n[0],i=n[1],o=r.a.useState(!1),c=Object(U.a)(o,2),s=c[0],u=c[1],d=function(e){var t;i(Object(j.a)(Object(j.a)({},l),{},Object(O.a)({},e.target.name,null!==(t=parseInt(e.target.value))&&void 0!==t?t:"")))},m=function(e,a){if(!s){var n="plus"===a?t[e]+l[e]:t[e]-l[e],r=Object(O.a)({},e,n);u(!0),ie("characters/".concat(t.id),r).then((function(a){de(e,n),i(Object(j.a)(Object(j.a)({},l),{},Object(O.a)({},e,1))),t[e]=n,u(!1)}))}},p=10*t.pp+t.gp+.1*t.sp+.01*t.cp;return r.a.createElement("section",null,r.a.createElement("p",null,r.a.createElement("strong",null,"Total Money"),": ",p.toFixed(2)," gp"),function(){var e=t.pp,a=t.gp,n=t.sp,i=t.cp;return r.a.createElement("ul",null,r.a.createElement("li",null,e||0," pp ",r.a.createElement("input",{type:"number",name:"pp",value:l.pp,onChange:d,step:"1"})," ",r.a.createElement("button",{onClick:function(){return m("pp","plus")}},"+")," ",r.a.createElement("button",{onClick:function(){return m("pp","minus")}},"-")),r.a.createElement("li",null,a||0," gp ",r.a.createElement("input",{type:"number",name:"gp",value:l.gp,onChange:d,step:"1"})," ",r.a.createElement("button",{onClick:function(){return m("gp","plus")}},"+")," ",r.a.createElement("button",{onClick:function(){return m("gp","minus")}},"-")),r.a.createElement("li",null,n||0," sp ",r.a.createElement("input",{type:"number",name:"sp",value:l.sp,onChange:d,step:"1"})," ",r.a.createElement("button",{onClick:function(){return m("sp","plus")}},"+")," ",r.a.createElement("button",{onClick:function(){return m("sp","minus")}},"-")),r.a.createElement("li",null,i||0," cp ",r.a.createElement("input",{type:"number",name:"cp",value:l.cp,onChange:d,step:"1"})," ",r.a.createElement("button",{onClick:function(){return m("cp","plus")}},"+")," ",r.a.createElement("button",{onClick:function(){return m("cp","minus")}},"-")))}())},ln=(F.getState,F.dispatch),on=function(e){return ln({type:"UPDATE COLOR THEME",obj:e})},cn=[{name:"Standard",colors:{background1:"cfb997",background2:"fff",textColor:"000",bubbleColor:"ebebeb",borderColor:"000",shadeColor:"800000"}},{name:"Noir",colors:{background1:"000",background2:"666",textColor:"ddd3d3",bubbleColor:"3e3b3b",borderColor:"c3bcbc",shadeColor:"a39c9c"}},{name:"Spring Pastels",colors:{background1:"dbd08f",background2:"fff",textColor:"965dae",bubbleColor:"ebebeb",borderColor:"d04ebd",shadeColor:"65bbd5"}},{name:"Sorbet Summer",colors:{background1:"EF4136",background2:"FFDF63",textColor:"000",bubbleColor:"F7D15F",borderColor:"87ceff",shadeColor:"B43692"}},{name:"Autumn Sunset",colors:{background1:"8f2323",background2:"cc9d3a",textColor:"000",bubbleColor:"bc7535",borderColor:"a7532d",shadeColor:"59200f"}},{name:"Crisp Winter",colors:{background1:"e3e3ff",background2:"CCCCFF",textColor:"230745",bubbleColor:"ebebeb",borderColor:"b3e3f4",shadeColor:"020b36"}},{name:"Ocean Floor",colors:{background1:"29ab87",background2:"93e9b3",textColor:"212121",bubbleColor:"c2b280",borderColor:"5a4d41",shadeColor:"4a3d32"}},{name:"Cyberpunk",colors:{background1:"7a04eb",background2:"fe75fe",textColor:"000",bubbleColor:"00b8ff",borderColor:"00ff9f",shadeColor:"120458"}},{name:"Gems and Treasure",colors:{background1:"ffba1f",background2:"74674e",textColor:"0f52ba",bubbleColor:"f5f7f7",borderColor:"046307",shadeColor:"dc143c"}},{name:"Overcast",colors:{background1:"636d83",background2:"6d7178",textColor:"d1d5d9",bubbleColor:"7d8287",borderColor:"415c5d",shadeColor:"7d9fb0"}},{name:"Azorius Senate",colors:{background1:"137cd8",background2:"fbfef7",textColor:"1c2d58",bubbleColor:"faecc7",borderColor:"1c2d58",shadeColor:"9fb7d3"}},{name:"Boros Legion",colors:{background1:"ecdac6",background2:"e2320b",textColor:"ba3209",bubbleColor:"f3f5ea",borderColor:"da973c",shadeColor:"7d2b06"}},{name:"House Dimir",colors:{background1:"1b1b21",background2:"163758",textColor:"0b5fa7",bubbleColor:"adadaf",borderColor:"045e93",shadeColor:"19241e"}},{name:"Golgari Swarm",colors:{background1:"00733e",background2:"282824",textColor:"dbe1e6",bubbleColor:"1d4a32",borderColor:"c9d2d1",shadeColor:"000"}},{name:"Gruul Clans",colors:{background1:"326d3f",background2:"f54329",textColor:"c22d12",bubbleColor:"183d20",borderColor:"8e8d7b",shadeColor:"392115"}},{name:"Izzet League",colors:{background1:"095ea1",background2:"f02908",textColor:"770902",bubbleColor:"67a7d7",borderColor:"e97335",shadeColor:"d74a43"}},{name:"Orzhov Syndicate",colors:{background1:"2a2623",background2:"fbfbf3",textColor:"f9f1c2",bubbleColor:"3d3b3c",borderColor:"e8ce81",shadeColor:"7a6756"}},{name:"Cult of Rakdos",colors:{background1:"a41316",background2:"363733",textColor:"ff5d2a",bubbleColor:"291d18",borderColor:"dd3935",shadeColor:"9c1f12"}},{name:"Selesnya Conclave",colors:{background1:"00733e",background2:"f9faf4",textColor:"000",bubbleColor:"2bd8c0",borderColor:"f9faf4",shadeColor:"f7e8a7"}},{name:"Simic Combine",colors:{background1:"24522b",background2:"4282c2",textColor:"222a4f",bubbleColor:"5c8462",borderColor:"b2cae6",shadeColor:"28303d"}}],sn=function(){var e=Object(h.d)((function(e){return e.settings}));return console.log(e),r.a.createElement("section",null,r.a.createElement("h3",null,"Character Settings"),function(){var e=cn.map((function(e){return r.a.createElement("li",{style:{color:"#".concat(e.colors.textColor),backgroundImage:"linear-gradient(#".concat(e.colors.background1," 30%, #").concat(e.colors.background2," 50%, #").concat(e.colors.bubbleColor,")"),padding:"0.8%",border:"1px solid #".concat(e.colors.borderColor),margin:"0.5%",borderRadius:"0.5em",boxShadow:"2px 1px 1px #".concat(e.colors.shadeColor)}},r.a.createElement("label",{onClick:function(){return function(e){localStorage.setItem("theme",e.name),on(e.colors)}(e)}},e.name))}));return r.a.createElement("form",null,r.a.createElement("h4",null,"Color Theme"),r.a.createElement("ul",{style:{display:"flex",listStyleType:"none",margin:"0",padding:"0",flexWrap:"wrap"}},e))}())},un=function(e){var t=e.familiar.creature;return r.a.createElement("section",null,r.a.createElement($a,{creature:t}))},dn=function(e){return r.a.createElement("section",null,function(){var t=e.item,a=t.affliction_type,n=t.cure,l=t.effect,i=t.fortitude_dc,o=t.frequency,c=t.name,s=t.onset,u=t.price_in_gp;return r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",{style:{display:"inline-block"}},c),r.a.createElement("div",null,r.a.createElement("strong",null,"Price")," ",u," gp; ",r.a.createElement("strong",null,"Type")," ",a,"; ",r.a.createElement("strong",null,"Fortitude DC")," ",i),r.a.createElement("div",{style:{marginBottom:"1%",paddingBottom:".8%",borderBottom:"double"}}),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement("strong",null,"Onset")," ",s,"; ",r.a.createElement("strong",null,"Frequency")," ",o,"; ",r.a.createElement("strong",null,"Cure")," ",n),r.a.createElement("div",null,r.a.createElement("strong",null,"Effect")," ",l))}())},mn=function(e){return r.a.createElement("section",null,r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",{style:{display:"inline-block"}},e.name),r.a.createElement("br",null),r.a.createElement("div",{style:{marginBottom:"1%",paddingBottom:".8%",borderBottom:"double"}}),ze(e.description)))},hn=function(e){var t=Object(h.d)((function(e){return e.character})),a=r.a.useState(""),n=Object(U.a)(a,2),l=n[0],i=n[1],o=r.a.useState(!1),c=Object(U.a)(o,2),s=c[0],u=c[1],d=r.a.useState([]),m=Object(U.a)(d,2),f=m[0],g=m[1],b=r.a.useState(null),v=Object(U.a)(b,2),y=v[0],E=v[1],k=r.a.useState({name:"",description:"",masterwork:!1}),C=Object(U.a)(k,2),O=C[0],A=C[1],T=function(){return r.a.createElement(w.a,{id:"loading-dice-search",icon:_.g,size:"2x"})},I=function(){Z.a.debounce(N,800)(),l.length?u(!0):u(!1)},N=function(){l.length?fetch("".concat(p,"/api/v1/item_search?q=").concat(l)).then((function(e){return e.json()})).then((function(e){g(e),u(!1)})):g([])},D=function(e){var t=Object(j.a)({},O),a=e.target.name,n=e.target.value;"name"===a||"description"===a?t[a]=n:"masterwork"===a&&(t.masterwork=!t.masterwork),A(t)},M=function(e){e.preventDefault();var a=Object(j.a)(Object(j.a)({},O),{},{known:!0,discovered:!0,item_id:y.item.id,character_id:t.id}),n="character_";n+="magicItem"===y.type?"magic_item":y.type,le(n+="s",a).then((function(e){"item"===y.type?de("items",[].concat(Object(S.a)(t.items),[e])):de(n,[].concat(Object(S.a)(t[n]),[e])),P(y.type,e),E(null),i("")}))};return r.a.createElement("section",null,(console.log("searchString hook",l),r.a.createElement(r.a.Fragment,null,r.a.createElement("input",{type:"text",value:l,onChange:function(e){return i(e.target.value)},onKeyUp:I,style:{marginRight:"1%"}}),s&&T())),!y&&f.map((function(e){var t="item",a=e,n=e.name;return e.weapon_type?(t="weapon",a={weapon:e}):e.max_dex_bonus?(t="armor",a={armor:e}):e.affliction_type?t="poison":e.slot&&(t="magicItem"),r.a.createElement("li",null,r.a.createElement("span",null,e.name," "),r.a.createElement("span",{onClick:function(){return P(t,a,{name:n})}},r.a.createElement("button",null,"Info")),r.a.createElement("span",{onClick:function(){return E({item:e,type:t})}},r.a.createElement("button",null,"+")))})),y&&function(){var e=r.a.createElement(r.a.Fragment,null,r.a.createElement("label",{htmlfor:"name"},"Is there a specific name for this item? ",r.a.createElement("input",{type:"text",id:"name",name:"name",onChange:D,value:O.name})),r.a.createElement("br",null),r.a.createElement("label",{htmlfor:"description"},"Is there a detailed description for this item? ",r.a.createElement("input",{type:"text",id:"description",name:"description",onChange:D,value:O.description})),r.a.createElement("br",null),r.a.createElement("label",{htmlfor:"masterwork"},"Is this item a masterwork or handcrafted item? ",r.a.createElement("input",{type:"checkbox",id:"masterwork",name:"masterwork",onChange:D,value:O.masterwork})),r.a.createElement("br",null));return r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",null,y.item.name),r.a.createElement("div",{style:{marginBottom:"1%",paddingBottom:".8%",borderBottom:"double"}}),r.a.createElement("form",{onSubmit:M},("weapon"===y.type||"armor"===y.type)&&e,r.a.createElement("button",null,"Add ",O.name||y.item.name)))}())},pn=function(e){var t=Object(h.d)((function(e){return e})),a=t.character,n=t.character_info,l=function(e,t){var r=!1;"Ildre"===a.name&&(r=!0);var l=Object(S.a)(n.summonedAllies);l.push({creature:e,augmentSummoning:r,template:t}),ue("summonedAllies",l)},i=function(e){var t={};switch(t.description=o[e],e){case"celestial":t.name="Celestial Template";break;case"fiendish":t.name="Fiendish Template";break;case"entropic":t.name="Entropic Template";break;case"resolute":t.name="Resolute Template";break;default:t.name=""}P("templateDescription",t)},o={celestial:"Celestial creatures dwell in the higher planes, but can be summoned using spells such as summon monster and planar ally.\n\nA celestial creature\u2019s CR increases by +1 only if the base creature has 5 or more HD.\n\nRebuild Rules\n\nSenses: The creature gains darkvision 60 ft.\n\nDefensive Abilities: The creature gains damage reduction and energy resistance as noted on the below table.\n\nSR: The creature gains spell resistance equal to its new CR +5.\n\nSpecial Attacks: The creature may smite evil 1/day as a swift action (it adds its Cha bonus to attack rolls, and a damage bonus equal to its HD against evil foes; smite persists until the target is dead or the creature rests).\n\n<table><thead><tr><th>Hit Dice</th><th>Resist Cold, Acid, and Electricity</th><th>DR</th></tr></thead></tbody><tr><td>1-4</td><td>5</td><td>-</td></tr><tr><td>5-10</td><td>10</td><td>5/evil</td></tr><tr><td>11+</td><td>15</td><td>10/evil</td></tr></tbody></table>",fiendish:"Creatures with the fiendish template live in the Lower Planes, such as the Abyss and Hell, but can be summoned using spells such as summon monster and planar ally. A fiendish creature\u2019s CR increases by +1 only if the base creature has 5 or more HD.\n\nRebuild Rules\n\nSenses: The creature gains darkvision 60 ft.\n\nDefensive Abilities: The creature gains damage reduction and energy resistance as noted on the below table.\n\nSR: The creature gains spell resistance equal to its new CR +5.\n\nSpecial Attacks: The creature may smite good 1/day as a swift action (it adds its Cha bonus to attack rolls, and a damage bonus equal to its HD against good foes; smite persists until the target is dead or the creature rests).\n\n<table><thead><tr><th>Hit Dice</th><th>Resist Cold and Fire</th><th>DR</th></tr></thead></tbody><tr><td>1-4</td><td>5</td><td>-</td></tr><tr><td>5-10</td><td>10</td><td>5/good</td></tr><tr><td>11+</td><td>15</td><td>10/good</td></tr></tbody></table>",entropic:"Creatures with the entropic template live in planes where chaos is paramount. They can be summoned using spells such as summon monster and planar ally. An entropic creature\u2019s CR increases by +1 only if the base creature has 5 or more HD.\n\nRebuild Rules\n\nSenses: The creature gains darkvision 60 ft.\n\nDefensive Abilities: The creature gains damage reduction and energy resistance as noted on the below table.\n\nSR: The creature gains spell resistance equal to its new CR +5.\n\nSpecial Attacks: The creature may smite law 1/day as a swift action (it adds its Cha bonus to attack rolls, and a damage bonus equal to its HD against law foes; smite persists until the target is dead or the creature rests).\n\n<table><thead><tr><th>Hit Dice</th><th>Resist Acid and Fire</th><th>DR</th></tr></thead></tbody><tr><td>1-4</td><td>5</td><td>-</td></tr><tr><td>5-10</td><td>10</td><td>5/lawful</td></tr><tr><td>11+</td><td>15</td><td>10/lawful</td></tr></tbody></table>",resolute:"Creatures with the resolute template live in planes where law is paramount. They can be summoned using spells such as summon monster and planar ally. A resolute Creature\u2019s CR increases by +1 only if the base Creature has 5 or more HD.\n\nRebuild Rules\n\nSenses: The creature gains darkvision 60 ft.\n\nDefensive Abilities: The creature gains damage reduction and energy resistance as noted on the below table.\n\nSR: The creature gains spell resistance equal to its new CR +5.\n\nSpecial Attacks: The creature may smite chaos 1/day as a swift action (it adds its Cha bonus to attack rolls, and a damage bonus equal to its HD against chaotic foes; smite persists until the target is dead or the creature rests).\n\n<table><thead><tr><th>Hit Dice</th><th>Resist Acid and Fire</th><th>DR</th></tr></thead></tbody><tr><td>1-4</td><td>5</td><td>-</td></tr><tr><td>5-10</td><td>10</td><td>5/chaotic</td></tr><tr><td>11+</td><td>15</td><td>10/chaotic</td></tr></tbody></table>"};return r.a.createElement("section",null,r.a.createElement("p",null,"All summoned creatures are conjured with a template that reflect your alignment. Please summon a creature with a Celestial (Good), Fiendish (Evil), Entropic (Chaotic), or Resolute (Lawful) template."),function(){var t=e.featureAnimal.summoned_creature_list.sort((function(e,t){return e.step-t.step})).map((function(e){var t=e.creature;return r.a.createElement("tr",null,r.a.createElement("td",{className:"underline-hover",onClick:function(){return P("statBlock",t,{name:t.name})}},t.name),r.a.createElement("td",null,Ua(t.challenge_rating)),r.a.createElement("td",null,e.step),r.a.createElement("td",null,r.a.createElement("button",{onClick:function(){return l(t,"celestial")}},"Summon")),r.a.createElement("td",null,r.a.createElement("button",{onClick:function(){return l(t,"fiendish")}},"Summon")),r.a.createElement("td",null,r.a.createElement("button",{onClick:function(){return l(t,"entropic")}},"Summon")),r.a.createElement("td",null,r.a.createElement("button",{onClick:function(){return l(t,"resolute")}},"Summon")))}));return r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Creature"),r.a.createElement("th",null,"CR"),r.a.createElement("th",null,r.a.createElement("em",null,"summon monster")),r.a.createElement("th",{className:"underline-hover",onClick:function(){return i("celestial")}},"Celestial"),r.a.createElement("th",{className:"underline-hover",onClick:function(){return i("fiendish")}},"Fiendish"),r.a.createElement("th",{className:"underline-hover",onClick:function(){return i("entropic")}},"Entropic"),r.a.createElement("th",{className:"underline-hover",onClick:function(){return i("resolute")}},"Resolute"))),r.a.createElement("tbody",null,t))}())},fn=Object(h.b)((function(e){return{character:e.character,character_info:e.character_info}}))((function(e){var t=e.item,a=e.cmi.known;return r.a.createElement("div",null,a?r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",{style:{display:"inline-block"}},t.name),r.a.createElement(me,{characterItem:e.cmi,item:e.item,exitModal:e.exitModal,editModal:e.editModal,url:"character_magic_item"}),r.a.createElement("div",null,r.a.createElement("strong",null,"Price")," ",t.price_in_gp," gp; ",r.a.createElement("strong",null,"Slot")," ",t.slot,"; ",r.a.createElement("strong",null,"CL")," ",te(t.caster_level),"; ",r.a.createElement("strong",null,"Weight")," ",t.weight," lb; ",r.a.createElement("strong",null,"Aura")," ",t.aura),r.a.createElement("br",null),r.a.createElement("div",{style:{marginBottom:"1%",paddingBottom:".8%",borderBottom:"double"}}),function(a){var n=a.split("\n\n"),l=t.features.map((function(e){return e.spells.map((function(e){return Z.a.lowerCase(e.name)}))}));return l=Z.a.flatten(l),n.map((function(a,n){var i=a;if(l.length){var o="";l.forEach((function(e){o.length>1?(o=o.map((function(t,a){return l.includes(t)||(t=t.split(e)).length>1&&t.splice(1,0,e),t})),o=Z.a.flatten(o)):(o=a.split(e)).length>1&&o.splice(1,0,e)})),i=o.map((function(a){var n;return l.includes(a)?(t.features.forEach((function(e){e.spells.forEach((function(e){Z.a.lowerCase(e.name)===a&&(n=e)}))})),r.a.createElement("em",{className:"underline-hover",onClick:function(){return e.editModal("spell",null,n.id)}},a)):r.a.createElement(r.a.Fragment,null,a)}))}return r.a.createElement("p",{key:3*n+1},i)}))}(t.description)):function(){var t;return r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",null,null!==(t=e.cmi.false_desc)&&void 0!==t?t:"Some sort of Magic Item..."),r.a.createElement(me,{characterItem:e.cmi,item:e.item,exitModal:e.exitModal,editModal:e.editModal}))}())})),gn=a(124),bn=a.n(gn);function vn(){return(vn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function yn(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var En=r.a.createElement("path",{d:"M255.703 44.764c-6.176 0-12.353 1.384-17.137 4.152l-152.752 88.36c-9.57 5.535-9.57 14.29 0 19.826l152.752 88.359c9.57 5.536 24.703 5.536 34.272 0l152.754-88.36c9.57-5.534 9.57-14.289 0-19.824L272.838 48.916c-4.785-2.77-10.96-4.152-17.135-4.152zm-16.066 47.728c10.426.07 20.268 2.997 29.523 8.781 7.217 4.51 11.503 9.194 12.86 14.05 1.3 4.82-.311 9.735-4.838 14.745 9.307-2.952 18.48-3.867 27.521-2.746 9.034 1.059 17.655 4.151 25.863 9.282 12.23 7.643 17.511 15.88 15.842 24.71-1.724 8.796-10.313 17.83-25.767 27.102-5.452 3.271-11.452 6.23-17.998 8.875-6.444 2.651-13.363 4.946-20.758 6.887l-24.541-15.338c8.095-1.213 15.424-2.846 21.992-4.897 6.56-2.114 12.283-4.634 17.166-7.564 7.253-4.352 11.34-8.594 12.26-12.723.967-4.157-1.277-7.939-6.73-11.347-5.62-3.512-11.851-4.97-18.698-4.371-6.855.536-14.146 3.123-21.873 7.76l-10.951 6.57-20.494-12.809 11.52-6.912c6.873-4.125 10.755-7.97 11.642-11.54.832-3.603-1.314-7.006-6.438-10.208-4.737-2.961-10.036-4.268-15.896-3.924-5.86.344-11.779 2.309-17.752 5.893-4.41 2.645-8.286 5.68-11.633 9.105-3.347 3.425-6.119 7.18-8.316 11.266l-23.303-14.565a99.387 99.387 0 0 1 12.105-12.12 109.57 109.57 0 0 1 14.323-10.214c13.795-8.277 26.75-12.81 38.865-13.601a58.478 58.478 0 0 1 4.504-.147zm196.23 81.322c-1.938.074-4.218.858-6.955 2.413l-146.935 84.847c-9.57 5.527-17.14 18.638-17.14 29.69v157.699c0 11.05 7.57 15.419 17.14 9.89l146.937-84.843c9.57-5.527 17.137-18.636 17.137-29.688v-157.7c-2.497-8.048-5.23-12.495-10.184-12.308zm-359.763.48c-6.227 0-10.033 5.325-10.155 11.825v157.697c0 11.052 7.57 24.163 17.14 29.69l146.93 84.848c9.57 5.526 17.141 1.156 17.141-9.895v-157.7c0-11.051-7.57-24.159-17.14-29.687L83.09 176.225c-2.567-1.338-4.911-1.93-6.986-1.93zm36.19 57.757c6.391 1.269 12.707 3.12 18.95 5.553 6.243 2.373 12.363 5.36 18.36 8.958 13.173 7.905 23.398 17.558 30.673 28.961 7.324 11.433 10.985 23.444 10.985 36.03 0 7.277-1.548 13.148-4.645 17.613-3.097 4.405-9.61 8.908-19.539 13.508l-23.521 10.94L192 382.68V408l-80-48v-25.32l40.184-18.928c3.588-1.784 6.244-4.038 7.964-6.764 1.72-2.725 2.58-6.115 2.58-10.172 0-6.263-1.746-12.35-5.236-18.261-3.44-5.882-8.036-10.55-13.787-14-4.424-2.655-9.266-4.397-14.525-5.227-5.26-.889-10.888-.865-16.885.07v-29.347zm261.876 7.447v111.77L400 335.77V360l-79.316 47.59v-24.23l25.832-15.499v-87.904L320 302.424v-23.865l26.363-22.377 27.807-16.684z",fill:"#000000",fillOpacity:1}),kn=function(e){var t=e.svgRef,a=e.title,n=yn(e,["svgRef","title"]);return r.a.createElement("svg",vn({viewBox:"0 0 512 512",style:{height:512,width:512},ref:t},n),a?r.a.createElement("title",null,a):null,r.a.createElement("g",{className:"",transform:"translate(0,0)",style:{}},En))},wn=r.a.forwardRef((function(e,t){return r.a.createElement(kn,vn({svgRef:t},e))}));a.p;function _n(){return(_n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Cn(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var Sn=r.a.createElement("path",{d:"M235.11 196.24l17.074-29.463v29.463H235.11zM486.95 456H25.05L256 56zm-358.631-54.833l41.212-22.943-6.702-12.075-59.699 33.303 5.458 9.805a11.278 11.278 0 0 1 2.645-.881 11.822 11.822 0 0 1 5.566-.085 12.534 12.534 0 0 1 6.34 4.01 59.3 59.3 0 0 1 5.071 7.353l7.994-4.456zM273.074 196.24h-7.74v-42.734H250.24l-25.14 41.515v11.749h27.072v14.72h13.162v-14.72h7.74v-10.518zm131.619 212.45q6.822-11.93.616-21.735-3.26-5.132-10.675-9.745l-6.484 11.338a22.677 22.677 0 0 1 6.533 5.483q2.873 4.19-.17 9.515a8.453 8.453 0 0 1-5.916 4.552 10.868 10.868 0 0 1-7.463-1.497 14.08 14.08 0 0 1-6.436-8.513 99.728 99.728 0 0 1-2.294-15.167q-1.316-13.089-5.82-18.982a32.144 32.144 0 0 0-10.095-9.418l-23.28 40.705 10.275 5.88 14.828-25.913a15.203 15.203 0 0 1 1.679 4.577q.47 2.415 1.062 8.585l.64 6.57a45.149 45.149 0 0 0 2.717 12.823 21.518 21.518 0 0 0 9.455 10.638q8.598 4.915 17.002 2.33 8.404-2.584 13.814-12.014z",fill:"#000000",fillOpacity:1}),On=function(e){var t=e.svgRef,a=e.title,n=Cn(e,["svgRef","title"]);return r.a.createElement("svg",_n({viewBox:"0 0 512 512",style:{height:512,width:512},ref:t},n),a?r.a.createElement("title",null,a):null,r.a.createElement("g",{className:"",transform:"translate(0,0)",style:{}},Sn))},jn=r.a.forwardRef((function(e,t){return r.a.createElement(On,_n({svgRef:t},e))}));a.p;function An(){return(An=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Tn(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var In=r.a.createElement("path",{d:"M255.703 44.764c-6.176 0-12.353 1.384-17.137 4.152l-152.752 88.36c-9.57 5.535-9.57 14.29 0 19.826l152.752 88.359c9.57 5.536 24.703 5.536 34.272 0l152.754-88.36c9.57-5.534 9.57-14.289 0-19.824L272.838 48.916c-4.785-2.77-10.96-4.152-17.135-4.152zM238.695 87.27l22.838 14.273c-6.747 1.007-12.586 2.28-17.515 3.818-4.985 1.504-9.272 3.334-12.864 5.489-7.721 4.633-11.09 9.897-10.105 15.793.93 5.86 6.223 12.247 15.875 19.16.26-3.467 1.457-6.652 3.59-9.553 2.077-2.936 5.159-5.629 9.244-8.08 10.28-6.168 22.259-8.83 35.935-7.98 13.722.821 26.568 4.973 38.537 12.455 13.239 8.274 20.334 17.024 21.284 26.251.894 9.194-4.584 17.346-16.436 24.458-13.064 7.838-28.593 10.533-46.588 8.085-18.004-2.508-36.964-9.986-56.877-22.431-20.41-12.756-32.258-25.276-35.547-37.56-3.299-12.347 2.348-22.895 16.938-31.65 4.624-2.774 9.554-5.192 14.79-7.253 5.238-2.061 10.871-3.82 16.901-5.275zm38.678 53.23c-4.169-.007-7.972 1.02-11.406 3.08-4.534 2.72-6.125 5.906-4.774 9.555 1.341 3.587 5.624 7.64 12.85 12.156 7.226 4.516 13.78 7.237 19.666 8.166 5.875.867 11.081-.059 15.615-2.78 4.58-2.747 6.198-5.915 4.858-9.503-1.351-3.65-5.64-7.732-12.866-12.248-7.226-4.516-13.777-7.207-19.652-8.074a27.826 27.826 0 0 0-4.291-.352zm158.494 33.314c-1.938.074-4.218.858-6.955 2.413l-146.935 84.847c-9.57 5.527-17.14 18.638-17.14 29.69v157.699c0 11.05 7.57 15.419 17.14 9.89l146.937-84.843c9.57-5.527 17.137-18.636 17.137-29.688v-157.7c-2.497-8.048-5.23-12.495-10.184-12.308zm-359.763.48c-6.227 0-10.033 5.325-10.155 11.825v157.697c0 11.052 7.57 24.163 17.14 29.69l146.93 84.848c9.57 5.526 17.141 1.156 17.141-9.895v-157.7c0-11.051-7.57-24.159-17.14-29.687L83.09 176.225c-2.567-1.338-4.911-1.93-6.986-1.93zm40.095 52.226l68.114 40.869v25.287l-46.262-27.758v20.64a43.279 43.279 0 0 1 6.262 2.151c2.135.864 4.341 1.98 6.619 3.346 12.953 7.772 23.037 17.902 30.25 30.39 7.212 12.43 10.818 25.912 10.818 40.448 0 14.416-3.938 23.342-11.814 26.777-7.83 3.464-18.72 1.01-32.67-7.36-6.026-3.615-12.005-7.948-17.936-12.996-5.884-4.96-11.744-10.68-17.58-17.16v-27.076c5.789 7.643 11.27 14.06 16.441 19.248 5.22 5.217 10.13 9.205 14.733 11.967 6.643 3.986 11.862 5.092 15.658 3.318 3.843-1.804 5.766-6.19 5.766-13.16 0-7.03-1.923-13.723-5.766-20.08-3.796-6.328-9.015-11.485-15.658-15.47a56.585 56.585 0 0 0-12.598-5.594c-4.46-1.426-9.252-2.335-14.377-2.729V226.52zm270.047 5.732v85.809L400 309.809v25.414l-13.754 8.252v24.777l-23.502 14.102v-24.778L320 383.223v-30.06l38.611-104.331 27.635-16.58zm-23.502 42.978l-27.248 73.28 27.248-16.348V275.23z",fill:"#000000",fillOpacity:1}),Nn=function(e){var t=e.svgRef,a=e.title,n=Tn(e,["svgRef","title"]);return r.a.createElement("svg",An({viewBox:"0 0 512 512",style:{height:512,width:512},ref:t},n),a?r.a.createElement("title",null,a):null,r.a.createElement("g",{className:"",transform:"translate(0,0)",style:{}},In))},Dn=r.a.forwardRef((function(e,t){return r.a.createElement(Nn,An({svgRef:t},e))}));a.p;function Mn(){return(Mn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function xn(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var Fn=r.a.createElement("path",{d:"M256 37.143L77.896 343.853h356.208zM230.154 49.79L72 164.233v157.91zm51.69 0L440 322.144V164.232zm-132.516 90.02v21.786l-8.486 9.68v-16.942c-2.772 3.24-5.692 6.367-8.385 9.664 3.536.293 2.484 5.43 2.207 7.752-1.746 9.536-8.154 17.575-13.404 24.79-1.943 2.544-3.943 5.075-6.008 7.507-4.65 3.4-8.49 4.39-10.775-1.463.294-7.806 3.84-15.22 8.046-20.967l5.288-7.918c-.048 2.462.1 4.97-.072 7.405-2.34 4.347-6.766 9.46-5.758 14.608 7.76.874 12.22-10.863 14.522-16.58.832-2.76 2.108-5.458-1.418-5.434v-7.264zm212.13 1.21l44.853 54.464v7.262l-30.304-36.31v8.472l-6.06-7.262c-.155-4.15-1.424-8.377-2.425-12.103-1.86-2.936-3.96-5.704-6.06-8.47zM256.07 203.86c8.37 0 14.733 1.53 19.088 4.587 4.355 3.027 6.533 7.475 6.533 13.344 0 3.924-1.08 7.198-3.243 9.823-2.13 2.626-5.297 4.572-9.498 5.838 4.694 1.298 8.23 3.415 10.61 6.35 2.408 2.902 3.614 6.576 3.614 11.024 0 6.857-2.286 12.047-6.858 15.57-4.54 3.49-11.288 5.233-20.246 5.233-8.988 0-15.784-1.744-20.386-5.234-4.572-3.522-6.858-8.712-6.858-15.57 0-4.447 1.19-8.12 3.57-11.024 2.408-2.935 5.96-5.052 10.655-6.35-4.2-1.265-7.366-3.21-9.497-5.837-2.13-2.625-3.198-5.9-3.198-9.822 0-5.837 2.18-10.285 6.534-13.343 4.354-3.058 10.748-4.586 19.18-4.586zm0 11.212c-2.84 0-5.035.742-6.58 2.225-1.513 1.482-2.27 3.583-2.27 6.3 0 2.75.757 4.866 2.27 6.348 1.545 1.483 3.74 2.225 6.58 2.225 2.78 0 4.926-.742 6.44-2.225 1.513-1.482 2.27-3.598 2.27-6.347 0-2.75-.757-4.85-2.27-6.3-1.514-1.484-3.66-2.226-6.44-2.226zm0 28.262c-3.336 0-5.9.912-7.69 2.734-1.793 1.823-2.69 4.433-2.69 7.83 0 3.398.897 6.008 2.69 7.83 1.79 1.792 4.354 2.688 7.69 2.688 3.305 0 5.837-.896 7.598-2.687 1.76-1.824 2.64-4.434 2.64-7.832 0-3.428-.88-6.038-2.64-7.83-1.76-1.822-4.293-2.734-7.598-2.734zM88.7 359.852L256 480.912l167.3-121.06zm139.42 23.23h54.548v4.842c-14.406 5.942-21.582 12.897-27.88 25.416h-15.76c7.104-13.803 14.546-17.714 26.67-25.416h-37.58z",fill:"#000000",fillOpacity:1}),Rn=function(e){var t=e.svgRef,a=e.title,n=xn(e,["svgRef","title"]);return r.a.createElement("svg",Mn({viewBox:"0 0 512 512",style:{height:512,width:512},ref:t},n),a?r.a.createElement("title",null,a):null,r.a.createElement("g",{className:"",transform:"translate(0,0)",style:{}},Fn))},Pn=r.a.forwardRef((function(e,t){return r.a.createElement(Rn,Mn({svgRef:t},e))}));a.p;function Ln(){return(Ln=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Bn(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var Hn=r.a.createElement("path",{d:"M375.483 251.243l-109.98 51.138.213 183.381L477.01 266.346l-86.993-21.81zm-12.736 108.626l-5.947 14.699-48.604-8.955 5.007-12.832a141.306 141.306 0 0 0 13.51-11.358 167.184 167.184 0 0 0 16.566-17.517 170.478 170.478 0 0 0 12.606-17.958 115.607 115.607 0 0 0 9.514-17.97l14.068 2.51q-9.37 22.334-30.361 44.43-13.296 13.64-20.645 18.636zM121.603 244.334l-84.71 21.763L246.474 486V302.38l-109.946-51.137zm19.147 50.852a28.72 28.72 0 0 1 24.273 6.802 53.052 53.052 0 0 1 11.226 14.188l-13.081 2.676a28.542 28.542 0 0 0-5.388-7.374q-5.185-4.876-11.262-3.853l-.487.095a6.458 6.458 0 0 0-5.162 4.448c-.856 2.378-.238 5.554 1.796 9.371q4.08 7.6 10.81 9.027a23.785 23.785 0 0 0 8.563-.203l1.867-.344 5.791 10.822q-6.398 1.427-8.23 3.282-3.21 3.14.429 9.93a17.042 17.042 0 0 0 6.089 6.696 10.406 10.406 0 0 0 7.385 1.534l.416-.083q4.757-.964 5.079-4.757c.261-2.57-.655-5.744-2.748-9.514l12.38-2.545a49.247 49.247 0 0 1 4.103 11.226 19.956 19.956 0 0 1-.642 9.383 11.702 11.702 0 0 1-3.96 5.411 19.575 19.575 0 0 1-8.027 3.235l-1.19.214a27.971 27.971 0 0 1-17.494-2.7 32.193 32.193 0 0 1-14.128-14.092q-3.627-6.79-2.604-12.19a8.396 8.396 0 0 1 2.521-4.947h-.071q-1.844.31-7.04-2.497a32.11 32.11 0 0 1-12.916-13.593q-5.245-9.764-3.282-18.398 1.962-8.634 13.676-11zM27.19 248.865l108.78-116.309a7.135 7.135 0 0 1 1.427 0h.154q3.14.345 2.842 3.71a19.36 19.36 0 0 1-3.294 8.1 39.376 39.376 0 0 1-9.728 10.405q-3.912 2.938-15.044 9.514-12.796 7.505-19.55 14.77a92.535 92.535 0 0 0-11.513 14.486l32.907 3.758 8.182-12.963-20.967-2.378a36.415 36.415 0 0 1 4.757-3.83q2.379-1.605 8.444-5.125l6.422-3.747a92.975 92.975 0 0 0 12.903-8.776 61.472 61.472 0 0 0 12.51-14.414q6.84-10.846 6.494-17.957c-.19-3.949-2.105-6.434-5.684-7.505l79.798-85.161-102.097 179.576-5.708 10.06zm367.238-71.974q-3.817-5.458-3.758-8.515c0-2.033 1.19-3.199 3.568-3.448h.57a11.892 11.892 0 0 1 6.91 2.247 29.85 29.85 0 0 1 7.837 8.051q3.687 5.28 3.71 8.397c0 2.093-1.188 3.258-3.496 3.567h-.594a11.75 11.75 0 0 1-6.957-2.378 29.79 29.79 0 0 1-7.79-7.885zm-109.41-141.52l83.948 89.634h-1.189c-.38 0-.975 0-1.463.107q-7.825.892-8.324 6.862-.5 5.97 5.03 13.747a53.778 53.778 0 0 0 6.375 7.374 37.901 37.901 0 0 0 10.144 6.897q-2.117 2.89-.702 7.98a37.283 37.283 0 0 0 5.613 11.096 55.122 55.122 0 0 0 15.223 14.806q8.098 5.268 16.066 4.935.81 0 1.618-.13 8.776-.988 9.228-7.873a16.114 16.114 0 0 0-.463-4.853l58.689 62.686-91.572-22.941-6.1-10.703zm98.22 104.927l2.45 2.617c.451.57.903 1.189 1.355 1.784 1.808 2.592 2.723 4.757 2.723 6.529 0 1.771-1.034 2.782-3.127 3.02h-.512a10.346 10.346 0 0 1-6.077-1.95 22.596 22.596 0 0 1-6.184-6.137c-1.974-2.83-2.937-5.102-2.878-6.814.06-1.713 1.118-2.7 3.187-2.937h.524a10.263 10.263 0 0 1 6.005 1.879 19.147 19.147 0 0 1 2.533 2.01zM255.987 26L137.456 231.026l118.532 55.05 118.604-55.05zm-1.19 208.463q-17.529 0-24.58-12.273-7.053-12.273-7.053-34.988 0-22.714 7.052-35.047 7.052-12.332 24.582-12.344 17.53 0 24.582 12.332 7.052 12.333 7.052 35.047 0 22.715-7.052 34.988-7.053 12.273-24.582 12.285zm10.538-71.807q2.497 7.968 2.497 24.546 0 15.817-2.497 24.201-2.498 8.384-10.537 8.325-8.04 0-10.632-8.325-2.593-8.324-2.593-24.2 0-16.579 2.593-24.547t10.632-7.968q8.015-.012 10.513 7.956z",fill:"#000000",fillOpacity:1}),Wn=function(e){var t=e.svgRef,a=e.title,n=Bn(e,["svgRef","title"]);return r.a.createElement("svg",Ln({viewBox:"0 0 512 512",style:{height:512,width:512},ref:t},n),a?r.a.createElement("title",null,a):null,r.a.createElement("g",{className:"",transform:"translate(0,0)",style:{}},Hn))},qn=r.a.forwardRef((function(e,t){return r.a.createElement(Wn,Ln({svgRef:t},e))}));a.p;function zn(){return(zn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Un(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var Gn=r.a.createElement("path",{d:"M450.169 181.354L379.685 84.29 265.629 47.325v92.652l96.384 70.031zm-91.46-28.416a19.735 19.735 0 0 1-3.004 6.606 16.563 16.563 0 0 1-11.924 6.857q-7.548.918-15.729-5.056-8.18-5.974-9.599-13.439a16.563 16.563 0 0 1 2.922-13.414 19.747 19.747 0 0 1 5.378-4.866q3.422-2.206 9.026-1.574a18.757 18.757 0 0 1-1.717-10.421 21.082 21.082 0 0 1 4.03-9.802 19.246 19.246 0 0 1 13.666-7.99q8.633-1.108 17.779 5.57 9.146 6.677 10.326 14.952a20.033 20.033 0 0 1-3.827 15.204 20.772 20.772 0 0 1-8.145 6.797 16.312 16.312 0 0 1-10.17 1.192q2.038 5.461.989 9.384zm-10.731-8.287a8.252 8.252 0 0 1-1.717 6.189 8.907 8.907 0 0 1-15.669-3.685 8.562 8.562 0 0 1 1.908-6.367 8.347 8.347 0 0 1 5.33-3.578 8.252 8.252 0 0 1 6.451 1.825 8.347 8.347 0 0 1 3.757 5.628zm9.54-11.77a10.732 10.732 0 0 1-11.472-8.346q-.548-3.709 2.504-7.894a10.851 10.851 0 0 1 6.654-4.77 10.732 10.732 0 0 1 11.543 8.43 10.851 10.851 0 0 1-2.469 7.775q-2.945 4.198-6.653 4.806zm-110.968 7.096V47.325L132.494 84.29 62.01 181.354l88.156 28.618zm-112.66-21.798l37.895-26.52a31.73 31.73 0 0 1 5.056 12.664q1.55 7.155-2.79 19.413a98.304 98.304 0 0 0-4.341 14.524 13.904 13.904 0 0 0 2.158 10.314 10.732 10.732 0 0 0 6.034 4.472 8.347 8.347 0 0 0 7.154-1.574q4.961-3.47 4.162-8.43a22.418 22.418 0 0 0-3.577-7.644l10.577-7.393q4.674 7.25 5.425 13.2 1.443 11.328-9.682 19.079-8.789 6.153-17.386 4.913-8.597-1.24-14.214-9.242a21.237 21.237 0 0 1-3.97-13.486 44.513 44.513 0 0 1 3.112-12.568l2.194-6.141q2.063-5.76 2.659-8.12a15.025 15.025 0 0 0 .43-4.77l-24.16 16.908zm64.7 215.412h114.998l35.51-109.37-93.009-67.598-93.009 67.599zm89.266-95.072a8.347 8.347 0 0 0-6.797-2.838q-6.058 0-8.24 4.52a22.382 22.382 0 0 0-1.49 8.346h-12.855q.322-8.62 3.124-13.927 5.319-10.112 18.889-10.112 10.731 0 17.063 5.962 6.332 5.962 6.237 15.633a21.25 21.25 0 0 1-4.484 13.32 44.585 44.585 0 0 1-9.659 8.62l-5.318 3.769q-4.996 3.577-6.832 5.127a15 15 0 0 0-3.1 3.685h29.488v11.685h-46.207a31.73 31.73 0 0 1 3.125-13.271q2.838-6.75 13.414-14.31a98.602 98.602 0 0 0 11.925-9.408 13.916 13.916 0 0 0 4.15-9.682 10.732 10.732 0 0 0-2.433-7.13zm-79.607-1.812a58.536 58.536 0 0 0 8.776-.835 12.377 12.377 0 0 0 6.511-3.577 11.686 11.686 0 0 0 2.6-4.842 11.125 11.125 0 0 0 .512-2.707h11.09v67.54h-13.606v-46.553H208.25v-9.038zM196.468 352.67l-54.434 75.04 114.055 36.965 114.056-36.965-54.434-75.04H196.468zm77.27 83.792q-5.64 7.226-17.517 7.214-12.76 0-18.817-10.672-4.71-8.347-4.71-21.464a97.78 97.78 0 0 1 .656-12.58 38.444 38.444 0 0 1 4.52-14.309 23.121 23.121 0 0 1 7.571-7.87 20.414 20.414 0 0 1 11.197-2.981q9.408 0 15 4.77a18.328 18.328 0 0 1 6.285 12.83h-13.165a6.773 6.773 0 0 0-1.252-3.577 7.286 7.286 0 0 0-6.475-3.172q-6.474 0-9.217 7.262a45.062 45.062 0 0 0-2.051 11.829 14.905 14.905 0 0 1 5.724-4.281 20.975 20.975 0 0 1 22.19 4.77 21.833 21.833 0 0 1 5.748 15.609 26.34 26.34 0 0 1-5.64 16.61zm-10.732-24.612q2.885 3.148 2.885 9.063a13.868 13.868 0 0 1-2.54 8.645 8.275 8.275 0 0 1-6.963 3.327 9.36 9.36 0 0 1-7.453-3.446 13.248 13.248 0 0 1-2.862-8.884q0-6.75 3.911-9.778a9.456 9.456 0 0 1 5.962-2.05 9.241 9.241 0 0 1 7.131 3.111zm119.147-112.195l27.879 8.347-4.77 16.157zm-14.31-71.546l-36.81 113.28 54.483 74.993L456 319.366V199.503zm66.073 86.952l-13.927-4.162-7.656 25.614-11.113-3.315-32.196-35.523 4.27-14.309 40.434 12.08 2.183-7.322 9.956 2.97-2.182 7.32 13.928 4.162zm-289.76-86.952L56 199.491v119.934l70.484 97.016 54.482-74.992zM72.54 286.24l44.43-14-4.77-15.143 8.621-2.719a58.536 58.536 0 0 0 3.435 8.12 12.377 12.377 0 0 0 5.33 5.14 11.686 11.686 0 0 0 5.401 1.026 11.137 11.137 0 0 0 2.731-.322l3.327 10.576-64.391 20.272zm18.47 58.596l-4.09-12.974 44.43-13.999-4.77-15.144 8.622-2.718a58.68 58.68 0 0 0 3.434 8.12 12.365 12.365 0 0 0 5.33 5.14 11.65 11.65 0 0 0 5.402 1.025 11.102 11.102 0 0 0 2.73-.322l3.328 10.577z",fill:"#000000",fillOpacity:1}),Yn=function(e){var t=e.svgRef,a=e.title,n=Un(e,["svgRef","title"]);return r.a.createElement("svg",zn({viewBox:"0 0 512 512",style:{height:512,width:512},ref:t},n),a?r.a.createElement("title",null,a):null,r.a.createElement("g",{className:"",transform:"translate(0,0)",style:{}},Gn))},Kn=r.a.forwardRef((function(e,t){return r.a.createElement(Yn,zn({svgRef:t},e))}));a.p;function Vn(){return(Vn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Jn(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var Qn=r.a.createElement("path",{d:"M248 20.3L72.33 132.6 248 128.8zm16 0v108.5l175.7 3.8zm51.4 58.9c6.1 3.5 8.2 7.2 15.1 4.2 10.7.8 22.3 5.8 27.6 15.7 4.7 4.5 1.5 12.6-5.2 12.6-9.7.1-19.7-6.1-14.6-8.3 4.7-2 14.7.9 10-5.5-3.6-4.5-11-7.8-16.3-5.9-1.6 6.8-9.4 4-12-.7-2.3-5.8-9.1-8.2-15-7.9-6.1 2.7 1.6 8.8 5.3 9.9 7.9 2.2.2 7.5-4.1 5.1-4.2-2.4-15-9.6-13.5-18.3 5.8-7.39 15.8-4.62 22.7-.9zm-108.5-3.5c5.5.5 12.3 3 10.2 9.9-4.3 7-9.8 13.1-18.1 14.8-6.5 3.4-14.9 4.4-21.6 1.9-3.7-2.3-13.5-9.3-14.9-3.4-2.1 14.8.7 13.1-11.1 17.8V92.3c9.9-3.9 21.1-4.5 30.3 1.3 8 4.2 19.4 1.5 24.2-5.7 1.4-6.5-8.1-4.6-12.2-3.4-2.7-8.2 7.9-7.5 13.2-8.8zm35 69.2L55.39 149l71.21 192.9zm28.2 0l115.3 197L456.6 149zm-14.1 7.5L138.9 352.6h234.2zm133.3 21.1c13.9 8.3 21.5 26.2 22.1 43-1.3 13.6-.7 19.8-15.2 21.4-14.5 1.6-23.9-19.2-29.7-32.6-3.4-9.9-5.8-24 1.7-31.3 6.1-4.8 15-4.1 21.1-.5zm-223.7 16.1c2.1 4-.5 11.4-4.8 12.1-4.9.7-3.8-9.3-9.4-11.6-6.9-2.3-13.6 5.6-15 11.6 10.4-4 20.3 7.1 20.3 17-.4 11.7-7.9 24.8-19.7 28.1h-5.6c-12.7-.7-18.3-15.8-14.2-26.6 4.4-15.8 10.8-33.9 27.2-40.6 8.5-3.9 19 3.2 21.2 10zm213.9-8.4c-7.1-.1-4.4 10-3.3 14.5 3.5 11.5 7.3 26.6 18.9 30 6.8-1.2 4.4-12.8 3.7-16.5-4.7-10.9-7.1-23.3-19.3-28zM52 186v173.2l61.9-5.7zm408 0l-61.9 167.5 61.9 5.7zm-117.9.7l28.5 63.5-10 4.4-20-43.3c-6.1 3-13 8.9-14.6-1.4-1.3-3.9 8.5-5.1 8.1-11.9-.3-6.9 2.2-12.2 8-11.3zm-212 27.4c-2.4 5.1-4.1 10.3-2.7 15.9 1.7 8.8 13.5 6.4 15.6-.8 2.7-5 3.9-11.7-.5-15.7-4.1-3.4-8.9-2.8-12.4.6zm328.4 41.6c-.1 18.6 1.1 39.2-9.7 55.3-.9 1.2-2.2 1.9-3.7 2.5-5.8-4.1-3-11.3 1.2-15.5 1 7.3 5.5-2.9 6.6-5.6 1.3-3.2 3.6-17.7-1-10.2.7 4-6.8 13.1-9.3 8.1-5-14.4 0-30.5 7-43.5 5.7-6.2 9.9 4.4 8.9 8.9zM59.93 245.5c.59.1 1.34 1 2.48 3.6v61.1c-7.3-7-4.47-18-4.45-26.4 0-8.4 1.65-16.3-1.28-23.2-4.62-1.7-5.79-17-3.17-12.7 4.41 4.8 4.66-2.7 6.42-2.4zm178.77 7.6c8.1 4.5 13.8 14.4 10.8 23.6-2.1 15.2-27 21.1-30.4 29.7-1.2 3 25.4 1.6 30.2 1.6.5 4 1.5 10.7-3.8 11.7-14.5-1.2-29.9-.6-45.1-.6.4-11.2 7.4-21.3 17-26.8 6.9-4.9 15.4-9.3 18.1-17.9 1.8-4.5-.6-9.3-4.6-11.5-4.2-2.9-11-2.3-13.2 2.7-2 3.8-4.4 9.1-8.7 9.6-2.9.4-9 .5-7.2-4.9 1.4-5.6 3.4-11.5 8.2-15.2 8.8-6.3 19.9-6.7 28.7-2zm53.3-1.4c6.8 2.2 12 7.9 14.3 14.6 6.1 14.7 5.5 33.1-4.4 45.9-4.5 4.8-10.2 9.1-17 9.1-12.5-.1-22.4-11.1-24.8-22.8-3.1-13.4-1.8-28.7 6.9-39.8 6.8-7.6 16-10.3 25-7zm156.1 8.1c-1.6 5.9-3.3 13.4-.7 19.3 5.1-2 5.4-9.6 6.6-14.5.9-6.1-3.5-12.6-5.9-4.8zm-176.2 21.1c.6 10.5 1.7 22.8 9.7 28.2 4.9 1.8 9.7-2.2 11.1-6.7 1.9-6.3 2.3-12.9 2.4-19.4-.2-7.1-1.5-15-6.7-20.1-12.2-4.4-15.3 10.9-16.5 18zM434 266.8V328l-4.4 6.7v-42.3c-4.6 7.5-9.1 9.1-6.1-.9 6.1-7.1 4.8-17.4 10.5-24.7zM83.85 279c.8 3.6 5.12 17.8 2.04 14.8-1.97-1.3-3.62-4.9-3.41-6.1-1.55-3-2.96-6.1-4.21-9.2-2.95 4-3.96 8.3-3.14 13.4.2-1.6 1.18-2.3 3.39-.7 7.84 12.6 12.17 29.1 7.29 43.5l-2.22 1.1c-10.36-5.8-11.4-19.4-13.43-30-1.55-12.3-.79-24.7 2.3-36.7 5.2-3.8 9.16 5.4 11.39 9.9zm-7.05 20.2c-4.06 4.7-2.26 12.8-.38 18.4 1.11 5.5 6.92 10.2 6.06 1.6.69-11.1-2.33-12.7-5.68-20zm66.4 69.4L256 491.7l112.8-123.1zm-21.4.3l-53.84 4.9 64.24 41.1c-2.6-2.7-4.9-5.7-7.1-8.8-5.2-6.9-10.5-13.6-18.9-16.6-8.75-6.5-4.2-5.3 2.9-2.6-1-1.8-.7-2.6.1-2.6 2.2-.2 8.4 4.2 9.8 6.3l24.7 31.6 65.1 41.7zm268.4 0l-42.4 46.3c6.4-3.1 11.3-8.5 17-12.4 2.4-1.4 3.7-1.9 4.3-1.9 2.1 0-5.4 7.1-7.7 10.3-9.4 9.8-16 23-28.6 29.1l18.9-24.5c-2.3 1.3-6 3.2-8.2 4.1l-40.3 44 74.5-47.6c5.4-6.7 1.9-5.6-5.7-.9l-11.4 6c11.4-13.7 30.8-28.3 40-35.6 9.2-7.3 15.9-9.8 8.2-1.5l-12.6 16c10-7.6.9 3.9-4.5 5.5-.7 1-1.4 2-2.2 2.9l54.5-34.9zM236 385.8v43.4h-13.4v-30c-5-1.4-10.4 1.7-15.3-.3-3.8-2.9 1-6.8 4.5-5.9 3.3-.1 7.6.2 9.3-3.2 4.4-4.5 9.6-4.4 14.9-4zm29 .5c12.1 1.2 24.2.6 36.6.6 1.5 3 .8 7.8-3.3 7.9-7.7.3-21-1.6-25.9.6-8.2 10.5 5.7 3.8 11.4 5.2 7 1.1 15 2.9 19.1 9.2 2.1 3.1 2.7 7.3.7 10.7-5.8 6.8-17 11.5-25.3 10.9-7.3-.6-15.6-1.1-20.6-7.1-6.4-10.6 10.5-6.7 12.2-3.2 6 5.3 20.3 1.9 20.7-4.7.6-4.2-2.1-6.3-6.9-7.8-4.8-1.5-12.6 1-17.3 1.8-4.7.8-9.6.5-9-4.4.8-4.2 2.7-8.1 2.7-12.5.1-3 1.7-7 4.9-7.2zm133.5 5c-.2-.2-7 5.8-9.9 8.1l-15.8 13.1c10.6-6.5 19.3-12 25.7-21.2zm-247 14.2c2.4 0 7.5 4.6 9.4 7l26.1 31.1c-7.7-2.1-13.3-7.1-17.6-13.7-6.5-7.3-11.3-16.6-21.2-19.6-9-5-5.2-6.4 2.1-2.2-.3-1.9.2-2.6 1.2-2.6z",fill:"#000000",fillOpacity:1}),Zn=function(e){var t=e.svgRef,a=e.title,n=Jn(e,["svgRef","title"]);return r.a.createElement("svg",Vn({viewBox:"0 0 512 512",style:{height:512,width:512},ref:t},n),a?r.a.createElement("title",null,a):null,r.a.createElement("g",{className:"",transform:"translate(0,0)",style:{}},Qn))},Xn=r.a.forwardRef((function(e,t){return r.a.createElement(Zn,Vn({svgRef:t},e))}));a.p;function $n(){return($n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function er(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var tr=r.a.createElement("path",{d:"M107.376 28.002c-7.475.147-15.469 2.625-21.11 5.318-12.971 6.287-26.097 18.123-36.622 32.412-10.526 14.29-18.463 30.992-21.854 46.35-3.371 15.272-2.164 28.759 3.705 38.08l89.178 117.861c-.323-1.676-.62-3.362-.877-5.062-4.594-30.313.962-64.488 17.356-95.967 16.393-31.479 40.677-54.6 67.261-66.51 9.26-4.148 18.853-6.918 28.473-8.152l-110.045-60.43c-5.044-2.575-10.19-3.83-15.465-3.9zm138.156 81.95c-11.029-.138-22.48 2.414-33.81 7.49-22.66 10.15-44.375 30.513-59.059 58.708-14.684 28.196-19.4 58.59-15.484 84.428 3.916 25.839 16.127 46.774 35.404 58.152 11.198 6.61 23.703 9.352 36.658 8.504-5.197-12.722-9.295-25.665-9.841-39.318 10.304-19.968 20.802-39.936 35.695-59.905 22.946-7.223 47.124-4.533 75.035-3.39 3.722-16.605 4.335-32.99 2.08-47.863-3.916-25.839-16.127-46.774-35.404-58.153-9.638-5.689-20.244-8.516-31.273-8.654zm71.481 132.306l-67.496 3.863 18.369 61.832 66.26-3.715c-2.435-21.315-10.232-41.558-17.133-61.98zm-80.666 15.195c-7.923 9.763-14.526 20.318-17.787 32.877 1.772 19.22 4.134 38.373 14.185 56.672l18.39-30.13zm173.738 59.95c-24.604 11.259-43.699 23.436-62.822 35.609l70.945 55.69 67.86-48.368c-22.714-15.182-47.656-29.62-75.983-42.932zm-82.357 6.152l-62.108 2.92-18.431 29.722c19.703-.995 38.332.695 59.717-4.502 10.37-9.38 14.824-18.76 20.822-28.14zm14.894 48.601c-5.018 19.188-5.258 39.333-5.73 59.43 17.198 23.68 40.384 36.581 61.943 52.412l8.658-62.232zm142.354 9.223l-58.973 42.498-8.88 56.496c19.434-11.58 37.82-24.417 52.605-41.574 8.266-19.14 11.495-38.28 15.248-57.42z",fill:"#000000",fillOpacity:1}),ar=function(e){var t=e.svgRef,a=e.title,n=er(e,["svgRef","title"]);return r.a.createElement("svg",$n({viewBox:"0 0 512 512",style:{height:512,width:512},ref:t},n),a?r.a.createElement("title",null,a):null,r.a.createElement("g",{className:"",transform:"translate(0,0)",style:{}},tr))},nr=r.a.forwardRef((function(e,t){return r.a.createElement(ar,$n({svgRef:t},e))})),rr=(a.p,function(e){var t=r.a.useState({}),a=Object(U.a)(t,2),n=a[0],l=a[1],i=r.a.useState([]),o=Object(U.a)(i,2),c=o[0],s=o[1],u=r.a.useState(0),d=Object(U.a)(u,2),m=d[0],p=d[1],f=r.a.useState(0),g=Object(U.a)(f,2),b=g[0],v=g[1],y=Object(h.d)((function(e){return e.settings})),E=y.borderColor,k=y.textColor,w=y.background1;r.a.useEffect((function(){if(e.diceObj){var t=e.diceObj,a=t.rollName,n=t.modifier,r=t.die,i=t.count;l(Object(O.a)({rollName:a},r,i)),p(n)}}),[e.diceObj]);var _=function(e){var t=Object(j.a)({},n);t[e]?t[e]++:t[e]=1,l(t)},C=function(e){var t=Object(j.a)({},n);1===t[e]?delete t[e]:t[e]--,l(t)},A=function(){l({}),p(0),v(0)},T=function(){var e=[],t="";[20,12,10,8,6,4,3,2,100].forEach((function(a){if(n[a]){""!==t&&(t+="+"),t+="".concat(n[a],"d").concat(a);for(var l=0;l<n[a];l++){var i=Math.ceil(Math.random()*a);1==n[a]&&20===a&&(20===i?i=r.a.createElement("span",{style:{color:"gold",textShadow:"1px 1px #000, 1px -1px #000, -1px 1px #000, -1px -1px #000"}},"20"):1===i&&(i=r.a.createElement("span",{style:{color:"red",textShadow:"1px 1px #fff, 1px -1px #fff, -1px 1px #fff, -1px -1px #fff"}},"1"))),e.push(i)}}})),m&&(e.push(parseInt(m)),t+=parseInt(m)>=0?"+".concat(m):m),b&&(e.push(parseInt(b)),t+=parseInt(b)>=0?"+".concat(b):b);for(var a=[].concat(Object(S.a)(c),[{name:n.rollName||"Custom Roll",totalString:t,total:e}]);a.length>6;)a.shift();s(a)};return r.a.createElement("aside",{style:{display:"grid",gridTemplateColumns:"15% 42% 43%"}},r.a.createElement("section",{style:{display:"flex",flexDirection:"column-reverse",marginBottom:"auto"}},r.a.createElement("div",{onClick:function(){return _(100)}},r.a.createElement(qn,{style:{height:"4vh",width:"4vh"}}),r.a.createElement(qn,{style:{height:"4vh",width:"4vh"}})),r.a.createElement("img",{src:bn.a,style:{height:"5vh",width:"5vh"},onClick:function(){return _(2)}}),r.a.createElement(wn,{style:{height:"5vh",width:"5vh"},onClick:function(){return _(3)}}),r.a.createElement(jn,{style:{height:"5vh",width:"5vh"},onClick:function(){return _(4)}}),r.a.createElement(Dn,{style:{height:"5vh",width:"5vh"},onClick:function(){return _(6)}}),r.a.createElement(Pn,{style:{height:"5vh",width:"5vh"},onClick:function(){return _(8)}}),r.a.createElement(qn,{style:{height:"5vh",width:"5vh"},onClick:function(){return _(10)}}),r.a.createElement(Kn,{style:{height:"5vh",width:"5vh"},onClick:function(){return _(12)}}),r.a.createElement(Xn,{style:{height:"5vh",width:"5vh"},onClick:function(){return _(20)}})),function(){if(!Object.keys(n).length)return null;var e=[],t=[];return[20,12,10,8,6,4,3,2,100].forEach((function(a){if(n[a]){if(2===a){e.push("".concat(n[a],"d2"));for(var l=0;l<n[a];l++)t.push(r.a.createElement("img",{src:bn.a,style:{height:"5vh",width:"5vh"},onClick:function(){return C(2)}}))}if(3===a){e.push("".concat(n[a],"d3"));for(var i=0;i<n[a];i++)t.push(r.a.createElement(wn,{style:{height:"5vh",width:"5vh"},onClick:function(){return C(3)}}))}if(4===a){e.push("".concat(n[a],"d4"));for(var o=0;o<n[a];o++)t.push(r.a.createElement(jn,{style:{height:"5vh",width:"5vh"},onClick:function(){return C(4)}}))}if(6===a){e.push("".concat(n[a],"d6"));for(var c=0;c<n[a];c++)t.push(r.a.createElement(Dn,{style:{height:"5vh",width:"5vh"},onClick:function(){return C(6)}}))}if(8===a){e.push("".concat(n[a],"d8"));for(var s=0;s<n[a];s++)t.push(r.a.createElement(Pn,{style:{height:"5vh",width:"5vh"},onClick:function(){return C(8)}}))}if(100===a){e.push("".concat(n[a],"d100"));for(var u=0;u<n[a];u++)t.push(r.a.createElement("div",{onClick:function(){return C(100)}},r.a.createElement(qn,{style:{height:"4vh",width:"4vh"}}),r.a.createElement(qn,{style:{height:"4vh",width:"4vh"}})))}if(10===a){e.push("".concat(n[a],"d10"));for(var d=0;d<n[a];d++)t.push(r.a.createElement(qn,{style:{height:"5vh",width:"5vh"},onClick:function(){return C(10)}}))}if(12===a){e.push("".concat(n[a],"d12"));for(var m=0;m<n[a];m++)t.push(r.a.createElement(Kn,{style:{height:"5vh",width:"5vh"},onClick:function(){return C(12)}}))}if(20===a){e.push("".concat(n[a],"d20"));for(var h=0;h<n[a];h++)t.push(r.a.createElement(Xn,{style:{height:"5vh",width:"5vh"},onClick:function(){return C(20)}}))}}})),e=e.join("+"),m&&(e+=parseInt(m)>=0?"+".concat(m):m),b&&(e+=parseInt(b)>=0?"+".concat(b):b),r.a.createElement("article",null,r.a.createElement("section",{style:{border:"2px dashed #".concat(E),margin:"1%",color:"#".concat(k),display:"flex",minHeight:"20vh",flexWrap:"wrap"}},t),r.a.createElement("section",{style:{display:"grid",gridTemplateRows:"1fr 2fr"}},r.a.createElement("div",{style:{padding:"4px",display:"flex",justifyContent:"space-between"}},r.a.createElement("label",null,"Base Mod ",r.a.createElement("input",{type:"number",value:m,onChange:function(e){return p(e.target.value)},style:{width:"5vh"}})),r.a.createElement("label",null,"Temp Mod ",r.a.createElement("input",{type:"number",value:b,onChange:function(e){return v(e.target.value)},style:{width:"5vh"}})),r.a.createElement("button",{onClick:A},"Clear")),r.a.createElement("button",{onClick:T,style:{borderRadius:"1em",display:"flex",justifyContent:"space-around",width:"100%",alignItems:"center"}},r.a.createElement(nr,{style:{height:"10vh",width:"10vh"}}),r.a.createElement("p",{style:{fontSize:"20px",wordBreak:"break-word"}},"Roll ",n.rollName?"".concat(n.rollName," (").concat(e,")"):e))))}(),function(){var e=c.map((function(e){var t="",a=0;if("number"!==typeof e.total[0]){var n=e.total[0],l=e.total.slice(1).map((function(e){return parseInt(e)>=0?"+"+e:e})).join("");t=r.a.createElement("span",null,n,l),a+=parseInt(n.props.children),a+=e.total.slice(1).reduce((function(e,t){return e+t}),0)}else t=e.total.map((function(e,t){return parseInt(e)>=0&&0!==t?"+"+e:e})).join(""),a=e.total.reduce((function(e,t){return e+t}));return r.a.createElement("li",{style:{borderTop:"1px solid #".concat(E),margin:"1%",wordBreak:"break-word"}},r.a.createElement("div",null,r.a.createElement("strong",null,t," = ",r.a.createElement("span",{style:{fontSize:"1.25em",textShadow:"1px 1px #".concat(w,", 1px -1px #").concat(w,", -1px 1px #").concat(w,", -1px -1px #").concat(w)}},a))),r.a.createElement("div",null,e.name," - ",e.totalString))}));return r.a.createElement("div",{style:{marginTop:"auto"}},r.a.createElement("ul",{style:{color:"#".concat(k),display:"flex",flexDirection:"column",fontSize:"1.1em",marginTop:"auto"}},e))}())}),lr=function(e){var t=e.cp,a=t.known,n=t.caster_level,l=t.potion_or_oil,i=t.spell;return r.a.createElement("aside",null,a?r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",null,Z.a.capitalize(l)," of ",i.name),r.a.createElement("div",null,r.a.createElement("strong",null,"Caster Level")," ",n),r.a.createElement("div",{style:{marginBottom:"1%",paddingBottom:".8%",borderBottom:"double"}}),r.a.createElement(Xt,{spell:i})):r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",null,"Strange Mysterious Liquid")))},ir=function(e){var t=e.cs,a=t.known,n=t.spell_level,l=t.scroll_type,i=t.spell;return r.a.createElement("aside",null,a?r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",null,"Scroll of ",i.name),r.a.createElement("div",null,r.a.createElement("strong",null,"Spell Level")," ",n," | ",r.a.createElement("strong",null,"Scroll Type")," ",l),r.a.createElement("div",{style:{marginBottom:"1%",paddingBottom:".8%",borderBottom:"double"}}),r.a.createElement(Xt,{spell:i})):function(){var e="Unknown scroll of mysterious equations and formulae...";return"divine"===l?e="Unknown scroll with esoteric words and mantras...":"psychic"===l&&(e="Unknown scroll of memories forgotten and beliefs fading..."),r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",null,e))}())},or=function(e){var t=e.cw,a=t.known,n=t.caster_level,l=t.charges,i=t.spell,o=t.name,c=t.description;return r.a.createElement("aside",null,a?function(){var e="Wand of ".concat(i.name);return o&&(e=r.a.createElement("span",null,o,r.a.createElement("em",null," (",e,")"))),r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",null,e),r.a.createElement("div",null,r.a.createElement("strong",null,"Caster Level")," ",n," | ",r.a.createElement("strong",null,"Charges")," ",l,"/50"),r.a.createElement("div",null,c),r.a.createElement("div",{style:{marginBottom:"1%",paddingBottom:".8%",borderBottom:"double"}}),r.a.createElement(Xt,{spell:i}))}():r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",null,"Unknown Mystical Wand")))},cr=Object(h.b)((function(e){return{modal:e.modal,settings:e.settings}}),(function(e){return{dispatch:e}}))((function(e){var t=function(e){"page-dimmer"===e.target.classList[0]&&a()},a=function(e){P(null,null,{remove:!0,indexToRemove:e})},n=r.a.useState(null),l=Object(U.a)(n,2),i=l[0],o=l[1],c=r.a.useState(0),s=Object(U.a)(c,2),u=s[0],d=s[1],m=r.a.useState(!1),h=Object(U.a)(m,2),p=h[0],f=h[1],g=r.a.useState(!1),b=Object(U.a)(g,2),v=b[0],y=b[1],E=r.a.useRef(null);r.a.useEffect((function(){if(E.current){var e=Object(j.a)({},i);e.width="".concat(window.innerWidth/11,"px"),e.bottom="".concat(window.innerHeight/2-4,"px"),o(e)}}),[E]),r.a.useEffect((function(){var e=v?1.25:2;console.log(i),o(Object(j.a)(Object(j.a)({},i),{},{bottom:"".concat(window.innerHeight/e-4,"px"),width:"".concat(window.innerWidth/11,"px")}))}),[v]);var k=function(e){e!==u&&d(e),p&&f(!1)};return r.a.createElement("aside",{id:"sidebar",ref:E,style:function(){var t={backgroundColor:"#".concat(e.settings.bubbleColor),borderColor:"#".concat(e.settings.borderColor),color:"#".concat(e.settings.textColor)};return p&&(t.height="0px",t.padding="0px",t.border="0px",t.margin="0px"),v&&(t.height="80%",t.width="65vw"),t}()},e.modal.map((function(n,l){var o;console.log(n);var c=n.name||(null===(o=n.obj)||void 0===o?void 0:o.name)||"Tab ".concat(l+1),s=Object(j.a)(Object(j.a)({},i),{},{backgroundColor:"#".concat(e.settings.bubbleColor),borderColor:"#".concat(e.settings.borderColor),color:"#".concat(e.settings.textColor)});if(console.log(s),E.current){var m=window.innerWidth;s.left="".concat(l*m/11+.03*m,"px")}l!==u&&(s.filter="brightness(85%)",s.borderBottom="2px solid #".concat(e.settings.borderColor)),p&&(s.bottom="0px");var h=r.a.createElement("button",{onClick:function(t){return function(t,n){var r;t.preventDefault(),n===u?0===n||e.modal.length-1>n?r=n:e.modal.length-1===n&&(r=n-1):n>u?r=u:n<u&&(r=u-1),console.log("The index of the tab that is closing is",n),console.log("The index you have open is",u),console.log("The index that is going to be active is",r),d(r),a(n)}(t,l)}},"X"),g=r.a.createElement("button",{onClick:function(){return function(e){p?k(e):(f(!0),y(!1))}(l)}},r.a.createElement(w.a,{icon:p?_.d:_.c})),b=r.a.createElement("button",{onClick:function(){return y(!v)}},r.a.createElement(w.a,{icon:v?_.f:_.j}));return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{id:"sidebar-exit",style:s},r.a.createElement("span",{className:"underline-hover",onClick:function(){return k(l)}},c),r.a.createElement("span",{style:{textAlign:"center"}},g,h,l===u&&!p&&b)),l===u&&function(n){var l=n;switch("hitPoints"!==n&&(l=n.detail),l){case"hitPoints":return r.a.createElement(J,{exitModal:a,editModal:e.editModal,clickOut:t,renderEdit:e.renderEdit});case"armor":return r.a.createElement(he,{characterArmor:n.obj,exitModal:a,clickOut:t});case"adjust points":return r.a.createElement(ft,{feature:n.obj,exitModal:a,clickOut:t});case"featureUsageOptions":return r.a.createElement(Zt,{feature:n.obj,exitModal:a,clickOut:t});case"manageKnownSpells":return r.a.createElement(ya,{spellcastingData:n.obj,exitModal:a,clickOut:t});case"spellDescription":return r.a.createElement(Xt,{spell:n.obj,exitModal:a,clickOut:t});case"managePreparedSpells":return r.a.createElement(Ea,{spellcastingData:n.obj,exitModal:a,clickOut:t});case"characterChoice":return r.a.createElement(wa,{choiceObj:n.obj,exitModal:a,clickOut:t});case"spontaneousCasting":return r.a.createElement(Ra,{feature:n.obj,exitModal:a,clickOut:t});case"klassSpecialization":return r.a.createElement(Pa,{klassFeature:n.obj,exitModal:a,clickOut:t});case"manageBonusSpellSlots":return r.a.createElement(La,{spellcastingData:n.obj,exitModal:a,clickOut:t});case"feat":return r.a.createElement(Ha,{feat:n.obj,exitModal:a,clickOut:t});case"statBlock":return r.a.createElement($a,{creature:n.obj,exitModal:a,clickOut:t});case"skill":return r.a.createElement(tn,{skillId:n.obj});case"item":return r.a.createElement(nn,{item:n.obj});case"harrow":return r.a.createElement(an,null);case"currency":return r.a.createElement(rn,null);case"settings":return r.a.createElement(sn,null);case"weapon":return r.a.createElement(pe,{item:n.obj.weapon,cw:n.obj,exitModal:a,clickOut:t});case"familiar":return r.a.createElement(un,{familiar:n.obj});case"poison":return r.a.createElement(dn,{item:n.obj});case"addEquipment":return r.a.createElement(hn,null);case"summonedAllies":return r.a.createElement(pn,{featureAnimal:n.obj});case"magicItem":return r.a.createElement(fn,{item:n.obj.magic_item,cmi:n.obj});case"rollDice":return r.a.createElement(rr,{diceObj:n.obj});case"potion":return r.a.createElement(lr,{cp:n.obj});case"scroll":return r.a.createElement(ir,{cs:n.obj});case"wand":return r.a.createElement(or,{cw:n.obj});default:return r.a.createElement(mn,{name:n.obj.name,description:n.obj.description})}}(n))})))})),sr=function(e){var t=Object(h.d)((function(e){return e})),a=t.notifications,n=t.storedNotifications,l=function(e){var t=Object(S.a)(a);t.splice(e,1),L(t)},i=function(e,t){var a=Object(S.a)(n);a.push(e),B(a),l(t)},o=function(e,t){var a=e.payload,n=e.source,r=e.options;Ze(a,n,r),l(t)};return r.a.createElement("aside",{id:"popup-notifications-container"},a.map((function(e,t){var a,n,c=null;return e.toggleable&&(c=r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{onClick:function(){return o(e.toggleable,t)}},"Accept"),!(null===(a=e.toggleable)||void 0===a||null===(n=a.options)||void 0===n?void 0:n.acceptOnly)&&r.a.createElement("button",{onClick:function(){return i(e.toggleable,t)}},"Reject"))),r.a.createElement("li",{className:"popup-notification"},r.a.createElement("button",{className:"popup-notification-close-button",onClick:function(){return l(t)}},"x"),e.message,c)})))},ur=Object(m.f)(Object(h.b)((function(e){return{currentUser:e.currentUser,admin:e.admin}}))((function(e){var t=r.a.useState(!1),a=Object(U.a)(t,2),n=a[0],l=a[1],i=function(e){return e.uniq_klasses.map((function(t){var a=e.class_obj.find((function(e){return e.klass_id===t.id})).level;return"".concat(t.name," ").concat(a)})).join(", ")};return r.a.createElement(r.a.Fragment,null,e.currentUser&&function(){var t=e.characters.sort((function(e,t){return e.name>t.name?1:-1}));return"true"===localStorage.computer?t.map((function(t){return r.a.createElement("div",{className:"card",onClick:function(){return e.history.push("/characters/".concat(t.id))},key:t.id},r.a.createElement("span",{className:"card-char"},r.a.createElement("div",{style:{padding:".5em",lineHeight:"1.2",fontSize:"1.5em"}},t.name),r.a.createElement("div",{style:{padding:".5em"}},t.race.name),r.a.createElement("div",{style:{padding:".5em",lineHeight:"1.2"}},i(t))),r.a.createElement("div",{className:"fade"}))})):t.length>4?n?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{onClick:function(){return l(!n)}},"Characters ",r.a.createElement(w.a,{icon:_.e})),t.map((function(t){return r.a.createElement("div",{className:"mobile-character-button",onClick:function(){return e.history.push("/characters/".concat(t.id))},key:3*t.id-1},r.a.createElement("strong",null,t.name)," - ",t.race.name," ",i(t))}))):r.a.createElement("div",{onClick:function(){return l(!n)}},"Characters ",r.a.createElement(w.a,{icon:_.n})):r.a.createElement(r.a.Fragment,null,t.map((function(t){return r.a.createElement("div",{className:"mobile-character-button",onClick:function(){return e.history.push("/characters/".concat(t.id))},key:3*t.id-1},r.a.createElement("strong",null,t.name)," - ",t.race.name," ",i(t))})))}())}))),dr=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,l=new Array(n),i=0;i<n;i++)l[i]=arguments[i];return(e=t.call.apply(t,[this].concat(l))).state={skillsets:{},skills:{},chosenSkills:[],addSkillset:!1,name:"",activeSkillset:0,editSkillset:!1},e.renderSkillsetSubmit=function(t){t.preventDefault(),e.state.editSkillset?fetch("".concat(p,"/api/v1/skillsets/").concat(e.state.activeSkillset),{method:"PATCH",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({name:e.state.name,chosen_skills:e.state.chosenSkills})}).then((function(e){return e.json()})).then((function(t){if(t.error)console.log(t.error);else{var a=[];e.state.skillsets.forEach((function(e){e.id!==t.skillset.id?a.push(e):a.push(t.skillset)})),e.setState({name:"",chosenSkills:[],addSkillset:!1,editSkillset:!1,skillsets:a},e.fetchSkillsets())}})):fetch("".concat(p,"/api/v1/skillsets"),{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({name:e.state.name,chosen_skills:e.state.chosenSkills})}).then((function(e){return e.json()})).then((function(t){t.error?console.log(t.error):e.setState({name:"",chosenSkills:[],addSkillset:!1})}))},e.fetchSkills=function(){fetch("".concat(p,"/api/v1/skills")).then((function(e){return e.json()})).then((function(t){return e.setState({skills:t})}))},e.fetchSkillsets=function(){fetch("".concat(p,"/api/v1/skillsets")).then((function(e){return e.json()})).then((function(t){return e.setState({skillsets:t})}))},e.renderAddSkillset=function(){e.setState({addSkillset:!0})},e.renderChange=function(t){e.setState(Object(O.a)({},t.target.name,t.target.value))},e.renderSkillChange=function(t){if(e.state.chosenSkills.includes(t)){var a=e.state.chosenSkills.filter((function(e){return e!==t}));e.setState({chosenSkills:a},console.log("chosenSkills removed",e.state.chosenSkills))}else e.setState({chosenSkills:[].concat(Object(S.a)(e.state.chosenSkills),[t])},console.log("chosenSkills added",e.state.chosenSkills))},e.selectedSkill=function(t){return!!e.state.chosenSkills.includes(t)},e.renderSkills=function(){return e.state.skills.map((function(t){return r.a.createElement("div",null,r.a.createElement("label",null,t.name,":",r.a.createElement("input",{type:"checkbox",name:t.name,key:t.id,checked:e.selectedSkill(t.id),onChange:function(){return e.renderSkillChange(t.id)}})))}))},e.renderEditSkillset=function(){var t=e.state.skillsets.find((function(t){return t.id===e.state.activeSkillset})),a=t.skillset_skills.map((function(e){return e.skill_id}));e.setState({addSkillset:!0,chosenSkills:a,name:t.name,editSkillset:!0})},e.renderDelete=function(){fetch("".concat(p,"/api/v1/skillsets/").concat(e.state.activeSkillset),{method:"DELETE",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({id:e.state.activeSkillset})}).then((function(e){return e.json()})).then((function(t){if(t.error)console.log(t.error);else{console.log(t);var a=e.state.skillsets.filter((function(e){return e.id!==t}));e.setState({name:"",chosenSkills:[],addSkillset:!1,editSkillset:!1,skillsets:a},e.fetchSkillsets())}}))},e.skillsetForm=function(){return r.a.createElement("span",null,r.a.createElement("label",null,"Skillset Name:",r.a.createElement("input",{type:"text",name:"name",value:e.state.name,onChange:e.renderChange})),e.renderSkills(),r.a.createElement("span",null,r.a.createElement("button",{onClick:e.renderSkillsetSubmit},e.state.editSkillset?"Edit":"Create")),r.a.createElement("span",null,r.a.createElement("button",{onClick:function(){return e.setState({addSkillset:!1,chosenSkills:[],editSkillset:!1})}},"X"),e.state.editSkillset&&e.props.admin&&r.a.createElement("span",{onClick:e.renderDelete},r.a.createElement(w.a,{icon:_.p}))))},e.renderActiveSkillsetChange=function(t){var a=t.target.value;fetch("".concat(p,"/api/v1/users/active_skillset"),{method:"PATCH",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({id:e.props.currentUser.id,active_skillset:a})}).then((function(e){return e.json()})).then((function(t){t.error?console.log(t.error):(console.log(t),e.props.dispatch({type:"SIGNIN",user:t.user,admin:t.user.admin}))}))},e.renderActiveSkillset=function(){return r.a.createElement("div",null,r.a.createElement("label",null,"Active Skillset:",r.a.createElement("select",{name:"activeSkillset",value:e.state.activeSkillset,onChange:e.renderActiveSkillsetChange},e.state.skillsets.map((function(e){return r.a.createElement("option",{value:e.id,key:e.id},e.name)})))))},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.state.activeSkillset!==this.props.currentUser.skillset_id&&this.setState({activeSkillset:this.props.currentUser.skillset_id}),fetch("".concat(p,"/api/v1/skillsets")).then((function(e){return e.json()})).then((function(t){return e.setState({skillsets:t})}),this.fetchSkills())}},{key:"componentDidUpdate",value:function(){this.state.activeSkillset!==this.props.currentUser.skillset_id&&this.setState({activeSkillset:this.props.currentUser.skillset_id})}},{key:"render",value:function(){return r.a.createElement("span",null,!this.state.addSkillset&&this.props.admin&&r.a.createElement("button",{onClick:this.renderAddSkillset},"+"),this.state.addSkillset&&this.skillsetForm(),r.a.createElement("div",{style:{display:"inline-flex"}},!!this.state.skillsets.keys&&!this.state.addSkillset&&this.renderActiveSkillset(),!this.state.addSkillset&&this.props.admin&&r.a.createElement("span",{onClick:this.renderEditSkillset},r.a.createElement(w.a,{icon:_.m}))))}}]),a}(r.a.Component),mr=Object(h.b)((function(e){return{currentUser:e.currentUser,admin:e.admin}}))(dr),hr=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("span",null,r.a.createElement(mr,null))}}]),a}(r.a.Component),pr=Object(m.f)(Object(h.b)((function(e){return{currentUser:e.currentUser,admin:e.admin}}))((function(e){var t=r.a.useState(!1),a=Object(U.a)(t,2),n=a[0],l=a[1];return r.a.createElement(r.a.Fragment,null,!!e.currentUser&&("true"===localStorage.computer?e.currentUser.campaigns.map((function(t){return r.a.createElement("div",{className:"card",onClick:function(){return e.history.push("/campaigns/".concat(t.id))},key:t.id},r.a.createElement("span",{className:"card-char"},r.a.createElement("div",{style:{padding:".5em",lineHeight:"1.2",fontSize:"1.5em"}},t.name),r.a.createElement("div",{style:{padding:".5em",lineHeight:"1.2"}},"Campaign")),r.a.createElement("div",{className:"fade"}))})):e.currentUser.campaigns.length>4?n?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{onClick:function(){return l(!n)}},"Characters ",r.a.createElement(w.a,{icon:_.e})),e.currentUser.campaigns.map((function(t){return r.a.createElement("div",{className:"mobile-character-button",onClick:function(){return e.history.push("/campaigns/".concat(t.id))},key:3*t.id-1},r.a.createElement("strong",null,t.name))}))):r.a.createElement("div",{onClick:function(){return l(!n)}},"Characters ",r.a.createElement(w.a,{icon:_.n})):r.a.createElement(r.a.Fragment,null,e.currentUser.campaigns.map((function(t){return r.a.createElement("div",{className:"mobile-character-button",onClick:function(){return e.history.push("/campaigns/".concat(t.id))},key:3*t.id-1},r.a.createElement("strong",null,t.name))})))))}))),fr=Object(m.f)(Object(h.b)((function(e){return{currentUser:e.currentUser,admin:e.admin}}))((function(e){var t=r.a.useState([]),a=Object(U.a)(t,2),n=a[0],l=a[1];r.a.useEffect((function(){var t=localStorage.getItem("token");e.currentUser&&fetch("".concat(p,"/api/v1/characters"),{headers:{User:e.currentUser.id}}).then((function(e){return e.json()})).then((function(e){y(t)||f(t,e),l(e)}));var a=y(t);a&&l(a)}),[e.currentUser]);var i="true"===localStorage.computer?"container-4":"phone-container";return r.a.createElement("main",{id:"user-home",className:"background"},r.a.createElement("section",{id:"user-characters"},r.a.createElement("button",{className:"home-btn-create-links",onClick:function(){return e.history.push("/creation")}},"Create Character"),r.a.createElement(ur,{characters:n})),r.a.createElement("section",{id:"user-campaigns"},r.a.createElement("button",{className:"home-btn-create-links",onClick:function(){return e.history.push("/campaigns/new")}},"Create Campaign"),r.a.createElement(pr,null)),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",{className:i,style:{margin:"0 2em"}},r.a.createElement(hr,null)))}))),gr=Object(m.f)(Object(h.b)((function(e){return{currentUser:e.currentUser,admin:e.admin,classes:e.classes}}))((function(e){return r.a.createElement("div",null,r.a.createElement("div",{className:"container-4"},e.classes.sort((function(e,t){return e.name.localeCompare(t.name)})).map((function(t){return r.a.createElement("div",{className:"card",onClick:function(){return e.history.push("/classes/".concat(t.name))},key:t.id},r.a.createElement("div",{className:"fill"}),r.a.createElement("span",{className:"card-content"},t.name),r.a.createElement("div",{className:"fade"}),r.a.createElement("img",{className:"card-img",alt:t.name,src:t.img_url}))})),e.admin?r.a.createElement("div",{className:"card",onClick:function(){return e.history.push("/classes-form")}},r.a.createElement("span",{className:"card-content"},"Create a new Class!")):null))}))),br=Object(h.b)((function(e){return{currentUser:e.currentUser,admin:e.admin,races:e.races}}))((function(e){return r.a.createElement("div",{className:"container-4"},e.races.sort((function(e,t){return e.name.localeCompare(t.name)})).map((function(t){return r.a.createElement("div",{className:"card",onClick:function(){return e.history.push("/ancestries/".concat(t.name))},key:t.id},r.a.createElement("div",{className:"fill"}),r.a.createElement("span",{className:"card-content"},t.name),r.a.createElement("div",{className:"fade"}),r.a.createElement("img",{className:"card-img",alt:t.name,src:t.img_url}))})),e.admin?r.a.createElement("div",{className:"card",onClick:function(){return e.history.push("/ancestries-form")}},r.a.createElement("span",{className:"card-content"},"Create a Fantasy Ancestry!")):null)})),vr=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,l=new Array(n),i=0;i<n;i++)l[i]=arguments[i];return(e=t.call.apply(t,[this].concat(l))).state={skills:{}},e.renderSkills=function(){return e.state.skills.sort((function(e,t){return e.id-t.id})).map((function(t){return r.a.createElement("div",{className:"card",onClick:function(){return e.props.history.push("/skills/".concat(t.name))},key:t.id},r.a.createElement("div",{className:"fill"}),r.a.createElement("span",{className:"card-content"},t.name),r.a.createElement("div",{className:"fade"}),r.a.createElement("img",{className:"card-img",src:t.img_url,alt:t.name}))}))},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this;fetch("".concat(p,"/api/v1/skills")).then((function(e){return e.json()})).then((function(t){e.setState({skills:t})}))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"container-4"},this.state.skills[0]?this.renderSkills():null,this.props.admin?r.a.createElement("div",{className:"card",onClick:function(){return e.props.history.push("/skills-form")}},r.a.createElement("span",{className:"card-content"},"Create a New Skill!")):null)}}]),a}(r.a.Component),yr=Object(h.b)((function(e){return{currentUser:e.currentUser,admin:e.admin}}))(vr),Er=function(e){var t=e.spell;return r.a.createElement("div",{className:"spell-card",onClick:function(){return e.renderEdit(t.id)}},r.a.createElement("span",null,r.a.createElement("strong",null,t.name)),r.a.createElement("span",null,t.magic_school.name.substring(0,3)),r.a.createElement("span",{className:function(e){switch(e){case"Standard Action":return"standard";case"Ten Minutes":case"One Hour":case"Eight Hours":case"One Minute":return"long";case"Immediate Action":return"immediate";case"Full-Round Action":return"full";default:return"none"}}(t.action.name),style:{textAlign:"center"}},t.action.name))},kr=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,l=new Array(n),i=0;i<n;i++)l[i]=arguments[i];return(e=t.call.apply(t,[this].concat(l))).renderSpells=function(){return e.props.spells.map((function(t){return r.a.createElement(Er,{spell:t,renderEdit:e.props.renderEdit})}))},e}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{id:"all-spells"},this.renderSpells())}}]),a}(r.a.Component),wr=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,l=new Array(n),i=0;i<n;i++)l[i]=arguments[i];return(e=t.call.apply(t,[this].concat(l))).state={activeSpell:null,alphabetizedSpells:[]},e.alphabetize=function(t){var a=Object(S.a)(t).sort((function(e,t){return e.name>t.name?1:e.name<t.name?-1:0}));e.setState({alphabetizedSpells:a})},e.renderSpells=function(){return e.props.spells.map((function(e){return r.a.createElement("p",null,e.name)}))},e.oneSpell=function(t){return e.props.spells.find((function(e){return e.id===t}))},e.renderEdit=function(t){e.state.activeSpell!==t?e.setState({activeSpell:t}):e.setState({activeSpell:null})},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.props.spells.length||fetch("".concat(p,"/api/v1/spells")).then((function(e){return e.json()})).then((function(t){e.props.dispatch({type:"ALL SPELLS",spells:t}),e.alphabetize(t)}))}},{key:"render",value:function(){return r.a.createElement("div",{id:"spells-container"},r.a.createElement("span",{style:{height:"90vh",overflowY:"scroll"}},r.a.createElement(kr,{spells:this.state.alphabetizedSpells,renderEdit:this.renderEdit})),r.a.createElement("span",null,this.state.activeSpell&&r.a.createElement(Xt,{spell:this.oneSpell(this.state.activeSpell)})))}}]),a}(r.a.Component),_r=Object(h.b)((function(e){return{currentUser:e.currentUser,admin:e.admin,spells:e.spells}}))(wr),Cr=function(e,t){return function(e,t){var a=[];return e.forEach((function(e){var n=e.id,r=!1;t.forEach((function(l){l.klass_archetype_features.forEach((function(l){l.replaces_klass_features.forEach((function(i){i.klass_feature_id===n&&(e.has_klass_feature_options?(Sr(e,t)&&(r=!0),a.push(l)):"replace"===i.replace_or_alter?(r=!0,a.push(l)):"alter"===i.replace_or_alter&&a.push(l))}))}))})),r||a.push(e)})),t.forEach((function(e){e.klass_archetype_features.forEach((function(e){e.replaces_klass_features.forEach((function(t){t.klass_feature_id||a.push(e)}))}))})),a}(e,t).sort((function(e,t){var a=20;(e.feature_levels||e.klass_archetype_feature_levels).forEach((function(e){e.level<a&&(a=e.level)}));var n=20;if((t.feature_levels||t.klass_archetype_feature_levels).forEach((function(e){e.level<n&&(n=e.level)})),a===n){if(e.klass_id&&t.klass_id)return 0;if(e.klass_id)return-1;if(t.klass_id)return 1}return a-n}))},Sr=function(e,t){var a=e.feature_levels.map((function(e){return e.level}));return t.forEach((function(t){t.klass_archetype_features.forEach((function(t){t.replaces_klass_features.forEach((function(t){if(t.klass_feature_id===e.id&&t.affects_specific_level){var n=a.indexOf(t.affects_specific_level);a.splice(n,1)}}))}))})),!a.length},Or=function(e,t,a){var n={};return a.forEach((function(e){e.id===t.id&&(t={})})),e.forEach((function(e){e.feature_levels.forEach((function(t){if(""!==t.table_description&&"none"!==t.table_description){void 0===n[t.level]&&(n[t.level]=[]);var a=e.name.toLowerCase().split(" ").join("-");n[t.level].push({klassFeatureId:e.id,slug:a,tableDescription:t.table_description,color:"black"})}}))})),a.forEach((function(e){e.klass_archetype_features.forEach((function(e){e.klass_archetype_feature_levels.forEach((function(t){if(""!==t.table_description&&"none"!==t.table_description){void 0===n[t.level]&&(n[t.level]=[]),e.replaces_klass_features.forEach((function(e){"replace"===e.replace_or_alter?e.klass_feature_id&&jr(e.klass_feature_id,n,"remove",e.affects_specific_level):"alter"===e.replace_or_alter&&jr(e.klass_feature_id,n,"alter",e.affects_specific_level)}));var a=e.name.toLowerCase().split(" ").join("-");n[t.level].push({slug:a,tableDescription:t.table_description,color:"darkblue"})}}))}))})),t.id&&t.klass_archetype_features.forEach((function(e){e.klass_archetype_feature_levels.forEach((function(t){if(""!==t.table_description&&"none"!==t.table_description){void 0===n[t.level]&&(n[t.level]=[]);var a=!1;e.replaces_klass_features.forEach((function(e){a=!e.klass_feature_id||jr(e.klass_feature_id,n,"strikethrough",e.affects_specific_level)}));var r=e.name.toLowerCase().split(" ").join("-"),l=a?"forestgreen":"red";n[t.level].push({slug:r,tableDescription:t.table_description,color:l})}}))})),n},jr=function(e,t,a,n){for(var r=!1,l=1;l<21;l++){if(void 0===t[l])return;var i=t[l].findIndex((function(t){return t.klassFeatureId===e}));i>-1&&(n!==l&&null!==n||("remove"===a?t[l].splice(i,1):"strikethrough"!==a||t[l][i].altered?"alter"===a&&(t[l][i]=Object(j.a)(Object(j.a)({},t[l][i]),{},{altered:!0})):(t[l][i]=Object(j.a)(Object(j.a)({},t[l][i]),{},{strikethrough:!0,color:"darkgrey"}),r=!0)))}return r},Ar=function(e){var t=[];return e.forEach((function(e){e.klass_archetype_features.forEach((function(e){e.replaces_klass_features.forEach((function(a){a.alters_class_skills&&t.push(e.description)}))}))})),t},Tr=function(e){var t=0;return e.klass_features.forEach((function(e){e.has_klass_feature_options&&(t=e.id)})),t},Ir=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,l=new Array(n),i=0;i<n;i++)l[i]=arguments[i];return(e=t.call.apply(t,[this].concat(l))).state={showDetails:!1},e.renderDescription=function(){if(e.props.klass.description){var t,a;if(!1===(null===(t=e.props.options)||void 0===t?void 0:t.displayDescription)&&!e.state.showDetails)return r.a.createElement("p",{onClick:function(){return e.setState({showDetails:!0})}},"Show Details");var n=e.props.klass.description;e.props.chosenArchetypes.forEach((function(e){n+="\n\n".concat(e.name,"\n\n").concat(e.description)})),n=n.split("\n\n");var l=!1===(null===(a=e.props.options)||void 0===a?void 0:a.displayDescription)?function(){return e.setState({showDetails:!1})}:null;return n.map((function(e){return r.a.createElement("p",{key:Z.a.random(1,2e6),onClick:l},e)}))}},e.renderValidSkillsetSkills=function(){var t=e.props.klass.class_skillset_skills.filter((function(t){return t.skillset_id===e.props.currentUser.skillset_id})).map((function(e){return e.skill_id})),a=e.props.klass.skills.filter((function(e){return t.includes(e.id)})),n=[];return a.forEach((function(e){0===n.filter((function(t){return t.id===e.id})).length&&n.push(e)})),n},e.renderSkills=function(){var t=e.renderValidSkillsetSkills(),a=(t=t.sort((function(e,t){return e.name.localeCompare(t.name)}))).map((function(e,t,a){return t===a.length-1?"and ".concat(e.name," (").concat(e.ability_score.slice(0,3),")."):"".concat(e.name," (").concat(e.ability_score.slice(0,3),"), ")}));return Ar(e.props.chosenArchetypes).forEach((function(e){a.push(r.a.createElement(r.a.Fragment,null,r.a.createElement("br",null),r.a.createElement("br",null),e))})),a},e.renderImage=function(){var t;return!1===(null===(t=e.props.options)||void 0===t?void 0:t.displayImage)?null:r.a.createElement("span",null,r.a.createElement("img",{id:"class-img",alt:e.props.klass.name,src:e.props.klass.img_url}))},e.renderName=function(){var t=[];return e.props.chosenArchetypes.forEach((function(e){t.push(e.name)})),t.push(e.props.klass.name),t.join(" ")},e}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"show",id:"class-intro"},r.a.createElement("span",null,r.a.createElement("h2",null,this.renderName()),this.renderDescription(),r.a.createElement("p",null,r.a.createElement("strong",null,"Hit Die"),": d",this.props.klass.hit_die),r.a.createElement("p",null,r.a.createElement("strong",null,"Starting Wealth"),": ",this.props.klass.starting_wealth),this.props.klass.skills[0]&&r.a.createElement("p",null,r.a.createElement("strong",null,"Class Skills"),": The ",Z.a.lowerCase(this.props.klass.name),"'s class skills are ",this.renderSkills()),r.a.createElement("p",null,r.a.createElement("strong",null,"Skill Ranks per Level"),": ",this.props.klass.skill_ranks," + Int modifier")),this.renderImage())}}]),a}(r.a.Component),Nr=Object(h.b)((function(e){return{currentUser:e.currentUser,admin:e.admin}}))(Ir),Dr=function(e){var t=Or(e.klass.klass_features||[],e.activeArchetype||{},e.chosenArchetypes||[]),a=function(e,t){return.5===t?Z.a.floor(e*t)+2:.34===t?Z.a.floor(e*t):void 0},n=function(){return[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20].map((function(n){return r.a.createElement("tr",{key:Z.a.random(1,2e6),className:i(n)},r.a.createElement("td",{style:{textAlign:"left"}},Fe(n)),r.a.createElement("td",{style:{textAlign:"left"}},l(n)),r.a.createElement("td",null,"+",a(n,e.klass.fortitude)),r.a.createElement("td",null,"+",a(n,e.klass.reflex)),r.a.createElement("td",null,"+",a(n,e.klass.will)),r.a.createElement("td",{style:{textAlign:"left"}},e.klass.klass_features&&function(e){for(var a,n=(null!==(a=t[e])&&void 0!==a?a:[]).map((function(e){var t={color:e.color};return e.strikethrough&&(t.textDecoration="line-through"),r.a.createElement("a",{className:"underline-hover",style:t,href:"#".concat(e.slug)},e.tableDescription)})),l=[],i=0;i<n.length;i++)l.push(n[i]),i<n.length-1&&l.push(", ");return l}(n)),u(n))}))},l=function(t){for(var a="",n=Z.a.floor(t*function(){switch(e.klass.hit_die){case 6:return.5;case 8:return.75;case 10:case 12:default:return 1}}());n>0;n-=5)a.length&&(a+="/"),a+="+".concat(n);return a.length||(a="+0"),a},i=function(e){return e%2===0?"even":"odd"},o=function(e){var t=null;return e.forEach((function(e){e.features.forEach((function(e){var a;t=null!==(a=e.spellcasting)&&void 0!==a?a:t}))})),t},c=function(e){for(var t=[],a=0;a<e.length;a++)t.includes(e[a].spell_level)||t.push(e[a].spell_level);return t},s=function(){var t,a=o(null!==(t=e.klass.klass_features)&&void 0!==t?t:[]);if(a){console.log("Has spells per day!");var n=c(a.spells_per_day_per_level);return r.a.createElement(r.a.Fragment,null,n.map((function(e){return r.a.createElement("th",null,e)})))}},u=function(t){var a,n=o(null!==(a=e.klass.klass_features)&&void 0!==a?a:[]);if(n){var l=c(n.spells_per_day_per_level);return r.a.createElement(r.a.Fragment,null,l.map((function(e){return r.a.createElement("td",null,d(t,e))})))}},d=function(t,a){var n,r=o(null!==(n=e.klass.klass_features)&&void 0!==n?n:[]).spells_per_day_per_level.find((function(e){return e.klass_level===t&&e.spell_level===a}));return r?r.spells:"-"};return r.a.createElement("span",{className:"show"},r.a.createElement("table",{id:"class-table",className:"show"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{id:"class-table-level"},"Lvl"),r.a.createElement("th",{id:"class-table-bab"},"BAB"),r.a.createElement("th",{id:"class-table-fort"},"Fort Save"),r.a.createElement("th",{id:"class-table-ref"},"Reflex Save"),r.a.createElement("th",{id:"class-table-will"},"Will Save"),r.a.createElement("th",{id:"class-table-features"},"Features"),s())),r.a.createElement("tbody",null,n())))},Mr=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,l=new Array(n),i=0;i<n;i++)l[i]=arguments[i];return(e=t.call.apply(t,[this].concat(l))).state={feature:{name:"",level_learned:"",description:""}},e.renderFeatureChange=function(t){e.setState({feature:Object(j.a)(Object(j.a)({},e.state.feature),{},Object(O.a)({},t.target.name,t.target.value))})},e.clearAddFeature=function(){e.props.feature||""!==e.state.feature.name&&""!==e.state.feature.level_learned&&""!==e.state.feature.description&&e.setState({feature:{name:"",level_learned:"",description:""}})},e.renderAddFeature=function(){return r.a.createElement("div",null,r.a.createElement("form",{onSubmit:function(t){e.props.renderSubmit(t,e.state.feature)}},r.a.createElement("label",null,"Feature Name:",r.a.createElement("input",{type:"text",name:"name",value:e.state.feature.name,onChange:e.renderFeatureChange})),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("label",null,"Description:",r.a.createElement("textarea",{type:"textfield",rows:"6",className:"desc-box",name:"description",value:e.state.feature.description,onChange:e.renderFeatureChange})),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("label",null,"Level Learned:",r.a.createElement("input",{type:"number",name:"level_learned",value:e.state.feature.level_learned,onChange:e.renderFeatureChange})),r.a.createElement("br",null),r.a.createElement("input",{type:"submit",name:"submit"})))},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.props.feature&&this.setState({feature:{name:this.props.feature.name,level_learned:this.props.feature.level_learned,description:this.props.feature.description}})}},{key:"render",value:function(){return r.a.createElement("div",null,this.props.toggleFeatureForm?this.renderAddFeature():this.clearAddFeature(),this.props.feature?r.a.createElement("button",{onClick:this.props.deleteFeature},"Delete Feature"):null,r.a.createElement("br",null))}}]),a}(r.a.Component),xr=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,l=new Array(n),i=0;i<n;i++)l[i]=arguments[i];return(e=t.call.apply(t,[this].concat(l))).state={toggleFeatureForm:!1,deleteFeatureButton:!1,showEffects:!1},e.renderClick=function(t){e.setState({toggleFeatureForm:!e.state.toggleFeatureForm})},e.renderSubmit=function(t,a){t.preventDefault(),fetch("".concat(p,"/api/v1/klass_features/").concat(e.props.feature.id),{method:"PATCH",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({klass_feature_id:e.props.feature.id,features:a})}).then((function(e){return e.json()})).then((function(t){t.error?console.log(t.error):e.setState({toggleFeatureForm:!1},(function(){return e.props.renderClassFeature(t.klass_feature)}))}))},e.renderForm=function(){return r.a.createElement(Mr,{toggleFeatureForm:e.state.toggleFeatureForm,feature:e.props.feature,renderSubmit:e.renderSubmit,deleteFeature:e.deleteFeature})},e.deleteFeature=function(){e.setState({toggleFeatureForm:!e.state.toggleFeatureForm,deleteFeatureButton:!e.state.deleteFeatureButton})},e.deleteFeatureConfirm=function(t,a){t.preventDefault(),"yes"===a?fetch("".concat(p,"/api/v1/klass_features/").concat(e.props.feature.id),{method:"DELETE",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({klass_feature_id:e.props.feature.id})}).then((function(e){return e.json()})).then((function(t){e.setState({toggleFeatureForm:!1,deleteFeatureButton:!1},(function(){return e.props.renderClassFeature(t)}))})):"no"===a&&e.setState({toggleFeatureForm:!1,deleteFeatureButton:!1})},e.renderDescription=function(){if(e.props.feature.description){var t=e.props.feature.description;return ze(t)}},e.effectsButton=function(){if(e.props.feature.spellcasting&&e.props.admin)return r.a.createElement("button",{onClick:function(){return e.setState({showEffects:!e.state.showEffects})}},"Toggle Linked Effects")},e.showEffects=function(){var t=[];if(e.props.feature.spellcasting){var a=e.props.feature.spellcasting;t.push("Spellcasting: ".concat(a.ability_score,", ").concat(a.limited?"Limited Spells":"All Spells",", ").concat(a.prepared?"Prepared":"Spontaneous"))}return r.a.createElement("ul",null,t.map((function(e){return r.a.createElement("li",null,e)})))},e.startingLevel=function(e){var t=20;return e.feature_levels.forEach((function(e){e.level<t&&(t=e.level)})),t},e}return Object(c.a)(a,[{key:"render",value:function(){var e=this,t=this.props.feature.name.toLowerCase().split(" ").join("-");return r.a.createElement(r.a.Fragment,null,r.a.createElement("li",{id:t,className:"feature-title"},r.a.createElement("strong",null,this.props.feature.name)),this.state.deleteFeatureButton?r.a.createElement("span",null,r.a.createElement("br",null),"Are you sure about that?",r.a.createElement("br",null)," ",r.a.createElement("button",{onClick:function(t){return e.deleteFeatureConfirm(t,"no")}},"No"),r.a.createElement("button",{onClick:function(t){return e.deleteFeatureConfirm(t,"yes")}},"Yes"),r.a.createElement("br",null),r.a.createElement("br",null)):null,!this.state.deleteFeatureButton&&this.props.admin?r.a.createElement("button",{onClick:this.renderClick},"Edit"):null,this.props.admin&&r.a.createElement("button",{onClick:function(){return e.props.toggleModal(e.props.feature.id)}},"Toggle Feature Effect"),r.a.createElement("li",null,this.renderDescription()),this.effectsButton(),this.state.showEffects&&this.showEffects(),this.state.toggleFeatureForm?this.renderForm():null)}}]),a}(r.a.Component),Fr=Object(h.b)((function(e){return{currentUser:e.current,admin:e.admin}}))(xr),Rr=function(e){return r.a.createElement("ul",{className:"show"},e.klass.klass_features&&Cr(e.klass.klass_features,e.chosenArchetypes||[]).map((function(t){return r.a.createElement(Fr,{key:t.id,feature:t,klass_name:e.klass.name,renderClassFeature:e.renderClassFeature,modal:e.modal,toggleModal:e.toggleModal})})))},Pr=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,l=new Array(n),i=0;i<n;i++)l[i]=arguments[i];return(e=t.call.apply(t,[this].concat(l))).state={name:"",description:"",hit_die:0,skill_ranks:"",fortitude:"",reflex:"",will:"",img_url:"",deleteClassButton:!1},e.renderSubmit=function(t){t.preventDefault(),fetch("".concat(p,"/api/v1/klasses"),{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(e.state)}).then((function(e){return e.json()})).then((function(t){t.error?console.log(t.error):(e.props.history.push("/classes/".concat(t.klass.name)),e.setState({name:"",description:"",hit_die:0,skill_ranks:"",fortitude:"",reflex:"",will:"",img_url:""}))}))},e.renderChange=function(t){e.setState(Object(O.a)({},t.target.name,t.target.value))},e.renderFormSubmit=function(t){e.props.renderClassEdit?e.props.renderClassEdit(t,e.state):e.renderSubmit(t)},e.renderForm=function(){return r.a.createElement("form",{onSubmit:function(t){return e.renderFormSubmit(t)}},r.a.createElement("label",null,"Class Name:",r.a.createElement("input",{type:"text",name:"name",value:e.state.name,onChange:e.renderChange})),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("label",null,"Description:",r.a.createElement("textarea",{type:"textfield",className:"desc-box",rows:"6",name:"description",value:e.state.description,onChange:e.renderChange})),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("label",null,"Hit Die:",r.a.createElement("select",{name:"hit_die",value:e.state.hit_die,onChange:e.renderChange},r.a.createElement("option",{value:""},"Select One"),r.a.createElement("option",{value:"12"},"d12"),r.a.createElement("option",{value:"10"},"d10"),r.a.createElement("option",{value:"8"},"d8"),r.a.createElement("option",{value:"6"},"d6"))),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("label",null,"Skill Ranks:",r.a.createElement("input",{type:"number",name:"skill_ranks",value:e.state.skill_ranks,onChange:e.renderChange})),r.a.createElement("br",null),r.a.createElement("label",null,"Saving Throws:",r.a.createElement("br",null),r.a.createElement("label",null,"Fortitude",r.a.createElement("select",{name:"fortitude",value:e.state.fortitude,onChange:e.renderChange},r.a.createElement("option",{value:""},"Select One"),r.a.createElement("option",{value:"0.5"},"Good"),r.a.createElement("option",{value:"0.34"},"Poor"))),r.a.createElement("label",null,"Reflex",r.a.createElement("select",{name:"reflex",value:e.state.reflex,onChange:e.renderChange},r.a.createElement("option",{value:""},"Select One"),r.a.createElement("option",{value:"0.5"},"Good"),r.a.createElement("option",{value:"0.34"},"Poor"))),r.a.createElement("label",null,"Will",r.a.createElement("select",{name:"will",value:e.state.will,onChange:e.renderChange},r.a.createElement("option",{value:""},"Select One"),r.a.createElement("option",{value:"0.5"},"Good"),r.a.createElement("option",{value:"0.34"},"Poor")))),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("label",null,"Image Link:",r.a.createElement("input",{type:"text",name:"img_url",value:e.state.img_url,onChange:e.renderChange})),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("input",{type:"submit",name:"submit"}))},e.deleteClass=function(){e.setState({deleteClassButton:!e.state.deleteClassButton})},e.deleteClassConfirm=function(t,a){t.preventDefault(),"yes"===a?fetch("".concat(p,"/api/v1/klasses/").concat(e.props.klass.id),{method:"DELETE",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({klass_id:e.props.klass.id})}).then((function(e){return e.json()})).then((function(t){e.props.history.push("/classes"),e.setState({deleteClassButton:!1})})):"no"===a&&e.setState({deleteClassButton:!1})},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.props.klass&&this.setState({name:this.props.klass.name,description:this.props.klass.description,hit_die:this.props.klass.hit_die,skill_ranks:this.props.klass.skill_ranks,fortitude:[this.props.klass.fortitude?this.props.klass.fortitude.toString():this.props.klass.fortitude],reflex:[this.props.klass.reflex?this.props.klass.reflex.toString():this.props.klass.reflex],will:[this.props.klass.will?this.props.klass.will.toString():this.props.klass.will],img_url:this.props.klass.img_url})}},{key:"render",value:function(){var e=this;return r.a.createElement("span",null,this.props.toggleClassForm||"/classes-form"===this.props.location.pathname?this.renderForm():null,this.props.klass?r.a.createElement("button",{onClick:this.deleteClass},"Delete Class"):null,this.state.deleteClassButton?r.a.createElement("span",null,r.a.createElement("br",null),"Are you sure about that?",r.a.createElement("br",null)," ",r.a.createElement("button",{onClick:function(t){return e.deleteClassConfirm(t,"no")}},"No"),r.a.createElement("button",{onClick:function(t){return e.deleteClassConfirm(t,"yes")}},"Yes"),r.a.createElement("br",null),r.a.createElement("br",null)):null)}}]),a}(r.a.Component),Lr=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,l=new Array(n),i=0;i<n;i++)l[i]=arguments[i];return(e=t.call.apply(t,[this].concat(l))).state={skillsIds:[],skillsets:[],skills:{},method:"POST"},e.fetchSkillsets=function(){fetch("".concat(p,"/api/v1/skillsets")).then((function(e){return e.json()})).then((function(t){return e.setState({skillsets:t})}))},e.fetchSkills=function(){fetch("".concat(p,"/api/v1/skills")).then((function(e){return e.json()})).then((function(t){return e.setState({skills:t})}))},e.renderSkillChange=function(t){if(e.state.skillsIds.includes(t)){var a=e.state.skillsIds.filter((function(e){return e!==t}));e.setState({skillsIds:a},console.log("skillsIds removed",e.state.skillsIds))}else e.setState({skillsIds:[].concat(Object(S.a)(e.state.skillsIds),[t])},console.log("skillsIds added",e.state.skillsIds))},e.selectedSkill=function(t){return!!e.state.skillsIds.includes(t)},e.renderActiveSkillset=function(){var t=e.state.skillsets.find((function(t){return t.id===e.props.currentUser.skillset_id}));return r.a.createElement("p",null,"Current Skillset: ",t.name)},e.renderSkillOptions=function(){return e.state.skills.map((function(t){return r.a.createElement("div",null,r.a.createElement("label",null,r.a.createElement("input",{type:"checkbox",name:t.name,checked:e.selectedSkill(t.id),onChange:function(){return e.renderSkillChange(t.id)}}),t.name))}))},e.renderSkills=function(){},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this;if(this.props.klass.skills[0]){var t=this.props.klass.class_skillset_skills.filter((function(t){return t.skillset_id===e.props.currentUser.skillset_id})).map((function(e){return e.skill_id}));this.setState({skillsIds:t,method:"PATCH"})}this.fetchSkillsets(),this.fetchSkills()}},{key:"render",value:function(){var e=this;return r.a.createElement("span",null,!!this.state.skillsets[0]&&this.renderActiveSkillset(),!!this.state.skills.keys&&this.renderSkillOptions(),r.a.createElement("button",{onClick:function(t){return e.props.renderClassSkills(t,e.state.skillsIds,e.state.method)}},"POST"===this.state.method?"Create Class Skills":"Adjust Class Skills"))}}]),a}(r.a.Component),Br=Object(h.b)((function(e){return{currentUser:e.currentUser,admin:e.admin}}))(Lr),Hr=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,l=new Array(n),i=0;i<n;i++)l[i]=arguments[i];return(e=t.call.apply(t,[this].concat(l))).state={spells:{0:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],1:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],2:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],3:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],4:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],5:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],6:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],7:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],8:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],9:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}},e.renderSpellsForm=function(){return r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Level"),r.a.createElement("th",null,"0"),r.a.createElement("th",null,"1"),r.a.createElement("th",null,"2"),r.a.createElement("th",null,"3"),r.a.createElement("th",null,"4"),r.a.createElement("th",null,"5"),r.a.createElement("th",null,"6"),r.a.createElement("th",null,"7"),r.a.createElement("th",null,"8"),r.a.createElement("th",null,"9"))),r.a.createElement("tbody",null,e.renderSpellsRow()))},e.renderSpellsRow=function(){return[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20].map((function(t){return r.a.createElement("tr",null,r.a.createElement("td",null,t),r.a.createElement("td",null,r.a.createElement("input",{type:"number",style:{maxWidth:"2.5em"},value:e.state.spells[0][t-1],onChange:function(a){return e.renderSpellChange(a,0,t)}})),r.a.createElement("td",null,r.a.createElement("input",{type:"number",style:{maxWidth:"2.5em"},value:e.state.spells[1][t-1],onChange:function(a){return e.renderSpellChange(a,1,t)}})),r.a.createElement("td",null,r.a.createElement("input",{type:"number",style:{maxWidth:"2.5em"},value:e.state.spells[2][t-1],onChange:function(a){return e.renderSpellChange(a,2,t)}})),r.a.createElement("td",null,r.a.createElement("input",{type:"number",style:{maxWidth:"2.5em"},value:e.state.spells[3][t-1],onChange:function(a){return e.renderSpellChange(a,3,t)}})),r.a.createElement("td",null,r.a.createElement("input",{type:"number",style:{maxWidth:"2.5em"},value:e.state.spells[4][t-1],onChange:function(a){return e.renderSpellChange(a,4,t)}})),r.a.createElement("td",null,r.a.createElement("input",{type:"number",style:{maxWidth:"2.5em"},value:e.state.spells[5][t-1],onChange:function(a){return e.renderSpellChange(a,5,t)}})),r.a.createElement("td",null,r.a.createElement("input",{type:"number",style:{maxWidth:"2.5em"},value:e.state.spells[6][t-1],onChange:function(a){return e.renderSpellChange(a,6,t)}})),r.a.createElement("td",null,r.a.createElement("input",{type:"number",style:{maxWidth:"2.5em"},value:e.state.spells[7][t-1],onChange:function(a){return e.renderSpellChange(a,7,t)}})),r.a.createElement("td",null,r.a.createElement("input",{type:"number",style:{maxWidth:"2.5em"},value:e.state.spells[8][t-1],onChange:function(a){return e.renderSpellChange(a,8,t)}})),r.a.createElement("td",null,r.a.createElement("input",{type:"number",style:{maxWidth:"2.5em"},value:e.state.spells[9][t-1],onChange:function(a){return e.renderSpellChange(a,9,t)}})))}))},e.renderSpellChange=function(t,a,n){var r=Object(j.a)({},e.state.spells);r[a][n-1]=t.target.value,e.setState({spells:r})},e}return Object(c.a)(a,[{key:"render",value:function(){var e=this;return console.log("class changing spells per day",this.state.spells),r.a.createElement("div",null,this.renderSpellsForm(),r.a.createElement("button",{onClick:function(){return e.props.submitSpellsPerDay(e.state.spells)}},"Submit Spells per Day"))}}]),a}(r.a.Component),Wr=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,l=new Array(n),i=0;i<n;i++)l[i]=arguments[i];return(e=t.call.apply(t,[this].concat(l))).state={abilityScore:"",prepared:!1,limited:!1},e.renderChange=function(t){e.setState(Object(O.a)({},t.target.name,t.target.value))},e.renderForm=function(){return r.a.createElement("div",null,r.a.createElement("label",null,"Relevant Ability Score:",r.a.createElement("select",{name:"abilityScore",value:e.state.abilityScore,onChange:e.renderChange},r.a.createElement("option",{value:""},"Select One"),r.a.createElement("option",{value:"Strength"},"Strength"),r.a.createElement("option",{value:"Dexterity"},"Dexterity"),r.a.createElement("option",{value:"Constitution"},"Constitution"),r.a.createElement("option",{value:"Intelligence"},"Intelligence"),r.a.createElement("option",{value:"Wisdom"},"Wisdom"),r.a.createElement("option",{value:"Charisma"},"Charisma"))),r.a.createElement("br",null),r.a.createElement("label",null,"Do you have to prepare your spells?",r.a.createElement("input",{type:"checkbox",name:"prepared",isSelected:e.state.prepared,onChange:e.renderChange})),r.a.createElement("br",null),r.a.createElement("label",null,"Are you limited by your spells you can choose?",r.a.createElement("input",{type:"checkbox",name:"limited",isSelected:e.state.limited,onChange:e.renderChange})),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("button",{onClick:function(){return e.props.fetch(e.state,"spellcasting")}},"Create Feature Effect"))},e}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,this.renderForm())}}]),a}(r.a.Component),qr=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,l=new Array(n),i=0;i<n;i++)l[i]=arguments[i];return(e=t.call.apply(t,[this].concat(l))).state={choice:""},e.renderChange=function(t){e.setState(Object(O.a)({},t.target.name,t.target.value))},e.renderSelection=function(){return r.a.createElement("div",{className:"tab-list-active"},r.a.createElement("label",null,"Class Feature Effect:",r.a.createElement("select",{name:"choice",value:e.state.choice,onChange:e.renderChange},r.a.createElement("option",{value:""},"Select One"),r.a.createElement("option",{value:"Spellcasting"},"Spellcasting"))))},e}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement(K,null,r.a.createElement("div",{className:"page-dimmer",onClick:this.props.clickOut},r.a.createElement("div",{className:"edit-form",name:"background"},r.a.createElement("div",null,r.a.createElement("p",null,"Select an Effect"),this.renderSelection(),"Spellcasting"===this.state.choice&&r.a.createElement(Wr,{fetch:this.props.fetch})))))}}]),a}(r.a.Component),zr=(r.a.Component,Object(h.b)((function(e){return{currentUser:e.currentUser,admin:e.admin,classes:e.classes}}))((function(e){var t=r.a.useState({klass:{},toggleFeatureForm:!1,toggleClassForm:!1,toggleClassSkillsForm:!1,toggleSpellsForm:!1,modal:!1,features:!0}),a=Object(U.a)(t,2),n=a[0],l=a[1];r.a.useEffect((function(){var t=function(){var e=window.location.href.split("/");return e[e.length-1]}(),a="";if("Fate%20Weaver"===t&&(a="Fate Weaver"),e.klass)l(Object(j.a)(Object(j.a)({},n),{},{klass:e.klass}));else if(e.classes.find((function(e){return e.name===t||e.name===a}))){var r=e.classes.find((function(e){return e.name===t||e.name===a}));l(Object(j.a)(Object(j.a)({},n),{},{klass:r}))}else fetch("".concat(p,"/api/v1/klasses/").concat(t)).then((function(e){return e.json()})).then((function(e){return l(Object(j.a)(Object(j.a)({},n),{},{klass:e.klass}))}))}),[]);var i=function(e){var t;Number.isInteger(e)?t=n.klass.klass_features.filter((function(t){return t.id!==e})):n.klass.klass_features.find((function(t){return t.id===e.klass_feature.id}))?"object"===typeof e&&(t=n.klass.klass_features.map((function(t){return t.id===e.id?e:t}))):(t=n.klass.klass_features).push(e.klass_feature),l(Object(j.a)(Object(j.a)({},n),{},{klass:Object(j.a)(Object(j.a)({},n.klass),{},{klass_features:t}),toggleFeatureForm:!1}))},o=function(e){console.log("this feature is being adjusted",e),l(Object(j.a)(Object(j.a)({},n),{},{modal:e}))};return r.a.createElement("span",{className:"roboto show"},n.klass.name&&r.a.createElement(Nr,{klass:n.klass,options:e.options,chosenArchetypes:e.chosenArchetypes||[]}),e.admin?r.a.createElement("button",{onClick:function(){l(Object(j.a)(Object(j.a)({},n),{},{toggleClassForm:!n.toggleClassForm}))}},n.toggleClassForm?"Hide Edit Class":"Edit Class"):null,n.toggleClassForm?r.a.createElement(Pr,{toggleClassForm:n.toggleClassForm,klass:n.klass,renderClassEdit:function(e,t){e.preventDefault(),fetch("".concat(p,"/api/v1/klasses/").concat(n.klass.id),{method:"PATCH",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({klass_id:n.klass.id,updates:t})}).then((function(e){return e.json()})).then((function(e){e.error?console.log(e.error):l(Object(j.a)(Object(j.a)({},n),{},{klass:e.klass,toggleClassForm:!1}))}))},history:e.history}):null,e.admin&&r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{onClick:function(){l(Object(j.a)(Object(j.a)({},n),{},{toggleClassSkillsForm:!n.toggleClassSkillsForm}))}},n.toggleClassSkillsForm?"Hide Skills Form":"Skills Form"),r.a.createElement("br",null),r.a.createElement("button",{onClick:function(){l(Object(j.a)(Object(j.a)({},n),{},{toggleSpellsForm:!n.toggleSpellsForm}))}},n.toggleSpellsForm?"Hide Spells Form":"Spells Form")),n.toggleClassSkillsForm&&r.a.createElement(Br,{toggleClassSkillsForm:n.toggleClassSkillsForm,klass:n.klass,renderClassSkills:function(t,a,r){t.preventDefault(),fetch("".concat(p,"/api/v1/class_skillset_skills"),{method:r,headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({klass_id:n.klass.id,skills:a,skillset_id:e.currentUser.skillset_id})}).then((function(e){return e.json()})).then((function(e){e.error?console.log(e.error):l(Object(j.a)(Object(j.a)({},n),{},{klass:e.klass,toggleClassSkillsForm:!1}))}))}}),n.toggleSpellsForm&&r.a.createElement(Hr,{submitSpellsPerDay:function(e){fetch("".concat(p,"/api/v1/spells_per_day"),{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({spells_per_day:e,klass_id:n.klass.id})}).then((function(e){return e.json()})).then((function(e){l(Object(j.a)(Object(j.a)({},n),{},{klass:e.klass,toggleSpellsForm:!1}))}))},toggleSpellsForm:n.toggleSpellsForm,klass:n.klass}),function(){var t;return!1===(null===(t=e.options)||void 0===t?void 0:t.displayTable)?null:r.a.createElement(Dr,{klass:n.klass})}(),n.klass.name&&r.a.createElement(Rr,{klass:n.klass,renderClassFeature:i,modal:n.modal,toggleModal:o,chosenArchetypes:e.chosenArchetypes}),e.admin?r.a.createElement("button",{onClick:function(){l(Object(j.a)(Object(j.a)({},n),{},{toggleFeatureForm:!n.toggleFeatureForm}))}},n.toggleFeatureForm?"Hide new Feature Form":"Add a new Class Feature"):null,r.a.createElement(Mr,{toggleFeatureForm:n.toggleFeatureForm,renderSubmit:function(e,t){e.preventDefault(),fetch("".concat(p,"/api/v1/klass_features"),{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({klass_id:n.klass.id,features:t})}).then((function(e){return e.json()})).then((function(e){e.error?console.log(e.error):i(e)}))}}),n.modal&&r.a.createElement(qr,{exitModal:function(){l(Object(j.a)(Object(j.a)({},n),{},{modal:!1}))},clickOut:function(e){"page-dimmer"===e.target.classList[0]&&l(Object(j.a)(Object(j.a)({},n),{},{modal:!1}))},fetch:function(e,t){fetch("".concat(p,"/api/v1/").concat(t),{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({ability_score:e.abilityScore,prepared:e.prepared,limited:e.limited,klass_feature_id:n.modal})}).then((function(e){return e.json()})).then((function(e){l(Object(j.a)(Object(j.a)({},n),{},{klass:e.klass,modal:!1}))}))}}))}))),Ur=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,l=new Array(n),i=0;i<n;i++)l[i]=arguments[i];return(e=t.call.apply(t,[this].concat(l))).renderDescription=function(){if(e.props.race.description){var t=e.props.race.description;return(t=t.split("\n\n")).map((function(e){return r.a.createElement("p",{key:Z.a.random(1,2e6)},e)}))}},e.renderAbilityScoreModifiers=function(){if(e.props.race.race_ability_score_modifiers){var t=e.props.race.race_ability_score_modifiers,a=[];return t.forEach((function(e){var t=e.bonus<0?e.bonus:"+".concat(e.bonus);a.push("".concat(t," ").concat(e.ability_score))})),a.join(", ")}},e}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"show",id:"class-intro"},r.a.createElement("span",null,r.a.createElement("h2",null,this.props.race?this.props.race.name:null),this.renderDescription(),r.a.createElement("p",null,r.a.createElement("strong",null,"Size"),": ",this.props.race?this.props.race.size:null),r.a.createElement("p",null,r.a.createElement("strong",null,"Speed"),": ",this.props.race?this.props.race.speed:null," ft"),r.a.createElement("p",null,r.a.createElement("strong",null,"Ability Score Modifiers"),": ",this.renderAbilityScoreModifiers())),r.a.createElement("span",null,r.a.createElement("img",{id:"class-img",alt:this.props.race.name,src:this.props.race.img_url})))}}]),a}(r.a.Component),Gr=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,l=new Array(n),i=0;i<n;i++)l[i]=arguments[i];return(e=t.call.apply(t,[this].concat(l))).state={trait:{name:"",description:""}},e.renderTraitChange=function(t){e.setState({trait:Object(j.a)(Object(j.a)({},e.state.trait),{},Object(O.a)({},t.target.name,t.target.value))})},e.clearAddTrait=function(){e.props.trait||""!==e.state.trait.name&&""!==e.state.trait.level_learned&&""!==e.state.trait.description&&e.setState({trait:{name:"",level_learned:"",description:""}})},e.renderAddTrait=function(){return r.a.createElement("div",null,r.a.createElement("form",{onSubmit:function(t){e.props.renderSubmit(t,e.state.trait)}},r.a.createElement("label",null,"Trait Name:",r.a.createElement("input",{type:"text",name:"name",value:e.state.trait.name,onChange:e.renderTraitChange})),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("label",null,"Description:",r.a.createElement("textarea",{type:"textfield",rows:"6",className:"desc-box",name:"description",value:e.state.trait.description,onChange:e.renderTraitChange})),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("input",{type:"submit",name:"submit"})))},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.props.trait&&this.setState({trait:{name:this.props.trait.name,description:this.props.trait.description}})}},{key:"render",value:function(){return r.a.createElement("div",null,this.props.toggleTraitForm?this.renderAddTrait():this.clearAddTrait(),this.props.trait?r.a.createElement("button",{onClick:this.props.deleteTrait},"Delete Trait"):null,r.a.createElement("br",null))}}]),a}(r.a.Component),Yr=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,l=new Array(n),i=0;i<n;i++)l[i]=arguments[i];return(e=t.call.apply(t,[this].concat(l))).state={toggleTraitForm:!1,deleteTraitButton:!1},e.renderClick=function(t){e.setState({toggleTraitForm:!e.state.toggleTraitForm})},e.renderSubmit=function(t,a){t.preventDefault(),fetch("".concat(p,"/api/v1/racial_traits/").concat(e.props.trait.id),{method:"PATCH",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({racial_trait_id:e.props.trait.id,traits:a})}).then((function(e){return e.json()})).then((function(t){t.error?console.log(t.error):e.setState({toggleTraitForm:!1},(function(){return e.props.renderRacialTrait(t.racial_trait)}))}))},e.renderForm=function(){return r.a.createElement(Gr,{toggleTraitForm:e.state.toggleTraitForm,trait:e.props.trait,renderSubmit:e.renderSubmit,deleteTrait:e.deleteTrait})},e.deleteTrait=function(){e.setState({toggleTraitForm:!e.state.toggleTraitForm,deleteTraitButton:!e.state.deleteTraitButton})},e.deleteTraitConfirm=function(t,a){t.preventDefault(),"yes"===a?fetch("".concat(p,"/api/v1/racial_traits/").concat(e.props.trait.id),{method:"DELETE",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({racial_trait_id:e.props.trait.id})}).then((function(e){return e.json()})).then((function(t){e.setState({toggleTraitForm:!1,deleteTraitButton:!1},(function(){return e.props.renderRacialTrait(t)}))})):"no"===a&&e.setState({toggleTraitForm:!1,deleteTraitButton:!1})},e.renderDescription=function(){if(e.props.trait.description){var t=e.props.trait.description;return(t=t.split("\n\n")).map((function(e){return r.a.createElement("span",{key:Z.a.random(1,2e6)},e)}))}},e}return Object(c.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("span",{className:"trait"},r.a.createElement("div",{className:"show"},r.a.createElement("strong",null,this.props.trait.name),": ",this.renderDescription()),this.state.deleteTraitButton?r.a.createElement("span",null,r.a.createElement("br",null),"Are you sure about that?",r.a.createElement("br",null)," ",r.a.createElement("button",{onClick:function(t){return e.deleteTraitConfirm(t,"no")}},"No"),r.a.createElement("button",{onClick:function(t){return e.deleteTraitConfirm(t,"yes")}},"Yes"),r.a.createElement("br",null),r.a.createElement("br",null)):null,!this.state.deleteTraitButton&&this.props.admin?r.a.createElement("button",{onClick:this.renderClick},"Edit"):null,this.state.toggleTraitForm?this.renderForm():null,r.a.createElement("br",null))}}]),a}(r.a.Component),Kr=Object(h.b)((function(e){return{currentUser:e.current,admin:e.admin}}))(Yr),Vr=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,l=new Array(n),i=0;i<n;i++)l[i]=arguments[i];return(e=t.call.apply(t,[this].concat(l))).renderTraits=function(){return e.props.race.racial_traits.map((function(t){return r.a.createElement(Kr,{key:t.id,trait:t,race_name:e.props.race.name,renderRacialTrait:e.props.renderRacialTrait})}))},e}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("span",null,this.props.race.racial_traits&&this.renderTraits())}}]),a}(r.a.Component),Jr=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,l=new Array(n),i=0;i<n;i++)l[i]=arguments[i];return(e=t.call.apply(t,[this].concat(l))).state={name:"",description:"",size:"Medium",speed:"",abilityScoreModifiers:[{ability_score:"",bonus:0}],img_url:"",deleteRaceButton:!1},e.renderSubmit=function(t){t.preventDefault(),fetch("".concat(p,"/api/v1/races"),{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(e.state)}).then((function(e){return e.json()})).then((function(t){t.error?console.log(t.error):(e.props.history.push("/races/".concat(t.race.name)),e.setState({name:"",description:"",size:"Medium",speed:0,abilityScoreModifiers:[{ability_score:"",bonus:0}],img_url:""}))}))},e.renderChange=function(t){e.setState(Object(O.a)({},t.target.name,t.target.value))},e.renderFormSubmit=function(t){e.props.renderRaceEdit?e.props.renderRaceEdit(t,e.state):e.renderSubmit(t)},e.renderForm=function(){return r.a.createElement("form",{onSubmit:function(t){return e.renderFormSubmit(t)}},r.a.createElement("label",null,"Ancestry Name:",r.a.createElement("input",{type:"text",name:"name",value:e.state.name,onChange:e.renderChange})),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("label",null,"Description:",r.a.createElement("textarea",{type:"textfield",className:"desc-box",rows:"6",name:"description",value:e.state.description,onChange:e.renderChange})),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("label",null,"Size:",r.a.createElement("select",{name:"size",value:e.state.size,onChange:e.renderChange},r.a.createElement("option",{value:"Fine"},"Fine"),r.a.createElement("option",{value:"Diminutive"},"Diminutive"),r.a.createElement("option",{value:"Tiny"},"Tiny"),r.a.createElement("option",{value:"Small"},"Small"),r.a.createElement("option",{value:"Medium"},"Medium"),r.a.createElement("option",{value:"Large"},"Large"),r.a.createElement("option",{value:"Huge"},"Huge"),r.a.createElement("option",{value:"Gargantuan"},"Gargantuan"),r.a.createElement("option",{value:"Colossal"},"Colossal"))),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("label",null,"Speed:",r.a.createElement("input",{type:"number",name:"speed",value:e.state.speed,onChange:e.renderChange})),r.a.createElement("br",null),r.a.createElement("br",null),e.mapAbilityScoreDynamicFields(),r.a.createElement("button",{onClick:function(t){return e.addAbilityScoreModifierField(t,"plus")}},"+"),e.state.abilityScoreModifiers.length>1?r.a.createElement("button",{onClick:function(t){return e.addAbilityScoreModifierField(t,"minus")}},"-"):null,r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("label",null,"Image Link:",r.a.createElement("input",{type:"text",name:"img_url",value:e.state.img_url,onChange:e.renderChange})),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("input",{type:"submit",name:"submit"}))},e.mapAbilityScoreDynamicFields=function(){return e.state.abilityScoreModifiers.map((function(t,a){var n="ability-".concat(a),l="bonus-".concat(a);return r.a.createElement("div",{key:a},r.a.createElement("label",{htmlFor:n},"Ability Score Modifier #".concat(a+1)),r.a.createElement("select",{name:n,"data-id":a,id:n,value:e.state.abilityScoreModifiers[a].ability_score,className:"ability_score",onChange:e.renderDynamicChanges},r.a.createElement("option",{value:""},"Choose One"),r.a.createElement("option",{value:"Strength"},"Strength"),r.a.createElement("option",{value:"Dexterity"},"Dexterity"),r.a.createElement("option",{value:"Constitution"},"Constitution"),r.a.createElement("option",{value:"Intelligence"},"Intelligence"),r.a.createElement("option",{value:"Wisdom"},"Wisdom"),r.a.createElement("option",{value:"Charisma"},"Charisma"),r.a.createElement("option",{value:"Any"},"Any")),r.a.createElement("label",{htmlFor:l},"Bonus"),r.a.createElement("input",{type:"number",name:l,"data-id":a,id:l,value:e.state.abilityScoreModifiers[a].bonus,className:"bonus",onChange:e.renderDynamicChanges}))}))},e.addAbilityScoreModifierField=function(t,a){t.preventDefault(),"plus"===a?e.setState({abilityScoreModifiers:[].concat(Object(S.a)(e.state.abilityScoreModifiers),[{ability_score:"",bonus:0}])}):"minus"===a&&(e.state.abilityScoreModifiers.pop(),e.setState({abilityScoreModifiers:e.state.abilityScoreModifiers}))},e.renderDynamicChanges=function(t){if(["ability_score","bonus"].includes(t.target.className)){var a=Object(S.a)(e.state.abilityScoreModifiers);a[t.target.dataset.id][t.target.className]=t.target.value,e.setState({abilityScoreModifiers:a})}},e.deleteRace=function(){e.setState({deleteRaceButton:!e.state.deleteRaceButton})},e.deleteRaceConfirm=function(t,a){t.preventDefault(),"yes"===a?fetch("".concat(p,"/api/v1/races/").concat(e.props.race.id),{method:"DELETE",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({race_id:e.props.race.id})}).then((function(e){return e.json()})).then((function(t){e.props.history.push("/races"),e.setState({deleteRaceButton:!1})})):"no"===a&&e.setState({deleteRaceButton:!1})},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.props.race&&this.setState({name:this.props.race.name,description:this.props.race.description,size:this.props.race.size,speed:this.props.race.speed,abilityScoreModifiers:this.props.race.race_ability_score_modifiers,img_url:this.props.race.img_url})}},{key:"render",value:function(){var e=this;return console.log("the state",this.state),console.log("the props",this.props.race),r.a.createElement("span",null,this.props.toggleRaceForm||"/ancestries-form"===this.props.location.pathname?this.renderForm():null,this.props.race?r.a.createElement("button",{onClick:this.deleteRace},"Delete Ancestry"):null,this.state.deleteRaceButton?r.a.createElement("span",null,r.a.createElement("br",null),"Are you sure about that?",r.a.createElement("br",null)," ",r.a.createElement("button",{onClick:function(t){return e.deleteRaceConfirm(t,"no")}},"No"),r.a.createElement("button",{onClick:function(t){return e.deleteRaceConfirm(t,"yes")}},"Yes"),r.a.createElement("br",null),r.a.createElement("br",null)):null)}}]),a}(r.a.Component),Qr=Object(h.b)((function(e){return{currentUser:e.currentUser,admin:e.admin}}))(Jr),Zr=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={race:{},toggleTraitForm:!1,toggleRaceForm:!1},e.renderURL=function(){var e=window.location.href.split("/");return e[e.length-1]},e.changeAddTraitToggle=function(){e.setState({toggleTraitForm:!e.state.toggleTraitForm})},e.toggleRaceForm=function(){e.setState({toggleRaceForm:!e.state.toggleRaceForm})},e.renderSubmit=function(t,a){t.preventDefault(),fetch("".concat(p,"/api/v1/racial_traits"),{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({race_id:e.state.race.id,traits:a})}).then((function(e){return e.json()})).then((function(t){t.error?console.log(t.error):e.renderRacialTrait(t)}))},e.renderRaceEdit=function(t,a){t.preventDefault(),fetch("".concat(p,"/api/v1/races/").concat(e.state.race.id),{method:"PATCH",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({race_id:e.state.race.id,updates:a})}).then((function(e){return e.json()})).then((function(t){t.error?console.log(t.error):e.setState({race:t.race,toggleRaceForm:!1})}))},e.renderRacialTrait=function(t){var a;return Number.isInteger(t)?a=e.state.race.racial_traits.filter((function(e){return e.id!==t})):e.state.race.racial_traits.find((function(e){return e.id===t.id}))?"object"===typeof t&&(a=e.state.race.racial_traits.map((function(e){return e.id===t.id?t:e}))):(a=e.state.race.racial_traits).push(t.racial_trait),e.setState({race:Object(j.a)(Object(j.a)({},e.state.race),{},{racial_traits:a}),toggleTraitForm:!1})},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.renderURL();this.props.race?this.setState({race:this.props.race}):fetch("".concat(p,"/api/v1/races/").concat(t)).then((function(e){return e.json()})).then((function(t){return e.setState({race:t})}))}},{key:"render",value:function(){return console.log("This is the race state",this.state.race.race_ability_score_modifiers),r.a.createElement("span",{className:"roboto show"},r.a.createElement(Ur,{race:this.state.race}),this.props.admin?r.a.createElement("button",{onClick:this.toggleRaceForm},this.state.toggleRaceForm?"Hide Edit Race":"Edit Race"):null,r.a.createElement("br",null),this.state.toggleRaceForm?r.a.createElement(Qr,{toggleRaceForm:this.state.toggleRaceForm,race:this.state.race,renderRaceEdit:this.renderRaceEdit,history:this.props.history}):null,r.a.createElement("div",{className:"header",style:{marginLeft:"2em"}},"Racial Traits"),r.a.createElement(Vr,{race:this.state.race,renderRacialTrait:this.renderRacialTrait}),this.props.admin?r.a.createElement("button",{onClick:this.changeAddTraitToggle},this.state.toggleTraitForm?"Hide new Trait Form":"Add a new Race Feature"):null,r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(Gr,{toggleTraitForm:this.state.toggleTraitForm,renderSubmit:this.renderSubmit}))}}]),a}(r.a.Component),Xr=Object(h.b)((function(e){return{currentUser:e.currentUser,admin:e.admin}}))(Zr),$r=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,l=new Array(n),i=0;i<n;i++)l[i]=arguments[i];return(e=t.call.apply(t,[this].concat(l))).renderDescription=function(){if(e.props.skill.description){var t=e.props.skill.description;return(t=t.split("\n\n")).map((function(e){return r.a.createElement("p",{key:Z.a.random(1,2e6)},e)}))}},e}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"show"},r.a.createElement("h2",null,this.props.skill?this.props.skill.name:null),r.a.createElement("p",null,r.a.createElement("strong",null,this.props.skill&&this.props.skill.ability_score?this.props.skill.ability_score:null,this.props.skill&&!this.props.skill.untrained?"; Trained Only":null,!this.props.skill||"Strength"!==this.props.skill.abilityScore&&"Dexterity"!==this.props.skill.abilityScore?null:"; Armor Check Ability")),this.renderDescription())}}]),a}(r.a.Component),el=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={skill:{}},e.renderURL=function(){var e=window.location.href.split("/");return e[e.length-1]},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.renderURL();fetch("".concat(p,"/api/v1/skills/").concat(t)).then((function(e){return e.json()})).then((function(t){return e.setState({skill:t.skill})}))}},{key:"render",value:function(){return console.log(this.state.skill),r.a.createElement("span",{className:"roboto show"},r.a.createElement($r,{skill:this.state.skill}),this.props.admin?r.a.createElement("button",{onClick:this.toggleSkillForm},this.state.toggleSkillForm?"Hide Edit Skill":"Edit Skill"):null)}}]),a}(r.a.Component),tl=Object(h.b)((function(e){return{currentUser:e.currentUser,admin:e.admin}}))(el),al=function(e){var t;return r.a.createElement("main",{id:"character-creation-home"},r.a.createElement("section",{id:"new-character-home-name",className:"standard-container-bubble"},r.a.createElement("label",{htmlFor:"new-character-name",className:"new-character-label"},r.a.createElement("strong",null,"Character Name")),":",r.a.createElement("input",{className:"new-character-text-input",type:"text",id:"new-character-name",name:"name",value:e.name,onChange:e.renderChange,autocomplete:"off"})),r.a.createElement("section",{id:"new-character-home-campaign",className:"standard-container-bubble"},r.a.createElement("label",{htmlFor:"new-character-campaign",className:"new-character-label"},r.a.createElement("strong",null,"Campaign Code")),":",r.a.createElement("input",{className:"new-character-text-input",type:"number",id:"new-character-campaign",name:"campaign_id",value:e.campaign_id,onChange:e.renderChange,autocomplete:"off"}),e.campaignDetails&&r.a.createElement("span",null,e.campaignDetails.name)),(null===(t=e.campaignDetails)||void 0===t?void 0:t.id)&&function(){var t=e.campaignDetails,a=t.name,n=t.setting,l=t.theme,i=t.notes;return r.a.createElement("section",{id:"character-creation-home-campaign-details",className:"standard-container-bubble"},r.a.createElement("h4",null,a),r.a.createElement("p",null,r.a.createElement("strong",null,"Theme:")," ",l),r.a.createElement("p",null,r.a.createElement("strong",null,"Setting:")," ",n),r.a.createElement("p",null,r.a.createElement("strong",null,"Notes:")," ",i))}())},nl=Object(m.f)(Object(h.b)((function(e){return{currentUser:e.currentUser,admin:e.admin,races:e.races}}))((function(e){var t=r.a.useState({races:[],raceAnyModifier:!1}),a=Object(U.a)(t,2),n=(a[0],a[1],r.a.useState(!1)),l=Object(U.a)(n,2),i=l[0],o=l[1],c=function(t){return r.a.createElement("div",{className:"dynamic-card",style:{border:"4px solid transparent"},onClick:function(){return e.renderAncestryChange(t.id)}},r.a.createElement("img",{className:"dynamic-card-img",alt:t.name,src:t.img_url}),r.a.createElement("p",{className:"dynamic-card-content-button"}," ",t.name," "))},s=e.chosenRaceId?"chosen-ancestry":"";return r.a.createElement("section",{id:"character-creation-ancestry",className:s},!e.chosenRaceId&&function(){var t,a=e.races;(null===(t=e.campaignDetails)||void 0===t?void 0:t.races.length)>1&&(a=e.campaignDetails.races);var n=a.filter((function(t){return t.id!==e.chosenRaceId}));a.find((function(t){return t.id===e.chosenRaceId}));return n=n.sort((function(e,t){return e.name.localeCompare(t.name)})).map(c),r.a.createElement("section",{id:"character-creation-ancestry-all"},n)}(),!!e.chosenRaceId&&function(){var t=e.races.find((function(t){return t.id===e.chosenRaceId}));return r.a.createElement("div",{id:"chosen-ancestry-card",className:"dynamic-card",onClick:function(){return e.renderAncestryChange(t.id)}},r.a.createElement("img",{className:"dynamic-card-img",alt:t.name,src:t.img_url}),r.a.createElement("p",{className:"dynamic-card-content-button"}," ",t.name," "))}(),!!e.chosenRaceId&&function(){var t=e.races.find((function(t){return t.id===e.chosenRaceId})),a=t.name,n=t.size,l=t.speed,c=t.description,s=t.race_ability_score_modifiers.map((function(e){return"".concat(qe(e.bonus)," ").concat(e.ability_score)})).join(", "),u=t.racial_traits.map((function(e){return r.a.createElement("li",null,r.a.createElement("strong",null,e.name,":")," ",e.description)})),d=c.split("\n\n").map((function(e){return r.a.createElement("p",null,e)}));return r.a.createElement("aside",{id:"character-creation-ancestry-chosen"},r.a.createElement("h4",null,a),r.a.createElement("p",{onClick:function(){return o(!i)}},i?d:"Show Details"),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("strong",null,s)),r.a.createElement("li",null,r.a.createElement("strong",null,"Size:")," ",n),r.a.createElement("li",null,r.a.createElement("strong",null,"Speed:")," ",l," ft"),u))}(),!!e.chosenRaceId&&r.a.createElement("button",{onClick:function(){return e.renderAncestryChange(0)}},"Go Back"))}))),rl=function(e){var t=r.a.useState(!1),a=Object(U.a)(t,2),n=a[0],l=a[1];return r.a.createElement("div",{className:"dynamic-card",style:{border:"4px solid transparent"},onMouseEnter:function(){return l(!0)},onMouseLeave:function(){return l(!1)},onMouseOver:function(){n||l(!0)}},r.a.createElement("img",{className:"dynamic-card-img",alt:e.klass.name,src:e.klass.img_url}),r.a.createElement("p",{className:"dynamic-card-content-button"},e.klass.name,n&&r.a.createElement(r.a.Fragment,null,r.a.createElement("br",null),r.a.createElement("button",{onClick:function(){return e.renderClassChange(e.klass.id)}},"+"),r.a.createElement("button",{onClick:function(){return e.displayChosenClass(e.klass.id)}},"?"))))},ll=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,l=new Array(n),i=0;i<n;i++)l[i]=arguments[i];return(e=t.call.apply(t,[this].concat(l))).renderCancel=function(){if(e.props.allies&&"Nettie"===e.props.character)return r.a.createElement("button",{onClick:function(){return e.props.removeAlly(e.props.index)}},"X")},e}return Object(c.a)(a,[{key:"render",value:function(){var e=this,t="tab-list-item";return this.props.activeTab===this.props.label&&(t+=" tab-list-active"),r.a.createElement("span",{className:t,style:{borderColor:"#".concat(this.props.settings.borderColor)},onClick:function(){return e.props.renderTabClick(e.props.label,e.props.index)}},this.props.label,this.renderCancel())}}]),a}(r.a.Component),il=Object(h.b)((function(e){return{settings:e.settings}}))(ll),ol=function(e){return r.a.createElement("span",{className:"tab-list"},function(){var t=["Base Features","Archetypes"];return e.optionsTabName&&t.push(e.optionsTabName),t.map((function(t){return r.a.createElement(il,{label:t,renderTabClick:e.renderTabClick,activeTab:e.activeTab})}))}())},cl=(F.getState,F.dispatch),sl=function(e){var t=e.feature,a=t.name,n=t.description,l=a.toLowerCase().split(" ").join("-");return r.a.createElement(r.a.Fragment,null,r.a.createElement("li",{id:l,className:"feature-title"},r.a.createElement("strong",null,a)),r.a.createElement("li",null,ze(n)))},ul=function(e){var t=r.a.useState(!1),a=Object(U.a)(t,2),n=a[0],l=a[1],i=e.archetype,o=i.name,c=i.description,s=i.klass_archetype_features,u=i.id,d=function(){l(!1),e.displayKlassArchetype(e.archetype)};return r.a.createElement("li",{className:"chosen-class-archetype",onClick:function(){n||(l(!0),e.displayKlassArchetype(e.archetype))}},n?r.a.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},r.a.createElement("span",null,r.a.createElement("h4",null,r.a.createElement("strong",null,o))),r.a.createElement("span",null,r.a.createElement("button",{onClick:function(){return e.archetypeChange(u)}},e.chosen?"Remove":"Add"," Archetype"),r.a.createElement("button",{onClick:d},"Collapse"))):r.a.createElement("h4",null,r.a.createElement("strong",null,o)),r.a.createElement("p",null,c),r.a.createElement("ul",null,n&&s.map((function(e){return r.a.createElement(sl,{feature:e})}))))},dl=function(e){return r.a.createElement("ul",{id:"chosen-class-archetype-container"},e.archetypes.length?e.archetypes.map((function(t){var a=e.chosenArchetypeIds.includes(t.id);return r.a.createElement(ul,{archetype:t,displayKlassArchetype:e.displayKlassArchetype,archetypeChange:e.archetypeChange,chosen:a})})):null)},ml=function(e){var t=e.option,a=t.name,n=t.description;return r.a.createElement("li",{className:"chosen-class-option"},r.a.createElement("h4",null,a),r.a.createElement("p",null,n))},hl=function(e){return r.a.createElement("ul",{id:"chosen-class-options-container"},e.options.map((function(e){return r.a.createElement(ml,{option:e})})))},pl=Object(m.f)(Object(h.b)((function(e){return{currentUser:e.currentUser,admin:e.admin,classes:e.classes}}))((function(e){var t=r.a.useState({classes:[],activeSkillset:0,skillsets:{},viewSpecificClassDetails:0,viewSpecificArchetype:{},activeTab:"Base Features",hasOptions:!1,optionsTabName:null}),a=Object(U.a)(t,2),n=a[0],l=a[1];r.a.useEffect((function(){if(n.viewSpecificClassDetails){var t=e.classes.find((function(e){return e.id===n.viewSpecificClassDetails}));t.archetypes||re("klasses/".concat(n.viewSpecificClassDetails,"/archetypes")).then((function(e){var a;e.error||(a=t.id,cl({type:"STORE ARCHETYPES",klassId:a,archetypes:e}))}));var a=Tr(t);a&&re("klass_features/".concat(a,"/options")).then((function(e){if(!e.error){var r;o=t.id,cl({type:"STORE OPTIONS",klassId:o,klassFeatureId:a,options:e});var i=null===(r=t.klass_features.find((function(e){return e.id===a})))||void 0===r?void 0:r.name;l(Object(j.a)(Object(j.a)({},n),{},{hasOptions:!0,optionsTabName:i}))}var o}))}}),[n.viewSpecificClassDetails]);var i=function(e){e===n.viewSpecificClassDetails?l(Object(j.a)(Object(j.a)({},n),{},{viewSpecificClassDetails:0})):l(Object(j.a)(Object(j.a)({},n),{},{viewSpecificClassDetails:e}))},o=function(e){e.id===n.viewSpecificArchetype.id?l(Object(j.a)(Object(j.a)({},n),{},{viewSpecificArchetype:{}})):l(Object(j.a)(Object(j.a)({},n),{},{viewSpecificArchetype:e}))},c=function(t){l(Object(j.a)(Object(j.a)({},n),{},{viewSpecificArchetype:{},activeTab:"Base Features",hasOptions:!1})),e.archetypeChange(t)},s=n.viewSpecificClassDetails?"chosen-class":"";n.viewSpecificClassDetails;return r.a.createElement("section",{id:"character-creation-class"},r.a.createElement("ul",null,function(){var t=[].concat(Object(S.a)(e.chosenClasses),[0]);return t.map((function(a,n){if(a>0){var l=e.classes.find((function(e){return e.id==a})),i=null;return n==t.length-2&&(i=r.a.createElement("button",{onClick:e.removeLatestClass}," - ")),r.a.createElement("li",{className:"selected-class-list-item"},r.a.createElement("span",null,"Level ",n+1," - ",l.name),i)}return r.a.createElement("li",{className:"empty-class-list-item"},"Level ",n+1)}))}()),!n.viewSpecificClassDetails&&function(){var t,a,n=null!==(t=e.classes)&&void 0!==t?t:[];(null===(a=e.campaignDetails)||void 0===a?void 0:a.klasses.length)>1&&(n=e.campaignDetails.klasses);var l=n.sort((function(e,t){return e.name.localeCompare(t.name)})).map((function(t){return r.a.createElement(rl,{klass:t,renderClassChange:e.renderClassChange,displayChosenClass:i})}));return r.a.createElement("section",{style:{display:"flex",flexWrap:"wrap"}},l)}(),r.a.createElement("section",{className:s},!!n.viewSpecificClassDetails&&function(){var t=e.classes.find((function(e){return e.id===n.viewSpecificClassDetails})),a=e.chosenArchetypes.map((function(e){return t.archetypes&&t.archetypes.find((function(t){return t.id===e}))||null}));return a=a.filter((function(e){return e})),r.a.createElement("div",{id:"chosen-class-card"},r.a.createElement(Dr,{klass:t,activeArchetype:n.viewSpecificArchetype,chosenArchetypes:a}))}(),!!n.viewSpecificClassDetails&&r.a.createElement("nav",{id:"chosen-class-tabs"},r.a.createElement(ol,{activeTab:n.activeTab,renderTabClick:function(e){var t=n.viewSpecificArchetype;"Archetypes"!==e&&(t={}),l(Object(j.a)(Object(j.a)({},n),{},{activeTab:e,viewSpecificArchetype:t}))},optionsTabName:n.optionsTabName})),!!n.viewSpecificClassDetails&&function(){var t,a=e.classes.find((function(e){return e.id===n.viewSpecificClassDetails})),l=e.chosenArchetypes.map((function(e){return a.archetypes&&a.archetypes.find((function(t){return t.id===e}))||null}));l=l.filter((function(e){return e}));var i,s=Tr(a),u=null===(t=a.klass_features.find((function(e){return e.id===s})))||void 0===t?void 0:t.options;switch(n.activeTab){case"Base Features":i=r.a.createElement(zr,{klass:a,options:{displayImage:!1,displayDescription:!1,displayTable:!1},chosenArchetypes:l});break;case"Archetypes":i=r.a.createElement(dl,{archetypes:a.archetypes,displayKlassArchetype:o,chosenArchetypeIds:e.chosenArchetypes,archetypeChange:c});break;case"".concat(n.optionsTabName):i=r.a.createElement(hl,{options:u});break;default:i=r.a.createElement(zr,{klass:a,options:{displayImage:!1,displayDescription:!1,displayTable:!1}})}return r.a.createElement("aside",{id:"character-creation-class-chosen-details"},i)}(),!!n.viewSpecificClassDetails&&r.a.createElement("button",{onClick:function(){return l(Object(j.a)(Object(j.a)({},n),{},{viewSpecificClassDetails:0,viewSpecificArchetype:{},activeTab:"Base Features",hasOptions:!1,optionsTabName:null}))}},"Go Back")))}))),fl=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={numbers:[]},e.generateRandomAbilityScores=function(){for(var t=[],a=0;a<6;a++)t.push(e.generateOneScore());e.setState({numbers:t})},e.generateOneScore=function(){for(var e=[],t=0;t<4;t++)e.push(Z.a.random(1,6));return e.sort((function(e,t){return t-e})),e.pop(),e.reduce((function(e,t){return e+t}))},e}return Object(c.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{id:"new-character-details-ability-scores",className:"standard-container-bubble"},r.a.createElement("p",null," You can roll your own numbers, or you can generate some sample scores with the button below! Place the numbers to whatever score you'd like, or map them directly to the ability scores in order!",6===this.state.numbers.length?r.a.createElement("p",{style:{textAlign:"center"}},this.state.numbers.join(", ")):r.a.createElement("p",{style:{textAlign:"center"}},"0, 0, 0, 0, 0, 0")),r.a.createElement("button",{onClick:this.generateRandomAbilityScores},"Generate 6 numbers!"),6===this.state.numbers.length&&r.a.createElement("button",{onClick:function(){return e.props.mapAbilityScores(e.state.numbers)}},"Map directly to Abilities!"),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",{id:"character-creation-display-ability-scores"},r.a.createElement("label",{className:"new-character-label"},r.a.createElement("strong",null,"Strength")),r.a.createElement("input",{type:"number",name:"strength",className:"new-character-text-input",value:this.props.strength,onChange:this.props.renderChange}),r.a.createElement("span",null," Modifier: ",qe(We(this.props.strength))),r.a.createElement("label",{className:"new-character-label"},r.a.createElement("strong",null,"Dexterity")),r.a.createElement("input",{type:"number",name:"dexterity",className:"new-character-text-input",value:this.props.dexterity,onChange:this.props.renderChange}),r.a.createElement("span",null," Modifier: ",qe(We(this.props.dexterity))),r.a.createElement("label",{className:"new-character-label"},r.a.createElement("strong",null,"Constitution")),r.a.createElement("input",{type:"number",name:"constitution",className:"new-character-text-input",value:this.props.constitution,onChange:this.props.renderChange}),r.a.createElement("span",null," Modifier: ",qe(We(this.props.constitution))),r.a.createElement("label",{className:"new-character-label"},r.a.createElement("strong",null,"Intelligence")),r.a.createElement("input",{type:"number",name:"intelligence",className:"new-character-text-input",value:this.props.intelligence,onChange:this.props.renderChange}),r.a.createElement("span",null," Modifier: ",qe(We(this.props.intelligence))),r.a.createElement("label",{className:"new-character-label"},r.a.createElement("strong",null,"Wisdom")),r.a.createElement("input",{type:"number",name:"wisdom",className:"new-character-text-input",value:this.props.wisdom,onChange:this.props.renderChange}),r.a.createElement("span",null," Modifier: ",qe(We(this.props.wisdom))),r.a.createElement("label",{className:"new-character-label"},r.a.createElement("strong",null,"Charisma")),r.a.createElement("input",{type:"number",name:"charisma",className:"new-character-text-input",value:this.props.charisma,onChange:this.props.renderChange}),r.a.createElement("span",null," Modifier: ",qe(We(this.props.charisma)))))}}]),a}(r.a.Component),gl=Object(m.f)(Object(h.b)((function(e){return{currentUser:e.currentUser,admin:e.admin}}))(fl)),bl=function(e){var t=function(t){return e.alignment===t?"#9b111e":"#fff"};return r.a.createElement("section",{id:"new-character-details"},r.a.createElement("section",{id:"new-character-details-name",className:"standard-container-bubble"},r.a.createElement("label",{htmlFor:"new-character-name",className:"new-character-label"},r.a.createElement("strong",null,"Character Name")),":",r.a.createElement("input",{className:"new-character-text-input",type:"text",id:"new-character-name",name:"name",value:e.name,onChange:e.renderChange,autocomplete:"off"})),r.a.createElement("section",{id:"new-character-details-campaign",className:"standard-container-bubble"},r.a.createElement("label",{htmlFor:"new-character-campaign",className:"new-character-label"},r.a.createElement("strong",null,"Campaign Code")),":",r.a.createElement("input",{className:"new-character-text-input",type:"number",id:"new-character-campaign",name:"campaign_id",value:e.campaign_id,onChange:e.renderChange,autocomplete:"off"}),e.campaignDetails&&r.a.createElement("span",null,e.campaignDetails.name)),r.a.createElement("section",{id:"new-characte-details-alignment",className:"standard-container-bubble"},r.a.createElement("section",{className:"square-container-9"},r.a.createElement("button",{className:"square-btn top-left-corner",style:{backgroundColor:t("Lawful Good")},name:"alignment",value:"Lawful Good",onClick:e.renderChange},"LG"),r.a.createElement("button",{className:"square-btn",style:{backgroundColor:t("Neutral Good")},name:"alignment",value:"Neutral Good",onClick:e.renderChange},"NG"),r.a.createElement("button",{className:"square-btn top-right-corner",style:{backgroundColor:t("Chaotic Good")},name:"alignment",value:"Chaotic Good",onClick:e.renderChange},"CG"),r.a.createElement("button",{className:"square-btn",style:{backgroundColor:t("Lawful Neutral")},name:"alignment",value:"Lawful Neutral",onClick:e.renderChange},"LN"),r.a.createElement("button",{className:"square-btn",style:{backgroundColor:t("Neutral")},name:"alignment",value:"Neutral",onClick:e.renderChange},"N"),r.a.createElement("button",{className:"square-btn",style:{backgroundColor:t("Chaotic Neutral")},name:"alignment",value:"Chaotic Neutral",onClick:e.renderChange},"CN"),r.a.createElement("button",{className:"square-btn bottom-left-corner",style:{backgroundColor:t("Lawful Evil")},name:"alignment",value:"Lawful Evil",onClick:e.renderChange},"LE"),r.a.createElement("button",{className:"square-btn",style:{backgroundColor:t("Neutral Evil")},name:"alignment",value:"Neutral Evil",onClick:e.renderChange},"NE"),r.a.createElement("button",{className:"square-btn bottom-right-corner",style:{backgroundColor:t("Chaotic Evil")},name:"alignment",value:"Chaotic Evil",onClick:e.renderChange},"CE"),r.a.createElement("button",{style:{gridArea:"clear",padding:"0.5em",height:"2.5em",marginTop:"0.5em"},value:"",name:"alignment",onClick:e.renderChange},"Clear Alignment"))),r.a.createElement("section",{id:"new-character-details-description",className:"standard-container-bubble"},r.a.createElement("span",{style:{gridArea:"description"}},r.a.createElement("label",{htmlFor:"new-character-description",className:"new-character-label"},r.a.createElement("strong",null,"Description")),":",r.a.createElement("textarea",{className:"new-character-text-input",type:"textfield",rows:"6",id:"new-character-description",name:"description",value:e.description,onChange:e.renderChange,placeholder:"Appearance, outfit, aesthetic, attitude, etc.",autocomplete:"off"})),r.a.createElement("span",{style:{gridArea:"background"}},r.a.createElement("label",{htmlFor:"new-character-background",className:"new-character-label"},r.a.createElement("strong",null,"Background")),":",r.a.createElement("textarea",{className:"new-character-text-input",type:"textfield",rows:"6",id:"new-character-background",name:"background",value:e.background,onChange:e.renderChange,placeholder:"Family, motivation, goals, experiences, education, career, training, upbringing, etc.",autocomplete:"off"})),r.a.createElement("span",{style:{gridArea:"extras"}},r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"new-character-age",className:"new-character-label"},r.a.createElement("strong",null,"Age")),":",r.a.createElement("input",{className:"new-character-text-input",type:"number",id:"new-character-age",name:"age",value:e.age,onChange:e.renderChange,placeholder:"25",autocomplete:"off"})),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"new-character-gender",className:"new-character-label"},r.a.createElement("strong",null,"Gender")),":",r.a.createElement("input",{className:"new-character-text-input",type:"text",id:"new-character-gender",name:"gender",value:e.gender,onChange:e.renderChange,placeholder:"Non-Binary",autocomplete:"off"})),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"new-character-hair",className:"new-character-label"},r.a.createElement("strong",null,"Hair")),":",r.a.createElement("input",{className:"new-character-text-input",type:"text",id:"new-character-hair",name:"hair",value:e.hair,onChange:e.renderChange,placeholder:"too much",autocomplete:"off"})),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"new-character-eyes",className:"new-character-label"},r.a.createElement("strong",null,"Eye Color")),":",r.a.createElement("input",{className:"new-character-text-input",type:"text",id:"new-character-eyes",name:"eyes",value:e.eyes,onChange:e.renderChange,placeholder:"piercing",autocomplete:"off"})),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"new-character-height",className:"new-character-label"},r.a.createElement("strong",null,"Height")),":",r.a.createElement("input",{className:"new-character-text-input",type:"text",id:"new-character-height",name:"height",value:e.height,onChange:e.renderChange,placeholder:"just so",autocomplete:"off"})),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"new-character-weight",className:"new-character-label"},r.a.createElement("strong",null,"Weight")),":",r.a.createElement("input",{className:"new-character-text-input",type:"text",id:"new-character-weight",name:"weight",value:e.weight,onChange:e.renderChange,placeholder:"just right",autocomplete:"off"})),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"new-character-homeland",className:"new-character-label"},r.a.createElement("strong",null,"Homeland")),":",r.a.createElement("input",{className:"new-character-text-input",type:"text",id:"new-character-homeland",name:"homeland",value:e.homeland,onChange:e.renderChange,placeholder:"Arcadia",autocomplete:"off"})),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"new-character-deity",className:"new-character-label"},r.a.createElement("strong",null,"Deity")),":",r.a.createElement("input",{className:"new-character-text-input",type:"text",id:"new-character-deity",name:"deity",value:e.deity,onChange:e.renderChange,placeholder:"Pharasma",autocomplete:"off"})))))},vl=function(e){var t=F.getState().character_info.proficiencies.armor,a=!1;return t.groups.forEach((function(t){e.armor.proficiency===t.proficiency_group&&(a=!0)})),t.individualIds.forEach((function(t){t.armor_id===e.armor.id&&(a=!!t.additive)})),a},yl=function(){return F.getState().character.character_armors.find((function(e){return e.equipped}))||!1},El=function(){var e,t=yl(),a=(null===(e=t.armor)||void 0===e?void 0:e.armor_check_penalty)||0;return a<0&&t.masterwork&&(a+=1),a},kl=function(){var e=yl();return!e||vl(e)?0:e.armor.armor_check_penalty},wl=function(e,t,a){var n=[],r=[];return t.bonuses.forEach((function(l){if("skill"===l.type&&l.skill_id===e.id);else if("skill"===l.type&&!l.skill_id&&"Knowledge"===l.specific_statistic&&e.knowledge){var i;if(l.bonus_multiplier_based_on_feature_level){var o=a[l.source.source].find((function(e){return e.id===l.source.sourceId})).klass_id;i=t.classes.find((function(e){return e.id===o})).level}else t.classes.forEach((function(e){return i+=e.level}));var c=l.bonus*i;l.round_down&&(c=Math.floor(c)),c<l.minimum_bonus&&(c=l.minimum_bonus),"permanent"===l.duration?n.push({bonus:c,sourceName:jl(l),source:l.source}):r.push({bonus:c,sourceName:jl(l),source:l.source})}})),{permanent:n,temporary:r}},_l=function(e){var t=function(e){var t=0,a=0,n=F.getState(),r=n.character,l=n.character_info,i=Ol(e,r);t+=i;var o=Sl(e,r);t+=i>0&&o?3:0,t+=ea(e.ability_score.toLowerCase());var c=wl(e,l,r);t+=c.permanent.map((function(e){return e.bonus})).reduce((function(e,t){return t+e}),0),a+=c.temporary.map((function(e){return e.bonus})).reduce((function(e,t){return t+e}),0),"Stealth"===e.name&&(t+=function(e){switch(e){case"Fine":return 16;case"Diminutive":return 12;case"Tiny":return 8;case"Small":return 4;case"Large":return-4;case"Huge":return-8;case"Gargantuan":return-12;case"Colossal":return-16;default:return 0}}(r.race.size));var s=El();return"Strength"!==e.ability_score&&"Dexterity"!==e.ability_score||(t+=s),"Swim"===e.name&&"Fire-Roasted Tomatoes"===r.name&&(t+=2),"Profession (chef)"===e.name&&"Fire-Roasted Tomatoes"===r.name&&(t+=3),"Acrobatics"===e.name&&"Iyugi"===r.name&&(t+=2),"Perception"===e.name&&"Natesse"===r.name&&(t+=2),"Sense Motive"===e.name&&"Natesse"===r.name&&(t+=-4),"Climb"===e.name&&"Dz'eyn"===r.name&&(t+=8),"Perception"===e.name&&"Dink Weatherbyrst"===r.name&&(t+=2),"Perception"===e.name&&"Natesse"===r.name&&(t+=2),"Sense Motive"===e.name&&"Natesse"===r.name&&(t+=2),[t,a]}(e);return t[0]+t[1]},Cl=function(e){return ee(_l(e))},Sl=function(e,t){var a=!1;return t.uniq_klasses.forEach((function(n){n.class_skillset_skills.find((function(a){return a.skill_id===e.id&&a.skillset_id===t.skillset.id}))&&(a=!0),"Fire-Roasted Tomatoes"===t.name&&"Handle Animal"===e.name&&(a=!0)})),a},Ol=function(e,t){var a;return(null===(a=t.character_skillset_skills.find((function(t){return t.skill_id===e.id&&(!t.detail||t.detail===e.detail)})))||void 0===a?void 0:a.ranks)||0},jl=function(e){var t=De(e.source);return Me(t,e.source.featureId).name||t.name},Al=function(e){var t=[],a=F.getState(),n=a.character_info,r=a.character,l=wl(e,n,r);for(var i in l)l[i].forEach((function(e){t.push("".concat(ee(e.bonus)," from ").concat(e.sourceName))}));var o=El();return("Strength"===e.ability_score||"Dexterity"===e.ability_score)&&o<0&&t.push("".concat(ee(o)," from Armor Check Penalty")),t.length?t.join(", "):null},Tl=function(e){var t=null,a=null,n=e.name,l=El();("Strength"===e.ability_score||"Dexterity"===e.ability_score)&&l<0&&(t=r.a.createElement("sup",null,"acp"));var i=Al(e);return(t&&i&&i.includes(",")||!t&&i)&&(a=r.a.createElement("sup",null,"*")),r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{className:"underline-hover",onClick:function(){return P("skill",e.id,{name:n})}},n),t,a)},Il=function(e,t){var a=[];return e.forEach((function(e){if(e.detail){var n=t.find((function(t){return t.id===e.skill_id}));a.push(Object(j.a)(Object(j.a)({},n),{},{name:"".concat(n.name," (").concat(e.detail,")"),detail:e.detail}))}})),a},Nl=function(e){return e.sort((function(e,t){if(e.id!==t.id)return e.name.localeCompare(t.name);if(e.detail&&!t.detail)return-1;if(!e.detail&&t.detail)return 1;var a=e.name.split("(")[1].slice(0,-1),n=t.name.split("(")[1].slice(0,-1);return a.localeCompare(n)}))},Dl=function(e){var t=r.a.useState([]),a=Object(U.a)(t,2),n=a[0],l=a[1],i=r.a.useState({}),o=Object(U.a)(i,2),c=o[0],s=o[1],u=r.a.useState([]),d=Object(U.a)(u,2),m=d[0],h=d[1],f=r.a.useState([]),g=Object(U.a)(f,2),b=g[0],v=g[1];r.a.useEffect((function(){fetch("".concat(p,"/api/v1/skillsets")).then((function(e){return e.json()})).then((function(e){l(e)})),e.campaignDetails&&e.activeSkillset!==e.campaignDetails.skillset.id&&e.renderChange({target:{value:e.campaignDetails.skillset.id,name:"activeSkillset"}})}),[]);var y=function(t,a){var n,r,l=e[t.ability_score.toLowerCase()],i=We(l),o=null!==(n=null===(r=e.skillRanks.find((function(e){var a;return(null===(a=e.skill)||void 0===a?void 0:a.id)===t.id})))||void 0===r?void 0:r.ranks)&&void 0!==n?n:0,c=Sl(t,a)&&o>0?3:0;return qe(i+o+c)},E=function(t){var a,n,l=null!==(a=null===(n=e.skillRanks.find((function(e){var a;return(null===(a=e.skill)||void 0===a?void 0:a.id)===t.id})))||void 0===n?void 0:n.ranks)&&void 0!==a?a:0,i=e.chosenClasses.length,o=!0;k()<=0&&(o=!1);if(t.customizable&&!t.detail){if(m.includes(t.id)){var c=b.findIndex((function(e){return e.id===t.id}));return r.a.createElement(r.a.Fragment,null,r.a.createElement("input",{type:"text",value:b[c].text,onChange:function(e){var t=Object(S.a)(b);t=t.map((function(t,a){return a!==c?t:Object(j.a)(Object(j.a)({},t),{},{text:e.target.value.toLowerCase()})})),v(t)}}),r.a.createElement("button",{onClick:function(){var a=Object(S.a)(e.skillRanks),n=Object(S.a)(b),r=n.findIndex((function(e){return e.id===t.id})),l=Object(S.a)(m),i=n.indexOf(t.id);a.push({skill:t,ranks:0,detail:n[r].text}),e.renderChange({target:{name:"skillRanks",value:a}}),n.splice(r,1),v(n),l.splice(i,1),h(l)}},"OK"))}return r.a.createElement("button",{onClick:function(){h([].concat(Object(S.a)(m),[t.id])),v([].concat(Object(S.a)(b),[{id:t.id,text:""}]))}},"Customize")}return r.a.createElement(r.a.Fragment,null,l<i&&o?r.a.createElement("button",{onClick:function(){var a=Object(S.a)(e.skillRanks),n=a.findIndex((function(e){var a,n;return t.detail?(null===(a=e.skill)||void 0===a?void 0:a.id)===t.id&&e.detail===t.detail:(null===(n=e.skill)||void 0===n?void 0:n.id)===t.id}));n>-1?a[n]=Object(j.a)(Object(j.a)({},a[n]),{},{ranks:a[n].ranks+1}):a.push({skill:t,ranks:1}),e.renderChange({target:{name:"skillRanks",value:a}})}},"+"):r.a.createElement("button",{className:"inactive-button"},"+"),l>0?r.a.createElement("button",{onClick:function(){var a=Object(S.a)(e.skillRanks),n=a.findIndex((function(e){var a,n;return t.detail?(null===(a=e.skill)||void 0===a?void 0:a.id)===t.id&&e.detail===t.detail:(null===(n=e.skill)||void 0===n?void 0:n.id)===t.id}));a[n].ranks>1?a[n]=Object(j.a)(Object(j.a)({},a[n]),{},{ranks:a[n].ranks-1}):a.splice(n,1),e.renderChange({target:{name:"skillRanks",value:a}})}},"-"):r.a.createElement("button",{className:"inactive-button"},"-"))},k=function(){var t=0;return e.chosenClasses.forEach((function(a){var n=e.classes.find((function(e){return e.id===a}));t+=n.skill_ranks,t+=We(e.intelligence)})),e.skillRanks.forEach((function(e){t-=e.ranks})),t};return r.a.createElement("div",null,r.a.createElement("span",null,"Skillset"),n&&function(){var t,a;return(null===(t=e.campaignDetails)||void 0===t||null===(a=t.skillset)||void 0===a?void 0:a.id)?r.a.createElement("div",null,"Active Skillset: ",r.a.createElement("strong",null,e.campaignDetails.skillset.name)):r.a.createElement("div",null,r.a.createElement("label",null,"Active Skillset:",r.a.createElement("select",{name:"activeSkillset",value:e.activeSkillset,onChange:e.renderChange},n.map((function(e){return r.a.createElement("option",{value:e.id},e.name)})))))}(),function(){if(!e.chosenClasses.length)return r.a.createElement("p",null,"Make sure your Character has at least one class chosen and rolls your stats if you haven't yet!");var t=k();return r.a.createElement("p",null,"Total Skill Ranks Remaining: ",r.a.createElement("strong",null,t))}(),r.a.createElement("section",{id:"character-creation-skills"},r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Class"),r.a.createElement("th",null,"Ability"),r.a.createElement("th",null,"Skill"),r.a.createElement("th",null,"Bonus"),r.a.createElement("th",null,"Ranks"),r.a.createElement("th",null))),r.a.createElement("tbody",null,n&&function(){var t,a,l,i=null!==(t=n.find((function(t){return t.id===parseInt(e.activeSkillset)})))&&void 0!==t?t:{},o=null!==(a=null===i||void 0===i?void 0:i.skills)&&void 0!==a?a:[];if(e.skillRanks){e.skillRanks.forEach((function(e){e.detail&&(o.find((function(t){return t.id===e.skill.id&&e.detail===t.detail}))||o.push(Object(j.a)(Object(j.a)({},e.skill),{},{detail:e.detail})))}))}var c=null!==(l=o.sort((function(e,t){return e.name.localeCompare(t.name)})))&&void 0!==l?l:[],u={skillset:{id:e.activeSkillset},uniq_klasses:e.classes.filter((function(t){return e.chosenClasses.includes(t.id)}))};return c.map((function(t){var a,n;return r.a.createElement("tr",null,r.a.createElement("td",null,Sl(t,u)?"X":""),r.a.createElement("td",null,r.a.createElement("strong",null,t.ability_score.slice(0,3))),r.a.createElement("td",{className:"underline-hover",style:{color:"black"},onClick:function(){return s(t)}},function(e){return e.detail?"".concat(e.name," (").concat(e.detail,")"):e.name}(t)),r.a.createElement("td",null,y(t,u)),r.a.createElement("td",null,r.a.createElement("strong",null,null!==(a=null===(n=e.skillRanks.find((function(e){var a;return(null===(a=e.skill)||void 0===a?void 0:a.id)===t.id})))||void 0===n?void 0:n.ranks)&&void 0!==a?a:0)),r.a.createElement("td",null,E(t)))}))}())),r.a.createElement("ul",null,r.a.createElement("li",null,"Add Ranks to increase your proficiency in certain skills. Click on a skill to see more details!"),r.a.createElement("li",null,"The ",r.a.createElement("strong",null,"Bonus")," calculation does not include Racial Ability Score Adjustments. Jack didn't have time for that srry."),r.a.createElement("li",null,"For the skills with a ",r.a.createElement("strong",null,"Customize")," button, you choose a specific field that you specialize in. See the skill details for Craft, Perform, and Profession for more details. For Knowledge, you automatically are proficient in Knowledge about your given Guild. If you have reason to, you can be proficient in another Guild. Run it by Jack!")),!!c.id&&r.a.createElement("div",{style:{textAlign:"left",height:"80vh",overflowY:"scroll",padding:"0.4em"}},r.a.createElement(tn,{skill:c}))))},Ml=Object(m.f)((function(e){var t=e.characterInfo.name,a=function(){fetch("".concat(p,"/api/v1/characters"),{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({character:e.characterInfo,user_id:e.user_id})}).then((function(e){return e.json()})).then((function(e){console.log(e),n(e.character.id)}))},n=function(t){fetch("".concat(p,"/api/v1/character_klasses"),{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({character_id:t,classes:e.characterInfo.classes})}).then((function(e){return e.json()})).then((function(a){console.log(a),e.history.push("/characters/"+t)}))};return r.a.createElement(r.a.Fragment,null,void 0,r.a.createElement("button",{onClick:a},"Create ",t))})),xl=function(e){var t=function(t){var a=e.activeTab===t?"character-creation-tab active-tab":"character-creation-tab";return r.a.createElement("li",{className:a,onClick:function(){return e.renderTabClick(t)}},t)};return r.a.createElement("nav",{id:"character-creation-tabs"},r.a.createElement("ul",null,t("Home"),t("Ancestry"),t("Class"),t("Ability Scores"),t("Skills"),t("Details"),t("Create Character")))},Fl=Object(h.b)((function(e){return{currentUser:e.currentUser,admin:e.admin,classes:e.classes}}))((function(e){var t=r.a.useState({activeField:"",classes:[],archetypes:[],race:0,strength:10,dexterity:10,constitution:10,intelligence:10,wisdom:10,charisma:10,name:"",description:"",background:"",homeland:"",age:0,gender:"",hair:"",eyes:"",height:"",weight:"",alignment:"",anyBonus:"",doesRacehaveAnyBonus:!1,activeSkillset:2,skillRanks:[],activeTab:"Home",campaign_id:null,campaignDetails:null}),a=Object(U.a)(t,2),n=a[0],l=a[1];r.a.useEffect((function(){n.campaign_id&&re("campaigns/".concat(n.campaign_id)).then((function(e){e.error?404===e.status&&"Not Found"===e.error&&l(Object(j.a)(Object(j.a)({},n),{},{campaignDetails:{name:"Campaign Does Not Exist"}})):l(Object(j.a)(Object(j.a)({},n),{},{campaignDetails:e}))})).catch((function(e){console.log("Error with fetching campaign",e.status,e.exception)}))}),[n.campaign_id]);var i=function(e){console.log(e.target.name),console.log(e.target.value),l(Object(j.a)(Object(j.a)({},n),{},Object(O.a)({},e.target.name,e.target.value)))},o=function(e){var t=n.race===e?0:e;l(Object(j.a)(Object(j.a)({},n),{},{race:t}))},c=function(e){l(Object(j.a)(Object(j.a)({},n),{},{classes:[].concat(Object(S.a)(n.classes),[e])}))},s=function(e){var t=Object(S.a)(n.archetypes);if(t.includes(e)){var a=t.indexOf(e);t.splice(a,1)}else t.push(e);l(Object(j.a)(Object(j.a)({},n),{},{archetypes:t}))},u=function(){var e=Object(S.a)(n.classes);e.splice(e.length-1,1),l(Object(j.a)(Object(j.a)({},n),{},{classes:e}))},d=function(e,t){var a=Object(S.a)(n.classes);a[t]=e.target.value,l(Object(j.a)(Object(j.a)({},n),{},{classes:a}))},m=function(e,t,a){if(e.preventDefault(),"plus"===t)l(Object(j.a)(Object(j.a)({},n),{},{classes:[].concat(Object(S.a)(n.classes),[n.classes[a]])}));else if("minus"===t){var r=Object(S.a)(n.classes);r.pop(),l(Object(j.a)(Object(j.a)({},n),{},{classes:r}))}},h=function(){l(Object(j.a)(Object(j.a)({},n),{},{doesRacehaveAnyBonus:!0}))},p=function(e){l(Object(j.a)(Object(j.a)({},n),{},{strength:e[0],dexterity:e[1],constitution:e[2],intelligence:e[3],wisdom:e[4],charisma:e[5]}))};return console.log("character creation state",n),r.a.createElement("main",{id:"character-creation-page"},r.a.createElement(xl,{renderTabClick:function(e){l(Object(j.a)(Object(j.a)({},n),{},{activeTab:e}))},activeTab:n.activeTab}),r.a.createElement("section",{id:"creation-form"},function(){switch(n.activeTab){case"Home":return r.a.createElement(al,{renderChange:i,name:n.name,campaign_id:n.campaign_id,campaignDetails:n.campaignDetails});case"Details":return r.a.createElement(bl,{renderChange:i,name:n.name,description:n.description,alignment:n.alignment,background:n.background,age:n.age,gender:n.gender,hair:n.hair,eyes:n.eyes,height:n.height,weight:n.weight,homeland:n.homeland,deity:n.deity,strength:n.strength,dexterity:n.dexterity,constitution:n.constitution,intelligence:n.intelligence,wisdom:n.wisdom,charisma:n.charisma,mapAbilityScores:p,campaign_id:n.campaign_id,campaignDetails:n.campaignDetails});case"Ancestry":return r.a.createElement(nl,{renderAncestryChange:o,chosenRaceId:n.race,anyBonus:n.anyBonus,doesRacehaveAnyBonus:n.doesRacehaveAnyBonus,renderdoesHaveAnyBonus:h,campaignDetails:n.campaignDetails});case"Class":return r.a.createElement(pl,{renderChange:i,renderDynamicChanges:d,addClassField:m,chosenClasses:n.classes,renderClassChange:c,campaignDetails:n.campaignDetails,removeLatestClass:u,chosenArchetypes:n.archetypes,archetypeChange:s});case"Skills":return r.a.createElement(Dl,{activeSkillset:n.activeSkillset,renderChange:i,classes:e.classes,chosenClasses:n.classes,campaignDetails:n.campaignDetails,skillRanks:n.skillRanks,strength:n.strength,dexterity:n.dexterity,constitution:n.constitution,intelligence:n.intelligence,wisdom:n.wisdom,charisma:n.charisma});case"Ability Scores":return r.a.createElement(gl,{renderChange:i,strength:n.strength,dexterity:n.dexterity,constitution:n.constitution,intelligence:n.intelligence,wisdom:n.wisdom,charisma:n.charisma,mapAbilityScores:p});case"Create Character":return r.a.createElement(Ml,{characterInfo:n,user_id:e.currentUser.id});default:return r.a.createElement(r.a.Fragment,null,"Ya")}}()))})),Rl=function(e){return function(t){e.character.character_magic_items.forEach((function(e){e.equipped&&e.magic_item.features.forEach((function(a){a.skill_bonuses.length&&a.skill_bonuses.forEach((function(a){var n=a.skill_id,r=a.bonus,l=a.bonus_type,i=a.duration;console.log("Skill Bonus"),t({type:"BONUS",bonus:{type:"skill",skill_id:n,bonus:r,bonus_type:l,duration:i,source:e.magic_item.name}})})),a.stat_bonuses.length&&a.stat_bonuses.forEach((function(a){var n=a.statistic,r=a.bonus,l=a.bonus_type,i=a.duration,o=a.feature_stat_bonus_conditions.map((function(e){return{condition:e.condition}}));t({type:"BONUS",bonus:{type:"stat",statistic:n,bonus:r,bonus_type:l,duration:i,source:e.magic_item.name,conditions:o}})})),a.skill_notes.length&&a.skill_notes.forEach((function(a){var n=a.skill_id,r=a.note;t({type:"BONUS",bonus:{type:"note",skill_id:n,note:r,source:e.magic_item.name}})})),a.languages.length&&a.languages.forEach((function(a){var n=a.language,r=a.note;t({type:"EFFECT",effect:{type:"language",language:n,note:r,source:e.magic_item.name}})}))}))})),e.character.uniq_klasses.forEach((function(e){e.klass_features.forEach((function(e){e.features.forEach((function(a){a.skill_bonuses.length&&a.skill_bonuses.forEach((function(a){var n=a.skill_id,r=a.bonus,l=a.bonus_type,i=a.duration;t({type:"BONUS",bonus:{type:"skill",skill_id:n,bonus:r,bonus_type:l,duration:i,source:e.name}})})),a.skill_notes.length&&a.skill_notes.forEach((function(a){var n=a.skill_id,r=a.note;t({type:"BONUS",bonus:{type:"note",skill_id:n,note:r,source:e.name}})}))}))}))})),e.character.applicable_klass_features.forEach((function(e){return Pl(e,t)}))}},Pl=function(e,t){e.features.length&&e.features.forEach((function(e){e.weapon_proficiencies.length&&e.weapon_proficiencies.forEach((function(e){return Ll(e,t)}))}))},Ll=function(e,t){t({type:"PROFICIENCY",detail:{type:"weapon",additive:e.additive,proficiency_group:e.proficiency_group,weapon_id:e.weapon_id}})};var Bl=function(e,t){var a=Z.a.lowerCase(e),n=t[a];return t.race.race_ability_score_modifiers.forEach((function(t){e===t.ability_score&&(n+=t.bonus)})),t.any_bonus===e&&(n+=2),{ability:a,score:n}},Hl=function(e,t){var a=0;return e.character_weapons.forEach((function(e){a+=e.weapon.weight})),e.character_armors.forEach((function(e){a+=e.armor.weight})),a},Wl=function(e,t){var a=ql(t);return e<=a[0]?"Light":e<=a[1]?"Medium":e<=a[2]?"Heavy":"Overload"},ql=function(e){switch(e){case 1:return[3,6,10];case 2:return[6,13,20];case 3:return[10,20,30];case 4:return[13,26,40];case 5:return[16,33,50];case 6:return[20,40,60];case 7:return[23,46,70];case 8:return[26,53,80];case 9:return[30,60,90];case 10:return[33,66,100];case 11:return[38,76,115];case 12:return[43,86,130];case 13:return[50,100,150];case 14:return[58,116,175];case 15:return[66,133,200];case 16:return[76,153,230];case 17:return[86,173,260];case 18:return[100,200,300];case 19:return[116,233,350];case 20:return[133,266,400];case 21:return[153,306,460];case 22:return[173,346,520];case 23:return[200,400,600];case 24:return[233,466,700];case 25:return[266,533,800];case 26:return[306,613,920];case 27:return[346,693,1040];case 28:return[400,800,1200];case 29:return[466,933,1400];case 30:return[532,1064,1600];default:return[0,0,0]}},zl=function(e){var t;!function(e){ce({type:"CHARACTER",character:e})}(e),se(Bl("Strength",e)),se(Bl("Dexterity",e)),se(Bl("Constitution",e)),se(Bl("Intelligence",e)),se(Bl("Wisdom",e)),se(Bl("Charisma",e)),t=function(e){var t=[],a=[];return e.character_klasses.forEach((function(n){var r=n.klass_id;if(!a.includes(r)){var l=e.character_klasses.filter((function(e){return e.klass_id===r})).length;e.uniq_klasses.find((function(e){return e.id===r})),a.push(r);var i={id:r,level:l};t.push(i)}})),t}(e),ce({type:"CHARACTER_CLASSES",classes:t}),e.character_klasses.forEach((function(e){var t;e.ability_score_improvement&&(t=e.ability_score_improvement,ce({type:"ABILITY SCORE IMPROVEMENT",ability_score:t}))})),Je(e)};var Ul=Object(h.b)((function(e){return{character:e.character,character_info:e.character_info,settings:e.settings}}))((function(e){var t=Z.a.upperCase(e.name.substring(0,3)),a=e.character.name,n=(e.ability_score,e.character_info.hardcode);["Bull - Major","Condor - Major","Frog - Major","Squid - Major","Chameleon - Major"].includes(n.major),n.enlarge,n.reduce,!!n.activeMutagen&&n.mutagen,"Maddox"===a&&n.age;return"Strength"===e.name||"Dexterity"===e.name||"Constitution"===e.name||("Intelligence"===e.name||"Wisdom"===e.name||e.name),r.a.createElement(r.a.Fragment,null,"true"===localStorage.computer?r.a.createElement("span",{className:"centered egg shadow shrink",style:{boxShadow:"5px 4px 2px #".concat(e.settings.shadeColor),opacity:"0.95",backgroundColor:"#".concat(e.settings.bubbleColor),borderColor:"#".concat(e.settings.borderColor),cursor:"default",display:"flex",flexDirection:"column",justifyContent:"center"},onClick:function(){return function(t){var a={rollName:Z.a.capitalize(e.name),modifier:parseInt(t),die:20,count:1};W(a)}(ta(e.name))}},r.a.createElement("div",{className:"enhanced"},ta(e.name)),r.a.createElement("div",{className:"muted"},r.a.createElement("strong",null,t)),r.a.createElement("div",null,$t(e.name,!0))):r.a.createElement("span",{className:"centered shrink mobile-tab-ability"},r.a.createElement("div",null,r.a.createElement("strong",null,t)),r.a.createElement("div",{className:"enhanced white-outline"},ta(e.name)),r.a.createElement("span",{className:"muted"},$t(e.name,!0))))})),Gl=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).renderAbilityScoreModifiers=function(){if(e.props.race.race_ability_score_modifiers){var t=e.props.race.race_ability_score_modifiers,a=[];return t.forEach((function(e){var t=e.bonus<0?e.bonus:"+".concat(e.bonus);a.push("".concat(t," ").concat(e.ability_score))})),a.join(", ")}},e.renderEditAbilityToggle=function(){var t="ability";return"true"===localStorage.computer&&e.props.character.user_id===e.props.currentUser.id?t+=" container-7":t+=" container-6",t},e}return Object(c.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:this.renderEditAbilityToggle()},r.a.createElement(Ul,{name:"strength",ability_score:this.props.character_info.ability_scores.strength}),r.a.createElement(Ul,{name:"dexterity",ability_score:this.props.character_info.ability_scores.dexterity}),r.a.createElement(Ul,{name:"constitution",ability_score:this.props.character_info.ability_scores.constitution}),r.a.createElement(Ul,{name:"intelligence",ability_score:this.props.character_info.ability_scores.intelligence}),r.a.createElement(Ul,{name:"wisdom",ability_score:this.props.character_info.ability_scores.wisdom}),r.a.createElement(Ul,{name:"charisma",ability_score:this.props.character_info.ability_scores.charisma}),"true"===localStorage.computer&&this.props.character.user_id===this.props.currentUser.id&&r.a.createElement("span",{className:"edit",onClick:function(){return e.props.editModal("ability")}},r.a.createElement(w.a,{icon:_.m})))}}]),a}(r.a.Component),Yl=Object(m.f)(Object(h.b)((function(e){return{currentUser:e.currentUser,admin:e.admin,character:e.character,character_info:e.character_info}}))(Gl)),Kl=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).renderClasses=function(){return e.props.character_info&&e.props.classes.length?e.props.character_info.classes.map((function(t){var a=e.props.character.uniq_klasses.find((function(e){return e.id===t.id})).name;return"".concat(a," ").concat(t.level)})).join(", "):null},e.name=function(){var t=e.props.character.name,a=e.props.character_info.hardcode.major;if(e.props.character_info.hardcode.autumn&&(t="The Autumn Equinox"),a)switch(a){case"Bull - Major":t+=", but a Bull";break;case"Frog - Major":t+=", but a big Frog";break;case"Condor - Major":t+=", but a Condor";break;case"Squid - Major":t+=", but a Squid";break;case"Chameleon - Major":t+=", but a Chameleon";break;case"Tiger":t+=", but a Tiger"}if(e.props.character_info.hardcode.alterSelf&&(t="Not Harry Styles"),"Maddox"===t){var n=e.props.character_info.hardcode.age;t=n+" "+t,"Middle"===n&&(t="Middle Age Maddox")}return t},e}return Object(c.a)(a,[{key:"render",value:function(){var e=this;return console.log("REDUX",this.props),r.a.createElement("div",null,r.a.createElement("div",{className:"first-row",style:{padding:".25em"},id:"title"},this.name()),r.a.createElement("div",{className:"second-row",style:{padding:".5em"}},this.props.character.race.name," ",this.renderClasses()),this.props.character.user_id===this.props.currentUser.id&&"true"===localStorage.computer&&r.a.createElement("span",{className:"edit",onClick:function(){return e.props.editModal("character")}},r.a.createElement(w.a,{icon:_.m})))}}]),a}(r.a.Component),Vl=Object(m.f)(Object(h.b)((function(e){return{currentUser:e.currentUser,admin:e.admin,character:e.character,character_info:e.character_info,classes:e.classes}}))(Kl)),Jl=function(e,t){var a=[],n=0,r=0,l=F.getState().character_info,i=F.getState().character.uniq_klasses,o=Ca(t),c=Ca(t,!0),s=l.classes.map((function(t){var a=i.find((function(e){return e.id===t.id}));return Ql(t.level,a[e])})),u=Z.a.sum(s),d=l.bonuses.filter((function(e){return"Saving Throw"===e.statistic||"Fortitude"===e.statistic||"Reflex"===e.statistic||"Will"===e.statistic}));return c!==o?(r+=o-c,n+=c):n+=o,n+=u,d.forEach((function(t){"Saving Throw"!==t.statistic&&t.statistic!==Z.a.capitalize(e)||("temporary"===t.duration?r+=t.bonus:"permanent"===t.duration&&(n+=t.bonus))})),a.push(n),a.push(r),a},Ql=function(e,t){var a=e*t;return.5===t&&(a+=2),Z.a.floor(a)},Zl=Object(h.b)((function(e){return{currentUser:e.currentUser,admin:e.admin,character:e.character,character_info:e.character_info,classes:e.classes,settings:e.settings}}))((function(e){var t=function(t){return[{save:"fortitude",ability:"constitution"},{save:"reflex",ability:"dexterity"},{save:"will",ability:"wisdom"}].map((function(a,n){var l=Z.a.capitalize(a.save);t||(l=l.substring(0,3));var i=function(e,t){var a=Jl(e,t);return ee(a[0]+a[1])}(a.save,a.ability);return r.a.createElement("span",{key:3*n+1,className:"centered",style:{flexGrow:"1",margin:"0 0.7em"},onClick:function(){return function(e,t){var a={rollName:e,modifier:parseInt(t),die:20,count:1};W(a)}(l,i)}},r.a.createElement("div",{className:"enhanced",style:{border:"1px solid #".concat(e.settings.borderColor),borderRadius:"0.3em"}},i),r.a.createElement("div",{className:"muted dynamic-size-small"},r.a.createElement("strong",null,l)))}))};return r.a.createElement(r.a.Fragment,null,function(){var a="shadow",n=r.a.createElement("div",{id:"saving-throw-title"},"Saving Throws"),l="true"===localStorage.computer;return l||(a+=" mobile-centering"),r.a.createElement("div",{id:"saves",className:a,style:{boxShadow:"5px 4px 2px #".concat(e.settings.shadeColor),opacity:"0.95",backgroundColor:"#".concat(e.settings.bubbleColor),borderColor:"#".concat(e.settings.borderColor),cursor:"default"}},l&&n,r.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},t(l)))}())})),Xl=Object(h.b)((function(e){return{currentUser:e.currentUser,admin:e.admin,character:e.character,character_info:e.character_info,settings:e.settings}}))((function(e){var t=r.a.useState(!1),a=Object(U.a)(t,2),n=a[0],l=a[1],i=function(){var t="none";return e.character.lethal_damage&&e.character.temp_hp?t="temp-damage":e.character.lethal_damage?t="damaged":e.character.temp_hp&&(t="temporary"),t},o=function(){e.dispatch({type:"MODAL",detail:"hitPoints"})};return r.a.createElement("div",{className:"hp shadow",style:{boxShadow:"5px 4px 2px #".concat(e.settings.shadeColor),opacity:"0.95",backgroundColor:"#".concat(e.settings.bubbleColor),borderColor:"#".concat(e.settings.borderColor)}},function(){var t=0,a=0,n=e.character.lethal_damage,c=e.character.temp_hp,s=e.character_info.temporaryHitPoints,u=Ca("constitution");e.character.character_klasses.forEach((function(e){null!==e.hp&&(t+=e.hp),t+=u})),s.forEach((function(e){a+=e.bonus-e.damage})),"Fire-Roasted Tomatoes"===e.character.name&&(t+=6);var d=t-n+c+a;if(console.log(d),e.character.max_hp!==t&&fetch("".concat(p,"/api/v1/character_max_hp/").concat(e.character.id),{method:"PATCH",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({max_hp:t})}).then((function(e){return e.json()})).then(console.log),"true"===localStorage.computer)return r.a.createElement("span",{className:"centered"},r.a.createElement("div",null,r.a.createElement("strong",null,"Hit Points")),r.a.createElement("div",{className:"middle"},r.a.createElement("span",{id:i(),className:"enhanced"},d),r.a.createElement("span",{className:"enhanced"},"/",t),r.a.createElement("span",null,r.a.createElement("button",{className:"spacing",style:{boxShadow:"1px 1px 2px #".concat(e.settings.shadeColor),borderRadius:".5em",backgroundColor:"#".concat(e.settings.background1),borderColor:"#".concat(e.settings.borderColor),color:"#".concat(e.settings.textColor)},onClick:o},"Adjust"))),!!e.character.non_lethal_damage&&r.a.createElement("div",null,r.a.createElement("small",null,"Non-Lethal: ",e.character.non_lethal_damage)));var m=(d-e.character.temp_hp)/t*100,h=e.character.temp_hp/t*100,f="green";return f=m+h>100?"#0892D0":f,f=(m=m+h>100?100:m)<=50&&m>25?"yellow":f,f=m<=25?"red":f,r.a.createElement("section",{onClick:function(){return l(!0)}},r.a.createElement("span",null,r.a.createElement("div",{className:"health-box"},r.a.createElement("span",{className:"green-health-bar",style:{background:"linear-gradient(to right, ".concat(f," ").concat(m,"%, #0892D0 ").concat(m,"%, #0892D0 ").concat(m+h,"%, white ").concat(m+h,"%)")}}))),r.a.createElement("span",{style:{textAlign:"center",display:"inline-block",width:"18%"}},d,"/",t))}(),n&&r.a.createElement(J,{renderEdit:e.renderEdit,closeHPChanges:function(){l(!1)}}))})),$l=function(){var e=[],t=F.getState(),a=t.character,n=t.character_info,r=a.character_armors.find((function(e){return e.equipped}))||null,l=n.bonuses.filter((function(e){return"Armor Class"===e.statistic})),i=ea("dexterity"),o=ei(r,a.character_armors);return e.push({bonus:"dex",mod:(null===r||void 0===r?void 0:r.armor.max_dex_bonus)<i?r.armor.max_dex_bonus:i}),e.push({bonus:"armor",mod:o}),e.push({bonus:"size",mod:$(a.race.size)}),"Majestik"===a.name&&e.push({bonus:"natural",mod:1}),l.forEach((function(t){if("untyped"===t.bonus_type){var n=a[t.source.source].find((function(e){return e.id===t.source.sourceId})).name;n=n.toLowerCase(),e.push({bonus:"untyped",duration:t.duration,source:n,mod:t.bonus})}})),e},ei=function(e,t){var a=0;if(null===e)return a;if(e.extra_armor_options.length){var n=e.extra_armor_options.map((function(e){return e.id}));t.forEach((function(e){n.includes(e.id)&&(a+=e.armor.bonus)}))}return a+=e.armor.bonus},ti=Object(h.b)((function(e){return{character:e.character,character_info:e.character_info,settings:e.settings}}))((function(e){var t=$l(),a=function(){var e={armorClass:10,touch:10,flatFooted:10},t=$l();e.armorClass+=Z.a.sum(t.map((function(e){return e.mod})));var a=t.filter((function(e){return"armor"!==e.bonus&&"natural"!==e.bonus}));e.touch+=Z.a.sum(a.map((function(e){return e.mod})));var n=t.filter((function(e){return"dex"===e.bonus&&e.mod<0||"dex"!==e.bonus&&"dodge"!==e.bonus}));return e.flatFooted+=Z.a.sum(n.map((function(e){return e.mod}))),e}(),n=e.character_info.hardcode,l=n.rage?-2:0,i=n.fd,o=n.charge?-2:0,c=["Bull - Major","Condor - Major","Frog - Major","Squid - Major","Chameleon - Major"].includes(n.major),s=n.cleave?-2:0,u=n.dodgingPanache?4:0,d=e.character.name,m=n.armor,h=n.enlarge,p=n.reduce,f=n.stealTime?1:0,g=!!n.activeMutagen&&n.mutagen,b="Maddox"===d&&n.age,v=n.quick?2:0,y=h?-1:0,E=p?1:0,k="Cedrick"===d?5:0,w=function(){var t=e.character.dexterity;return e.character.race.race_ability_score_modifiers.forEach((function(e){"Dexterity"===e.ability_score&&(t+=e.bonus)})),"Dexterity"===e.character.anyBonus&&(t+=2),c&&(t-=2),"Cedrick"===d&&(t+=2),t+=h?-2:0,t+=p?2:0,t+="Young"===b?2:0,t+="Middle"===b?-1:0,t+="Old"===b?-2:0,t+="Venerable"===b?-3:0,m&&("Wooden"===m&&t>17&&(t=17),"+1 chain shirt"===m&&t>19&&(t=19),"Padded"===m&&t>27&&(t=27)),t+="dexterity"===g?4:0,Math.floor((t-10)/2)},_=function(){switch(e.character_info.size){case"Tiny":return 2;case"Small":return 1;case"Large":return-1;default:return 0}},C=function(){var e=0;return i&&(e+=2),"Persephone"===d&&(e+=1),"Robby"===d&&(e+=1),e},S=function(){var e=0;return c&&(e+=4),"Persephone"===d&&(e+=1),"Grackle"===d&&(e+=1),g&&(e+=2),e},O=function(){var e=0;return m&&("Wooden"===m&&(e+=3),"+1 chain shirt"===m&&(e+=5),"Padded"===m&&(e+=1)),e},j=function(){var e=0;return e+="Merg"===d?2:0},A=function(e){if(!["Cedrick","Nettie","Persephone","Merg","Grackle","Robby","Maddox"].includes(d))switch(e){case"ac":return a.armorClass;case"t":return a.touch;case"ff":return a.flatFooted;default:return 10}switch(e){case"ac":return 10+w()+_()+O()+C()+S()+j()+l+o+s+k+y+E+u+v+f;case"t":return 10+w()+_()+C()+j()+l+o+s+k+y+E+u+v+f;case"ff":return 10+(w()>0?0:w())+_()+O()+S()+j()+l+o+s+k+y+E+u+v+f;default:return 10}},T=function(e){for(var a=e.target;"ac"!==a.id;)a=a.parentElement;var n=t.map((function(e){var t="untyped"!==e.bonus?e.bonus:e.source;return r.a.createElement("li",null,ee(e.mod)," ",t)}));en({type:"TOOLTIP",message:r.a.createElement("ul",{style:{listStyle:"none",paddingLeft:"0px",margin:"0px"}},n),target:a})};return"true"===localStorage.computer?r.a.createElement("div",{id:"ac",className:"shadow shrink",onMouseOver:T,onMouseOut:T,style:{boxShadow:"5px 4px 2px #".concat(e.settings.shadeColor),opacity:"0.95",backgroundColor:"#".concat(e.settings.bubbleColor),borderColor:"#".concat(e.settings.borderColor)}},r.a.createElement("span",{className:"centered container-3"},r.a.createElement("section",null,r.a.createElement("div",{className:"enhanced"},A("ac")),r.a.createElement("div",null,r.a.createElement("strong",null,"AC"))),r.a.createElement("section",null,r.a.createElement("div",{className:"enhanced"},A("t")),r.a.createElement("div",null,r.a.createElement("strong",null,"T"))),r.a.createElement("section",null,r.a.createElement("div",{className:"enhanced"},A("ff")),r.a.createElement("div",null,r.a.createElement("strong",null,"FF"))))):"false"===localStorage.computer?r.a.createElement("div",{className:"shadow mobile-flex-boxes mobile-centering"},r.a.createElement("span",{style:{display:"inline-block",margin:"0.3em",textAlign:"center"}},r.a.createElement("div",{className:"enhanced"},A("ac")),r.a.createElement("div",null,r.a.createElement("strong",null,"AC"))),r.a.createElement("span",{style:{display:"inline-block",margin:"0.3em",textAlign:"center"}},r.a.createElement("div",{className:"enhanced"},A("t")),r.a.createElement("div",null,r.a.createElement("strong",null,"T"))),r.a.createElement("span",{style:{display:"inline-block",margin:"0.3em",textAlign:"center"}},r.a.createElement("div",{className:"enhanced"},A("ff")),r.a.createElement("div",null,r.a.createElement("strong",null,"FF")))):void 0})),ai=function(e,t,a){var n,r,l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=[],o=0,c=0,s=li(t.classes,e.uniq_klasses),u=ea("strength"),d=ea("dexterity"),m=ea("strength",!0),h=ea("dexterity",!0);"melee"===a?(n=u,r=m):"range"===a&&(n=d,r=h),l.finesse&&(n=d,r=h);var p=ii(t.bonuses,a).map((function(e){return e.bonus})).reduce((function(e,t){return e+t}),0),f=kl();return o+=s,o+=f,o+=Wa(e.race.size),r!==n?(c+=n-r,o+=r):o+=n,c+=p,i.push(o),i.push(c),i},ni=function(e,t,a,n){var r=ai(e,t,a,n);return r[0]+r[1]},ri=function(e,t,a){return ee(ni(e,t,a))},li=function(e,t){var a=0;return e.forEach((function(e){var n=t.find((function(t){return t.id===e.id})),r=1;r=8===parseInt(n.hit_die)?.75:r,r=6===parseInt(n.hit_die)?.5:r,a+=r*e.level})),Math.floor(a)},ii=function(e,t){var a=[];return e.forEach((function(e){"Attack"!==e.statistic||null!==e.specific_statistic&&e.specific_statistic!==t||a.push(e)})),a},oi=function(e,t,a){var n=ai(e,t,a)[1],r="black";return n>0&&(r="green"),n<0&&(r="maroon"),r},ci=function(e,t){var a={},n=li(t.classes,e.uniq_klasses),r=ea("strength"),l=ea("dexterity"),i=qa(e.race.size);return a.bonus=r+n+i,a.defense=10+r+l+n+i,a},si=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).renderAbilityScoreModifiers=function(t){var a=e.props.character[t];e.props.character.race.race_ability_score_modifiers.forEach((function(e){Z.a.capitalize(t)===e.ability_score&&(a+=e.bonus)})),e.props.character.any_bonus===Z.a.capitalize(t)&&(a+=2);var n="Maddox"===e.props.character.name&&e.props.character_info.hardcode.age;return"strength"===t&&(a+="Young"===n?-2:0,a+="Middle"===n?-1:0,a+="Old"===n?-2:0,a+="Venerable"===n?-3:0),"dexterity"===t&&(a+="Young"===n?2:0,a+="Middle"===n?-1:0,a+="Old"===n?-2:0,a+="Venerable"===n?-3:0),Math.floor((a-10)/2)},e.renderPolymorph=function(t){var a=0,n=e.props.character_info.hardcode,r=n.minor,l=n.major,i=(e.props.character.name,["Bull - Major","Condor - Major","Frog - Major","Squid - Major","Chameleon - Major"].includes(l)),o=n.enlarge,c=n.reduce,s=!!n.activeMutagen&&n.mutagen;switch(t){case"strength":"Bull - Minor"===r&&a++,i&&(a+=2),a+=o?1:0,a+=o?-1:0,a+=c?1:0,a+=c?-1:0,a+="strength"===s?2:0;break;case"dexterity":i&&a--,a+=o?-1:0,a+=o?-1:0,a+=c?1:0,a+=c?1:0,a+="dexterity"===s?2:0}return a},e.renderBAB=function(e){switch(e){case 6:return.5;case 8:return.75;case 10:case 12:default:return 1}},e.renderSize=function(e){switch(e){case"Fine":return 8;case"Diminutive":return 4;case"Tiny":return 2;case"Small":return 1;case"Large":return-1;case"Huge":return-2;case"Gargantuan":return-4;case"Colossal":return-8;default:return 0}},e.renderAB=function(t,a){if(e.props.character_info.classes&&e.props.classes){var n=0;e.props.character_info.classes.forEach((function(t){var a=e.props.classes.find((function(e){return e.id===parseInt(t.id)}));n+=Math.floor(e.renderBAB(a.hit_die)*t.level)})),n+=e.renderAbilityScoreModifiers(t);var r=n+=e.renderSize(e.props.character_info.size);return n+=e.renderPolymorph(t),a?r>n?{color:"maroon"}:r<n?{color:"green"}:{color:"black"}:n<0?n:"+".concat(n)}},e}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{id:"attack-bonus",className:"shadow shrink"},r.a.createElement("span",{className:"centered"},r.a.createElement("div",{className:"duller"},r.a.createElement("strong",null,"Attack Bonus")),r.a.createElement("div",{className:"container-2"},!!this.props.classes.length&&r.a.createElement("span",{className:"enhanced",style:{color:oi(this.props.character,this.props.character_info,"melee")}},ri(this.props.character,this.props.character_info,"melee")),!!this.props.classes.length&&r.a.createElement("span",{className:"enhanced",style:{color:oi(this.props.character,this.props.character_info,"range")}},ri(this.props.character,this.props.character_info,"range")),r.a.createElement("span",null,"Melee"),r.a.createElement("span",null,"Ranged"))))}}]),a}(r.a.Component),ui=(Object(h.b)((function(e){return{currentUser:e.currentUser,admin:e.admin,character_info:e.character_info,classes:e.classes}}))(si),Object(h.b)((function(e){return{currentUser:e.currentUser,admin:e.admin,character:e.character,character_info:e.character_info,settings:e.settings}}))((function(e){var t=r.a.useState(!1),a=Object(U.a)(t,2),n=a[0],l=a[1],i=function(t){var a=[];switch(t){case"Nettie":a=["Common","Draconic","Aklo","Infernal","Sylvan","Terran","Undercommon","Abyssal","Celestial","Sphinx","Auran"];break;case"Cedrick":a=["Common","Grippli","Druidic","Infernal","Draconic","Sylvan"];break;case"Maddox":a=["Common","Samsaran","Celestrial, Infernal","Protean","Aklo","Draconic","Sphinx","Elven","Gnome","Abyssal","Sylvan","Drow"];break;case"Merg":a=["Common","Orc","Sylvan","Terran","Draconic","Giant","Undercommon"];break;case"Robby":a=["Common","Aquan","Auran","Ignan","Halfling (Jabberjaw Gem)","Abyssal (Jabberjaw Gem)","Dwarven (Jabberjaw Gem)","Sylvan (Jabberjaw Gem)","Undercommon (Jabberjaw Gem)"];break;case"Fire-Roasted Tomatoes":a=["Common","Sylvan","Aklo"];break;case"Ildre":a=["Common","Goblin","Draconic","Elven","Undercommon","Sylvan","Abyssal"];break;case"Iyugi":a=["Common","Elven","Sylvan"];break;case"Natesse":a=["Common","Hexadecimal","Elven","Goblin","Draconic"];break;case"Dz'eyn":a=["Common","Grippli","Aquan","Read Lips"];break;case"Dink Weatherbyrst":a=["Common","Gnome"]}return e.character_info.effects.forEach((function(e){"language"===e.type&&a.push(e.note.length?"".concat(e.language," (").concat(e.note,")"):e.language)})),a};if("true"===localStorage.computer)return r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{className:"header",style:{borderColor:"#".concat(e.settings.borderColor)}},"Background"),e.character.user_id===e.currentUser.id&&r.a.createElement("span",{className:"edit",onClick:function(){return e.editModal("background")}},r.a.createElement(w.a,{icon:_.m})),r.a.createElement("div",{className:"nested"},r.a.createElement("div",null,r.a.createElement("strong",null,"Full Name:")," ",e.character.full_name),r.a.createElement("div",null,r.a.createElement("strong",null,"Background:")," ",e.character.background),r.a.createElement("div",null,r.a.createElement("strong",null,"Age:")," ",e.character.age),r.a.createElement("div",null,r.a.createElement("strong",null,"Size:")," ",e.character.race.size),r.a.createElement("div",null,r.a.createElement("strong",null,"Alignment:")," ",e.character.alignment),r.a.createElement("div",null,r.a.createElement("strong",null,"Deity:")," ",e.character.deity),r.a.createElement("div",null,r.a.createElement("strong",null,"Homeland:")," ",e.character.homeland)),r.a.createElement("div",{className:"header",style:{borderColor:"#".concat(e.settings.borderColor)}},"Appearance"),r.a.createElement("div",{className:"nested"},r.a.createElement("div",null,r.a.createElement("strong",null,"Description:")," ",e.character.description),r.a.createElement("div",null,r.a.createElement("strong",null,"Gender:")," ",e.character.gender),r.a.createElement("div",null,r.a.createElement("strong",null,"Hair:")," ",e.character.hair),r.a.createElement("div",null,r.a.createElement("strong",null,"Eyes:")," ",e.character.eyes),r.a.createElement("div",null,r.a.createElement("strong",null,"Height:")," ",e.character.height),r.a.createElement("div",null,r.a.createElement("strong",null,"Weight:")," ",e.character.weight)),r.a.createElement("div",{className:"header",style:{borderColor:"#".concat(e.settings.borderColor)}},"Languages"),r.a.createElement("div",{className:"nested"},i(e.character.name).join(", ")),r.a.createElement("div",{className:"header",style:{borderColor:"#".concat(e.settings.borderColor)}},"Statistics"),r.a.createElement("div",{className:"nested"},e.character_info.displayDescriptions.map((function(t){var a=t.description;return t.access_alignment&&(a+=" ".concat(Z.a.startCase(e.character.alignment))),r.a.createElement("li",null,r.a.createElement("strong",null,t.title),": ",a)}))));if("false"===localStorage.computer){var o=n?"85%":"100%";return r.a.createElement(r.a.Fragment,null,r.a.createElement("section",{className:"mobile-feature-tab"},r.a.createElement("span",{style:{display:"inline-block",width:o},onClick:function(){return l(!0)}},"Character Details "),n&&r.a.createElement("span",null,r.a.createElement("button",{className:"mobile-close-button",onClick:function(){return l(!1)}},"X")),n&&r.a.createElement("section",{style:{maxHeight:"".concat(.25*window.outerHeight,"px"),overflow:"scroll"}},r.a.createElement("div",{className:"header"},"Background"),r.a.createElement("div",{className:"nested"},r.a.createElement("div",null,r.a.createElement("strong",null,"Full Name:")," ",e.character.full_name),r.a.createElement("div",null,r.a.createElement("strong",null,"Background:")," ",e.character.background),r.a.createElement("div",null,r.a.createElement("strong",null,"Age:")," ",e.character.age),r.a.createElement("div",null,r.a.createElement("strong",null,"Size:")," ",e.character.race.size),r.a.createElement("div",null,r.a.createElement("strong",null,"Alignment:")," ",e.character.alignment),r.a.createElement("div",null,r.a.createElement("strong",null,"Deity:")," ",e.character.deity),r.a.createElement("div",null,r.a.createElement("strong",null,"Homeland:")," ",e.character.homeland)),r.a.createElement("div",{className:"header"},"Appearance"),r.a.createElement("div",{className:"nested"},r.a.createElement("div",null,r.a.createElement("strong",null,"Description:")," ",e.character.description),r.a.createElement("div",null,r.a.createElement("strong",null,"Gender:")," ",e.character.gender),r.a.createElement("div",null,r.a.createElement("strong",null,"Hair:")," ",e.character.hair),r.a.createElement("div",null,r.a.createElement("strong",null,"Eyes:")," ",e.character.eyes),r.a.createElement("div",null,r.a.createElement("strong",null,"Height:")," ",e.character.height),r.a.createElement("div",null,r.a.createElement("strong",null,"Weight:")," ",e.character.weight)),r.a.createElement("div",{className:"header"},"Languages"),r.a.createElement("div",{className:"nested"},i(e.character.name).join(", ")))))}}))),di=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,l=new Array(n),i=0;i<n;i++)l[i]=arguments[i];return(e=t.call.apply(t,[this].concat(l))).state={skillset:!1},e.renderSkillBonus=function(t,a){var n=e.props.character_info.ability_scores[Z.a.lowerCase(t.ability_score)],r="Maddox"===e.props.character.name&&e.props.character_info.hardcode.age;"Strength"===t.ability_score&&(n+="Young"===r?-2:0,n+="Middle"===r?-1:0,n+="Old"===r?-2:0,n+="Venerable"===r?-3:0),"Dexterity"===t.ability_score&&(n+="Young"===r?2:0,n+="Middle"===r?-1:0,n+="Old"===r?-2:0,n+="Venerable"===r?-3:0),"Constitution"===t.ability_score&&(n+="Young"===r?-2:0,n+="Middle"===r?-1:0,n+="Old"===r?-2:0,n+="Venerable"===r?-3:0),"Intelligence"===t.ability_score&&(n+="Middle"===r?1:0,n+="Old"===r?1:0,n+="Venerable"===r?1:0),"Wisdom"===t.ability_score&&(n+="Young"===r?-2:0,n+="Middle"===r?1:0,n+="Old"===r?1:0,n+="Venerable"===r?1:0),"Charisma"===t.ability_score&&(n+="Middle"===r?1:0,n+="Old"===r?1:0,n+="Venerable"===r?1:0);var l=ea(Z.a.lowerCase(t.ability_score)),i=e.renderNumOfRanks(t);l+=i,e.renderClassSkill(t)&&i>0&&(l+=3);var o=e.props.character_info.hardcode,c=e.props.character.name,s=e.props.character_info.size,u=["Bull - Major","Condor - Major","Frog - Major","Squid - Major","Chameleon - Major"].includes(o.major),d=o.armor,m=o.enlarge,h=o.reduce;if("Stealth"===t.name){var p=e.props.character_info.size;"Small"===p?l+=4:"Large"===p?l-=4:"Tiny"===p&&(l+=8)}"Dexterity"===t.ability_score&&"Cedrick"===c&&(l+=1),d&&("Dexterity"!==t.ability_score&&"Strength"!==t.ability_score||(l+="Wooden"===d?-1:0,l+="+1 chain shirt"===d?-1:0)),"Intelligence"===t.ability_score&&"Persephone"===c&&(l+=1),l+="Acrobatics"===t.name&&"Robby"===c?2:0,l+="Acrobatics"===t.name&&"Robby"===c?2:0,l+="Climb"===t.name&&"Robby"===c?2:0,l+="Swim"===t.name&&"Robby"===c?2:0,l+="Bluff"===t.name&&"Grackle"===c?2:0,l+="Stealth"===t.name&&"Grackle"===c?2:0;var f=0;e.props.character_info.bonuses.forEach((function(e){"skill"===e.type&&e.skill_id===t.id&&"permanent"===e.duration&&(f+=e.bonus)}));var g=l+=f,b=!!o.activeMutagen&&o.mutagen;if("Strength"===t.ability_score&&(u&&(l+=2),"Bull - Minor"===o.minor&&(l+=1),l+=m?1:0,l+=h?-1:0,l+="strength"===b?4:0),"Dexterity"===t.ability_score&&(u&&(l-=1),l+=m?-1:0,l+=h?1:0,l+="dexterity"===b?4:0),"Constitution"===t.ability_score&&(l+="constitution"===b?4:0),"Intelligence"===t.ability_score&&(l+="strength"===b?-2:0),"Wisdom"===t.ability_score&&(l+="dexterity"===b?-2:0),"Charisma"===t.ability_score&&(l+="constitution"===b?-2:0),"Swim"===t.name&&("Frog - Minor"===o.minor&&(l+=2),"Frog - Major"===o.major&&(l+=8),"Tiny"===s)){l-=Math.floor((n-10)/2);var v=e.props.character_info.ability_scores.dexterity;l+=Math.floor((v-10)/2)}if("Climb"===t.name&&"Tiny"===s){l-=Math.floor((n-10)/2);var y=e.props.character_info.ability_scores.dexterity;l+=Math.floor((y-10)/2)}return"Intimidate"===t.name&&"Cedrick"===c&&(l+=1,g+=1),a?g>l?{color:"maroon"}:g<l?{color:"green"}:{color:"black"}:l<0?l:"+".concat(l)},e.renderNumOfRanks=function(t){var a=e.props.character.name,n=e.props.character.character_skillset_skills.find((function(e){return e.skill_id===t.id}));return"Religion"===t.name&&"Persephone"===a&&(n=n||{ranks:e.props.character.character_klasses.length}),"Perform (percussion)"===t.name&&"Nettie"===a&&(n={ranks:100}),"Perform (strings)"===t.name&&"Nettie"===a&&(n={ranks:100}),void 0!==n?n.ranks:0},e.renderClassSkill=function(t){var a=!1;return e.props.character.uniq_klasses.forEach((function(n){n.class_skillset_skills.forEach((function(r){if("Vigilante"===n.name&&"Persephone"===e.props.character.name){r.skill_id===t.id&&r.skillset_id===e.props.character.skillset.id&&["Acrobatics","Bluff","Climb","Craft","Diplomacy","Disguise","Intimidate","Perform","Profession","Sense Motive","Stealth","Swim","Investigation","Society","Spellcraft","Religion"].includes(t.name)&&(a=!0)}else r.skill_id===t.id&&r.skillset_id===e.props.character.skillset.id&&(a=!0)}))})),a},e.renderAbilityScoreAbbreviation=function(t){var a,n="Climb"===t.name||"Swim"===t.name,r="Tiny"===e.props.character_info.size,l=e.props.character_info.hardcode.armor;return a=n&&r?"Dex":t.ability_score.slice(0,3),l&&("Dex"!==a&&"Str"!==a||(a+="Wooden"===l?"*":"",a+="+1 chain shirt"===l?"*":"")),e.props.character_info.hardcode.quick&&("Dex"!==a&&"Cha"!==a||(a+="*")),a},e.modifiedSkills=function(){var t=Object(S.a)(e.state.skillset.skills),a=e.props.character.name;"Merg"===a&&(t.push({name:"Profession (fence)",ability_score:"Wisdom"}),t.push({name:"Profession (sailor)",ability_score:"Wisdom"}),t=t.filter((function(e){return"Profession"!==e.name}))),"Robby"===a&&(t.push({name:"Profession (sailor)",ability_score:"Wisdom"}),t.push({name:"Perform (acting)",ability_score:"Charisma"}),t=(t=t.filter((function(e){return"Profession"!==e.name}))).filter((function(e){return"Perform"!==e.name}))),"Nettie"===a&&(t.push({name:"Perform (percussion)",ability_score:"Charisma"}),t.push({name:"Perform (strings)",ability_score:"Charisma"}),t=t.filter((function(e){return"Perform"!==e.name})));var n=[];return t.forEach((function(t){var a=Object(j.a)({},t),r=e.props.character.character_skillset_skills.filter((function(e){return e.skill_id===a.id}));1===r.length?(r=r[0],a.detail=r.detail?"".concat(a.name," (").concat(r.detail,")"):r.detail,a.ranks=r.ranks,a.classSkill=e.renderClassSkill(a),a.bonus=e.renderSkillBonus(a),n.push(a)):r.length>1?r.forEach((function(t){var r=Object(j.a)({},a);r.detail=t.detail?"".concat(a.name," (").concat(t.detail,")"):t.detail,r.ranks=t.ranks,r.classSkill=e.renderClassSkill(r),r.bonus=e.renderSkillBonus(r),n.push(r)})):0===r.length&&(a.detail=null,a.ranks=0,a.classSkill=e.renderClassSkill(a),a.bonus=e.renderSkillBonus(a),n.push(a))})),n.sort((function(e,t){return e.name>t.name?1:-1}))},e.renderSkillTableRow=function(){var t=e.props.character.skillset.skills;return t=[].concat(Object(S.a)(t),Object(S.a)(Il(e.props.character.character_skillset_skills,t))),(t=Nl(t)).map((function(t){var a=Cl(t);return r.a.createElement("tr",{key:Z.a.random(1,2e6)},r.a.createElement("td",null,Sl(t,e.props.character)?"X":null),r.a.createElement("td",{onMouseOver:function(a){return e.renderTooltip(a,null,t.ability_score)},onMouseOut:e.props.mouseOut},r.a.createElement("strong",null,e.renderAbilityScoreAbbreviation(t))),r.a.createElement("td",{className:e.raging(t.name),style:{color:"#".concat(e.props.settings.textColor)},onMouseOver:function(a){return e.renderTooltip(a,t)},onMouseOut:function(a){return e.renderTooltip(a,t)}},Tl(t)),r.a.createElement("td",{style:{color:"#".concat(e.props.settings.textColor),border:"1px solid #".concat(e.props.settings.borderColor),borderRadius:"0.3em",textAlign:"center",cursor:"default"},onClick:function(){return e.rollSkill(t.name,a)}},a),r.a.createElement("td",{style:{textAlign:"center"}},Ol(t,e.props.character)))}))},e.rollSkill=function(e,t){var a={rollName:e,modifier:parseInt(t),die:20,count:1};W(a)},e.renderMobileSkillsRow=function(){return e.modifiedSkills().map((function(e,t){return r.a.createElement("p",{key:3*t-1,style:{fontSize:"14px",textAlign:"center",marginBottom:"2%"}},r.a.createElement("strong",{style:{fontSize:"11px"}},e.name)," ",Cl(e))}))},e.asterisk=function(t){var a=t.detail?t.detail:t.name,n=a+"*",r=e.props.character.name,l=e.props.character_info.hardcode;if(t.customizable)e.props.character.character_skillset_skills.filter((function(e){return e.skill_id===t.id}));var i=!1;if(e.props.character_info.bonuses.forEach((function(e){a&&e.skill_id&&e.skill_id===t.id&&e.note&&(i=!0)})),i)return n;switch(a){case"Acrobatics":return"Frog - Minor"===l.minor||"Frog - Major"===l.major||"Condor - Major"===l.major||"Festus"===r||"Robby"===r?n:a;case"Heal":case"Survival":return"Nettie"===r?n:a;case"Swim":return"Frog - Major"===l.major||"Robby"===r?n:a;case"Stealth":return"Cedrick"===r||"Grackle"===r||"Chameleon - Major"===l.major?n:a;case"Intimidate":return"Cedrick"===r||"Robby"===r?n:a;case"Religion":case"Disguise":return"Persephone"===r?n:a;case"Finesse":case"Handle Animal":case"Climb":return"Robby"===r?n:a;case"Sense Motive":return"Merg"===r?n:a;case"Bluff":return"Grackle"===r?n:a;default:return a}},e.raging=function(t){if(["Bluff","Craft","Diplomacy","Disguise","Finesse","Handle Animal","Investigation","Linguistics","Nature","Perform","Religion","Society","Spellcraft","Stealth"].includes(t)&&e.props.character_info.hardcode.rage)return"strike"},e.renderTooltip=function(t,a,n){var l=[],i=e.props.character.name,o=e.props.character_info.hardcode,c=(o.armor,a?a.name:a);if(e.props.character_info.bonuses.forEach((function(e){c&&e.skill_id===a.id&&e.note&&l.push(Z.a.capitalize(e.note))})),a){var s=Al(a);s&&e.props.dispatch({type:"TOOLTIP",message:s,target:t.target})}if("Survival"!==c&&"Heal"!==c||"Nettie"!==i||l.push("Scrivener's Versatility"),"Acrobatics"===c&&("Frog - Minor"===o.minor?l.push("+4 when jumping"):"Frog - Major"===o.major?l.push("Treat all jumps as if you had a running start"):"Condor - Major"===o.major||"Festus"===i?l.push("+8 to flying check from Fly Speed"):"Robby"===i&&l.push("Derring-Do: Spend 1 Panache to add +1d6, up to 4 times")),"Swim"===c&&("Frog - Major"===o.major?l.push("Swim Speed"):"Robby"===i&&l.push("Derring-Do: Spend 1 Panache to add +1d6, up to 4 times")),"Stealth"===c&&("Cedrick"===i&&l.push("+4 bonus in Marshes and Forests"),"Chameleon - Major"===o.major&&l.push(l+", +10 bonus if you are standing still"),"Grackle"===i&&l.push("+2 racial bonus from Skilled trait")),"Intimidate"===c&&("Cedrick"===i?l.push(r.a.createElement("span",null,"+1 enchancement bonus from ",r.a.createElement("em",null,"ominous")," from Ta'al'mon Ancestral Handwraps")):"Robby"===i&&l.push("Meanacing Swordplay: If you have at least 1 Panache, after a melee attack, Demoralize as a swift action instead of standard action")),"Religion"===c&&"Persephone"===i&&l.push(r.a.createElement("span",null,e.props.character.character_klasses.length," skill ranks from ",r.a.createElement("em",null,"Headband of Vast Intelligence +2"))),"Disguise"===c&&"Persephone"===i){var u="Persephone",d="the Autumn Equinox";o.autumn&&(u="the Autumn Equinox",d="Persephone"),l.push(r.a.createElement("span",null,"+20 circumstance bonus to appear as ",u," if suspected to be ",d))}if("Finesse"===c&&"Robby"===i&&l.push("Derring-Do: Spend 1 Panache to add +1d6, up to 4 times"),"Handle Animal"===c&&"Robby"===i&&l.push("Derring-Do: Spend 1 Panache to add +1d6 to ride checks, up to 4 times"),"Climb"===c&&"Robby"===i&&l.push("Derring-Do: Spend 1 Panache to add +1d6, up to 4 times"),"Sense Motive"===c&&"Merg"===i&&l.push("If the Fabric of Reality is draped over your eyes, +4 bonus."),"Bluff"===c&&"Grackle"===i&&l.push("+2 racial bonus from Skilled trait"),n){var m=o.armor;!m||"Strength"!==n&&"Dexterity"!==n||(l.push("Wooden"===m?"Armor Check Penalty: -1":l),l.push("+1 chain shirt"===m?"Armor Check Penalty: -1":l)),!o.quick||"Dexterity"!==n&&"Charisma"!==n||l.push("Advantage on ".concat(n,"-based checks"))}l.length&&e.props.renderTooltip(t,l.join(", "))},e.renderSkillsTable=function(){return r.a.createElement("table",null,r.a.createElement("thead",{className:"dynamic-size-smaller"},r.a.createElement("tr",null,r.a.createElement("th",null,"Class"),r.a.createElement("th",null,"Ability"),r.a.createElement("th",null,"Skill"),r.a.createElement("th",null,"Bonus"),r.a.createElement("th",null,"Ranks"))),r.a.createElement("tbody",null,e.renderSkillTableRow()))},e.renderMobileSkills=function(){return r.a.createElement("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr"}},e.renderMobileSkillsRow())},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this;fetch("".concat(p,"/api/v1/skillsets/").concat(this.props.character.skillset.id)).then((function(e){return e.json()})).then((function(t){e.setState({skillset:t.skillset})}))}},{key:"render",value:function(){return"true"===localStorage.computer?r.a.createElement("div",{id:"skills",className:"shadow",style:{boxShadow:"5px 4px 2px #".concat(this.props.settings.shadeColor),opacity:"0.95",backgroundColor:"#".concat(this.props.settings.bubbleColor),borderColor:"#".concat(this.props.settings.borderColor)}},r.a.createElement("div",{className:"dynamic-size",name:"skill list"},this.state.skillset?this.renderSkillsTable():null)):"false"===localStorage.computer?r.a.createElement("section",{className:"mobile-flex-boxes shadow"},this.state.skillset?this.renderMobileSkills():null):void 0}}]),a}(r.a.Component),mi=Object(h.b)((function(e){return{currentUser:e.currentUser,admin:e.admin,character:e.character,character_info:e.character_info,settings:e.settings}}))(di),hi=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,l=new Array(n),i=0;i<n;i++)l[i]=arguments[i];return(e=t.call.apply(t,[this].concat(l))).state={activeFeature:0},e.changeActiveFeature=function(t){e.state.activeFeature===t?e.setState({activeFeature:0}):e.setState({activeFeature:t})},e.renderClassFeatures=function(){var t=Object(S.a)(e.props.character.uniq_klasses),a=(t.map((function(e){return e.klass_features})),e.props.character.klass_specializations.map((function(e){return e.klass_specialization_features.map((function(t){return Object(j.a)(Object(j.a)({},t),{},{name:"".concat(e.name," - ").concat(t.name)})}))})).flat()),n=[].concat(Object(S.a)(e.props.character.applicable_klass_features),Object(S.a)(a));return(n=e.circumventFeatures(e.props.character.name,n)).map((function(a){var n,l=t.find((function(e){return e.id===a.klass_id})),i=a.name;l&&"Weapon and Armor Proficiency"===a.name&&(i="".concat(a.name," - ").concat(l.name));var o=a.description;if(null===(n=a.associated_spells)||void 0===n?void 0:n.length){var c=a.associated_spells;c.length&&(o=He(o,c,e.renderSpellClick))}if(a.features.find((function(e){return e.castable_spells.length}))){var s=[];a.features.forEach((function(e){e.castable_spells.forEach((function(e){s.push(e.spell)}))})),s.length&&(o=He(o,s,e.renderSpellClick))}return"string"===typeof o&&(o=ze(o)),r.a.createElement("li",{key:3*a.id-1,onClick:function(){return P("generic",a,{name:a.name})},className:"highlight mobile-selected-tab-content",style:{maxHeight:.4*window.outerHeight}},r.a.createElement("strong",null,i))}))},e.renderSpellClick=function(e){P("spellDescription",e)},e.circumventFeatures=function(t,a){var n=[],l=[],i=[];return"Nettie"===t?(l=["Bardic Knowledge","Well-Versed","Versatile Performance"],i=[{id:1001,actions:[],description:"A chronicler of worlds can take 10 on Religion checks. A number of times per day equal to her Intelligence modifier, she can take 20 on a Religion check. This ability stacks with that gained by lore master at 5th level.\n\nA chronicler of worlds can attempt all Knowledge checks untrained.",feature_levels:[{level:1}],feature_options:[],klass_id:10,name:"Planar Lore",spellcasting:null},{id:1002,actions:[],description:"A chronicler of worlds rejects cosmic morality. At 2nd level, she does not take penalties imposed by planar alignment traits, and she gains a +4 bonus on saving throws against spells and effects that vary based on their target\u2019s alignment.",feature_levels:[{level:2}],feature_options:[],klass_id:10,name:"Amoral Scholar",spellcasting:null},{id:1003,actions:[],description:"A chronicler of worlds seeks to emulate history\u2019s greatest scribe; gaining insight into widely varying subjects, from anatomy to discourse. At 2nd level, a chronicler of worlds selects a skill from the following list: Bluff, Diplomacy, Finesse, Heal, Intimidate, Profession (scribe), Sense Motive, or Survival. When attempting skill checks of that type, a chronicler can use her Linguistics skill bonus in place of her bonus with the chosen skill. At 6th level and every 4 levels thereafter, a chronicler of worlds selects an additional skill to gain this benefit.",feature_levels:[{level:2},{level:6},{level:10},{level:14},{level:18}],feature_options:[],klass_id:10,name:"Scrivener\u2019s Versatility",spellcasting:null}]):"Persephone"===t?(l=["Weapon and Armor Proficiency - Vigilante","Vigilante Specialization"],i=[{id:2e3,actions:[],description:r.a.createElement("div",null,r.a.createElement("p",null,"A season witch observes the cycles of life through symbolic festivals and the very real passage of time. Their covens celebrate the seasons and their impact on magic. These seasonal cycles alter their magic and mind-set, focusing their spells and hexes on a predominant energy type and philosophy."),r.a.createElement("p",null,"A season witch makes a commitment to embody the sacred symbolism of a season year round, and learns her spells through communion with nature, divining secrets from shapes in the clouds or the play of leaves on the wind. At 1st level, a season witch chooses the season that defines her abilities as her patron; this choice also provides her certain benefits."),r.a.createElement("p",null,"An autumn witch has dominion over the provision of the land and the passing of life. The save DCs of her spells that deal acid damage increase by 1. At 1st level, she gains either the blight hex or slumber hex as a bonus hex."),r.a.createElement("p",null,"A winter witch has dominion over hearth and home. The save DCs of her spells that deal cold damage increase by 1. At 1st level, she gains either the healing hex or ward hex as a bonus hex."),r.a.createElement("p",null,"This alters patron and the hex gained at 1st level.")),feature_levels:[{level:1}],feature_options:[],klass_id:6,name:"Season of the Witch",spellcasting:null},{id:2001,actions:[],description:r.a.createElement("span",null,"At 1st level, the witch can use ",r.a.createElement("em",{className:"underline-hover",onClick:function(){return e.props.editModal("spell",null,18)}},"feather fall")," at will and gains a +4 racial bonus on Swim checks. At 3rd level, she can cast ",r.a.createElement("em",{className:"underline-hover",onClick:function(){return e.props.editModal("spell",null,56)}},"levitate")," once per day. At 5th level, she can ",r.a.createElement("em",{className:"underline-hover",onClick:function(){return e.props.editModal("spell",null,57)}},"fly"),", as per the spell, for a number of minutes per day equal to her level. These minutes do not need to be consecutive, but they must be spent in 1-minute increments. This hex only affects the witch."),feature_levels:[{level:1}],feature_options:[],klass_id:6,name:"Flight Hex",spellcasting:null},{id:2002,actions:[],description:r.a.createElement("span",null,r.a.createElement("p",null,"A witch can cause a creature within 30 feet to fall into a deep, magical sleep, as per the spell ",r.a.createElement("em",{className:"underline-hover",onClick:function(){return e.props.editModal("spell",null,58)}},"sleep"),". The creature receives a Will save to negate the effect. If the save fails, the creature falls asleep for a number of rounds equal to the witch\u2019s level."),r.a.createElement("p",null,"This hex can affect a creature of any HD. The creature will not wake due to noise or light, but others can rouse it with a standard action. This hex ends immediately if the creature takes damage. Whether or not the save is successful, a creature cannot be the target of this hex again for 1 day.")),feature_levels:[{level:1}],feature_options:[],klass_id:6,name:"Slumber Hex",spellcasting:null},{id:2003,actions:[],description:"The witch can grant a creature within 30 feet a bit of good luck for 1 round. The target can call upon this good luck once per round, allowing him to reroll any ability check, attack roll, saving throw, or skill check, taking the better result. He must decide to use this ability before the first roll is made. At 8th level and 16th level, the duration of this hex is extended by 1 round. Once a creature has benefited from the fortune hex, it cannot benefit from it again for 24 hours.",feature_levels:[{level:2}],feature_options:[],klass_id:6,name:"Fortune Hex",spellcasting:null},{id:2004,actions:[],description:r.a.createElement("div",null,r.a.createElement("p",null,"The witch can cause fate to twist so that it benefits a creature within 30 feet for 1 round. Whenever that creature is targeted by an effect that requires an attack roll, including weapon attacks, the attacker must roll twice and take the worse result."),r.a.createElement("p",null,"At 8th level and 16th level, the duration of this hex is extended by 1 round. A witch cannot use this ability on herself. Hexes that affect the fortune hex, such as cackle, also affect protective luck.")),feature_levels:[{level:4}],feature_options:[],klass_id:6,name:"Protective Luck Hex",spellcasting:null},{id:2005,actions:[],description:r.a.createElement("div",null,r.a.createElement("p",null,"At 1st level, when a witch gains her familiar, she must also select a patron. This patron is a vague and mysterious force, granting the witch power for reasons that she might not entirely understand. While these forces need not be named, they typically hold influence over one of the following forces."),r.a.createElement("p",null,"At 2nd level, and every two levels thereafter, a witch\u2019s patron adds new spells to a witch\u2019s list of spells known. These spells are also automatically added to the list of spells stored by the familiar. The spells gained depend upon the patron chosen. Each patron is listed by its theme. Its actual name is up to the GM and the witch to decide."),r.a.createElement("p",null,"Autumn Patron: 2nd - ",r.a.createElement("em",{className:"underline-hover",onClick:function(){return e.props.editModal("spell",null,50)}},"ray of enfeeblement"),", 4th - ",r.a.createElement("em",{className:"underline-hover",onClick:function(){return e.props.editModal("spell",null,42)}},"create pit"))),feature_levels:[{level:1}],feature_options:[],klass_id:6,name:"Patron: Autumn",spellcasting:null},{id:2006,actions:[],description:r.a.createElement("div",null,r.a.createElement("p",null,"At 1st level, a witch forms a close bond with a familiar, a creature that teaches her magic and helps to guide her along her path. Familiars also aid a witch by granting her skill bonuses, additional spells, and help with some types of magic. This functions like the wizard\u2019s arcane bond class feature, except as noted in the Witch\u2019s Familiar section."),r.a.createElement("p",null,"A witch must commune with her familiar each day to prepare her spells. Familiars store all of the spells that a witch knows, and a witch cannot prepare a spell that is not stored by her familiar. A witch\u2019s familiar begins play storing all of the 0-level witch spells plus three 1st level spells of the witch\u2019s choice. The witch also selects a number of additional 1st-level spells equal to her Intelligence modifier to store in her familiar. At each new witch level, she adds two new spells of any spell level or levels that she can cast (based on her new witch level) to her familiar. A witch can also add additional spells to her familiar through a special ritual.")),feature_levels:[{level:1}],feature_options:[],klass_id:6,name:"Witch's Familiar: Chubbs",spellcasting:null},{id:2007,actions:[],description:"Vigilantes are proficient with all simple and martial weapons, light armor, and shields (except tower shields). They can cast summoner spells (see spellcasting below) while wearing light armor without incurring the normal arcane spell failure chance.",feature_levels:[{level:1}],feature_options:[],klass_id:7,name:"Weapon and Armor Proficiency - Vigilante - Magical Child",spellcasting:null},{id:2008,actions:[],description:"A magical child\u2019s transformation between identities is assisted by magic. This makes it faster than usual, but also more noticeable. A magical child can normally transform between her identities in 5 rounds, though this improves to a standard action with the quick change social talent and a swift action with the immediate change social talent. However, the transformation is quite a spectacle, involving loud sounds or music, brilliant colorful energies, and swift motions.",feature_levels:[{level:1}],feature_options:[],klass_id:7,name:"Transformation Sequence",spellcasting:null},{id:2009,actions:[],description:r.a.createElement("span",null,r.a.createElement("p",null,"A magical child starts play with a magical spirit guide in the form of a familiar, using her vigilante level as her effective wizard level. The familiar also has a social identity as a seemingly normal animal, though vigilantes with outlandish familiars might still need to hide the familiar."),r.a.createElement("p",null,"At 3rd level, the magical child\u2019s familiar reveals another aspect of its form, and its vigilante identity changes into a creature on the Improved Familiar list that would be available to a 3rd-level spellcaster (the animal guide\u2019s social identity always remains as the original normal animal)."),r.a.createElement("p",null,"The familiar can change its vigilante identity again when the magical child reaches 5th and 7th level, each time to familiars available at those levels. The Improved Familiar feat\u2019s alignment restrictions apply to this ability, but only the magical child\u2019s vigilante identity needs to have an alignment that fulfills the alignment requirements of the improved familiar. The familiar\u2019s new vigilante form choices are permanent, and it cannot transform back into its former vigilante identities until 9th level, when the familiar gains the change shape universal monster ability if it doesn\u2019t already have it. It can use this ability at will when in its vigilante identity to transform into any of its four vigilante identities."),r.a.createElement("p",null,"In vigilante form, a magical child\u2019s familiar gains an amount of DR/magic equal to her vigilante level."),r.a.createElement("p",null,"This doesn\u2019t stack with any DR/magic that her vigilante form might already possess."),r.a.createElement("p",null,"If a magical child\u2019s familiar dies, its consciousness simply leaves its body, and the magical child can replace its body after 24 hours. To do so, she must conduct an 8-hour ritual that costs 200 gp per her vigilante level, but once the ritual is complete, the familiar returns in a new body. It retains all of its memories from its earlier service to the magical child.")),feature_levels:[{level:1},{level:3},{level:5},{level:7},{level:9}],feature_options:[],klass_id:7,name:"Animal Guide",spellcasting:null},{id:2010,actions:[],description:"A magical child casts arcane spells and cantrips as an unchained summoner. She can cast any spell she knows without preparing it ahead of time, assuming she has not yet used up her allotment of spells per day for the spell\u2019s level, and she chooses her spells known from the summoner spell list (she cannot choose spells that would affect an eidolon). A magical child\u2019s selection of spells is extremely limited; use Table: Unchained Summoner Spells Known to determine how many spells the magical child knows at each level. A magical child needs to commune with her animal guide for 1 hour in order to replenish her daily spell slots.",feature_levels:[{level:1}],feature_options:[],klass_id:7,name:"Spellcasting",spellcasting:!0},{id:2011,actions:[],description:"The vigilante becomes known for deeds and abilities regardless of his current identity. This renown grants him favorable treatment in civilized company and lends him an air of menace while facing down his enemies. While he is in his social identity, a vigilante can spend 1 week gaining renown among the locals of any community of no more than about 200 individuals (a village, if using settlement population ranges). This could be the entire community or a smaller neighborhood in a larger settlement. He must spend at least 4 hours each day socializing and making contacts. After spending 1 week doing this, whenever he is in his social identity, all NPCs in the community have a starting attitude toward him that is one category better, as long as each person\u2019s initial attitude would have at least been indifferent (see the Diplomacy skill description). While he gains renown in an area using his social identity, he also spreads rumors and tales about his vigilante identity. Once he has gained renown in a community, he gains a +4 circumstance bonus on Intimidate checks whenever he is in his vigilante identity. This bonus applies only while he is near the community in which he has gained renown; he must be within a number of miles equal to his vigilante level. A vigilante can hold renown in a limited number of communities (normally one, with other social talents allowing two). If he gains renown in a new community, he must decide which one of his previous communities to lose. These effects are subject to GM approval. For example, the GM might rule that an NPC or monster has not heard any tales about the vigilante. Or, a foe may have a starting attitude toward him that\u2019s one category worse, rather than one category better.",feature_levels:[{level:1}],feature_options:[],klass_id:7,name:"Social Talent - Renown",spellcasting:!1},{id:2012,actions:[],description:"Needs to be picked",feature_levels:[{level:2}],feature_options:[],klass_id:7,name:"Vigilante Talent - None",spellcasting:!1}]):"Cedrick"===t?(l=[],i=[{id:3e3,actions:[],description:"The bull is a fierce charger and is adept at trampling its foes, pounding them to a bloody pulp.",feature_levels:[{level:1}],feature_options:[],klass_id:4,name:"Shifter Aspect - Bull",spellcasting:!1},{id:3001,actions:[],description:"The aspect of the frog grants great mobility in leaping through the air and swimming in water, and surprising tactics in combat. The poison secreted by a frog can cause hallucinations, and poison damage at a high enough dosage.",feature_levels:[{level:1}],feature_options:[],klass_id:4,name:"Shifter Aspect - Frog",spellcasting:!1},{id:3002,actions:[],description:"The aspect of the chameleon grants the power of near invisibility to the shifter. Combined with a powerful tongue and quick movement, the chameleon can be a dangerous threat even when visible.",feature_levels:[{level:2}],feature_options:[],klass_id:4,name:"Shifter Aspect - Chameleon",spellcasting:!1},{id:3003,actions:[],description:"The aspect of the squid embodies its aggressive underwater tactics, striking with multiple tentacles, and disorienting targets with ink clouds and quick movements.",feature_levels:[{level:4}],feature_options:[],klass_id:4,name:"Shifter Aspect - Squid",spellcasting:!1},{id:3004,actions:[],description:"The aspect of the condor assumes a creature with a large wingspan that can be used to create great gusts that propel the condor across the world.",feature_levels:[{level:6}],feature_options:[],klass_id:4,name:"Shifter Aspect - Condor",spellcasting:!1}]):"Maddox"===t?(l=[],i=[{id:4e3,actions:[],description:"An arcanist with this exploit can acquire a familiar as the arcane bond wizard class feature, using her arcanist level as her wizard level to determine any of the statistics and abilities of the familiar. If the arcanist receives a familiar from another class, her levels of arcanist stack with the levels from that class when determining the familiar\u2019s statistics and abilities (this ability does not stack with a familiar gained through the bloodline development exploit; she must choose one or the other).",feature_levels:[{level:6}],feature_options:[],klass_id:8,name:"Arcanist Exploit - Familiar",spellcasting:!1},{id:4001,actions:[],description:"The arcanist can expend 1 point from her arcane reservoir to create a dimensional crack that she can step through to reach another location. This ability is used as part of a move action or withdraw action, allowing her to move up to 10 feet per arcanist level to any location she can see. This counts as 5 feet of movement. She can only use this ability once per round. She does not provoke attacks of opportunity when moving in this way, but any other movement she attempts as part of her move action provokes as normal.",feature_levels:[{level:5}],feature_options:[],klass_id:8,name:"Arcanist Exploit - Dimensional Slide",spellcasting:!1},{id:4002,actions:[],description:"The arcanist can expend 1 point from his arcane reservoir when he rolls initiative to allow himself or an ally within 30 feet to roll 1d4 and add it to that character\u2019s initiative result. At 5th level, the chronomancer can expend 2 points from his arcane reservoir as an immediate action to apply this benefit to a saving throw he has just rolled (but before the result is revealed). At 10th level, the die size increases to 1d6.",feature_levels:[{level:1}],feature_options:[],klass_id:8,name:"Arcanist Exploit - Forewarned",spellcasting:!1},{id:4003,actions:[],description:"As an immediate action after losing a spell due to a failed concentration check or after casting a spell that had no effect (such as due to successful saving throws, a failed caster level check to overcome spell resistance, or other immunities), the arcanist can expend a number of points from his arcane reservoir equal to half the spell\u2019s level (minimum 1) to immediately prepare the spell again, as if it had not been cast. Any material components expended in the original casting remain expended, as are actions used to cast the original spell.",feature_levels:[{level:3}],feature_options:[],klass_id:8,name:"Arcanist Exploit - Rewind",spellcasting:!1},{id:4004,actions:[],description:"As an immediate action the arcanist can steal time from a target. The arcanist spends 1 point from his arcane reservoir and makes a melee touch attack. If successful, the target must make a Will save (DC 10 +  half of the arcanist's level + his Charisma modifier) or suffer a penalty to AC, Reflex saving throws, and base speed. Tis effect lasts for 1 round per arcanist level. The penalty suffered is equal to -1 to AC and Reflex saves as well as a 5-foot penalty to base speed, and increases to -2 and -10-foot at 8th level, and -3 and -15-foot at 16th level. The arcanist gains a bonus to AC and Reflex saving throws and an enhancement bonus to base speed equal to the penalty inflicted on the target for the duration of this effect.",feature_levels:[{level:7}],feature_options:[],klass_id:8,name:"Arcanist Exploit - Steal Time",spellcasting:!1}]):"Merg"===t?(l=["Fast Movement","Uncanny Dodge","Improved Uncanny Dodge","Damage Reduction","Danger Sense"],i=[{id:4999,actions:[],description:"While raging, the drunken brute can drink a potion, or a tankard of ale or similar quantity of alcohol, as a move action that does not provoke attacks of opportunity. A potion has its normal effect, while an alcoholic drink allows the barbarian to maintain her rage that round without expending a round of rage for the day (instead of the alcohol\u2019s normal effects). For each alcoholic drink consumed while raging, the barbarian is nauseated for 1 round when her rage expires, in addition to the normal fatigue that follows a rage. Tireless rage does not negate this nauseated condition but the internal fortitude rage power does. ",feature_levels:[{level:1}],feature_options:[],klass_id:5,name:"Drunken Brute - Raging Drunk",spellcasting:!1},{id:5e3,actions:[],description:"Choose an energy type: acid, cold, fire, or electricity. While raging, as a swift action up to three times a day, the barbarian can imbue her melee attacks with elemental energy, dealing an additional 1d6 points of damage of the chosen energy type for 1 round.",feature_levels:[{level:2}],feature_options:[],klass_id:5,name:"Rage Power - Lesser Elemental Blood",spellcasting:!1},{id:5001,actions:[],description:"While raging, you gain a +1 morale bonus on Intimidate checks and to the save DC of any fear effects you create for each alcoholic drink you have consumed during your rage, to a maximum of +1 per four barbarian levels.",feature_levels:[{level:4}],feature_options:[],klass_id:5,name:"Rage Power - Roaring Drunk",spellcasting:!1},{id:5002,actions:[],description:"While raging, the barbarian gains energy resistance 10 against the energy type chosen when she took lesser elemental blood.",feature_levels:[{level:6}],feature_options:[],klass_id:5,name:"Rage Power - Elemental Blood",spellcasting:!1},{id:5003,actions:[],description:"At 2nd level, the invulnerable rager gains DR/\u2014 equal to half her barbarian level. This damage reduction is doubled against nonlethal damage.",feature_levels:[{level:2}],feature_options:[],klass_id:5,name:"Invulnerable Rager - Invulnerability",spellcasting:!1},{id:5004,actions:[],description:"At 3rd level, the invulnerable rager is inured to either hot or cold climate effects (choose one) as if using endure elements. In addition, the barbarian gains 1 point of fire or cold resistance for every three levels beyond 3rd.",feature_levels:[{level:3}],feature_options:[],klass_id:5,name:"Invulnerable Rager - Extreme Endurance",spellcasting:!1}]):"Robby"===t?(l=["Trapfinding","Danger Sense"],i=[{id:6e3,actions:[],description:"At 1st level, a swashbuckler can spend 1 panache point when she makes an Acrobatics, Climb, Finesse, Animal Handling (Ride), or Swim check to roll 1d6 and add the result to the check. She can do this after she makes the check but before the result is revealed. If the result of the d6 roll is a natural 6, she rolls another 1d6 and adds it to the check. She can continue to do this as long as she rolls natural 6s, up to a number of times equal to her Dexterity modifier (minimum 1).",feature_levels:[{level:1}],feature_options:[],klass_id:2,name:"Deed - Derring-Do",spellcasting:!1},{id:6001,actions:[],description:"At 1st level, when an opponent attempts a melee attack against the swashbuckler, the swashbuckler can as an immediate action spend 1 panache point to move 5 feet; doing so grants the swashbuckler a dodge bonus to AC equal to her Charisma modifier (minimum 0) against the triggering attack. This movement doesn\u2019t negate the attack, which is still resolved as if the swashbuckler had not moved from the original square. This movement is not a 5-foot step; it provokes attacks of opportunity from creatures other than the one who triggered this deed. The swashbuckler can only perform this deed while wearing light or no armor, and while carrying no heavier than a light load.",feature_levels:[{level:1}],feature_options:[],klass_id:2,name:"Deed - Dodging Panache",spellcasting:!1},{id:6002,actions:[],description:"At 1st level, when an opponent makes a melee attack against the swashbuckler, she can spend 1 panache point and expend a use of an attack of opportunity to attempt to parry that attack. The swashbuckler makes an attack roll as if she were making an attack of opportunity; for each size category the attacking creature is larger than the swashbuckler, the swashbuckler takes a \u20132 penalty on this roll. If her result is greater than the attacking creature\u2019s result, the creature\u2019s attack automatically misses. The swashbuckler must declare the use of this ability after the creature\u2019s attack is announced, but before its attack roll is made. Upon performing a successful parry and if she has at least 1 panache point, the swashbuckler can as an immediate action make an attack against the creature whose attack she parried, provided that creature is within her reach. This deed\u2019s cost cannot be reduced by any ability or effect that reduces the number of panache points a deed costs.",feature_levels:[{level:1}],feature_options:[],klass_id:2,name:"Deed - Opportune Parry and Riposte",spellcasting:!1},{id:6003,actions:[],description:"At 3rd level, while the swashbuckler has at least 1 panache point, she can kip-up from prone as a move action without provoking an attack of opportunity. She can kip-up as a swift action instead by spending 1 panache point.",feature_levels:[{level:3}],feature_options:[],klass_id:2,name:"Deed - Kip-Up",spellcasting:!1},{id:6004,actions:[],description:"At 3rd level, while she has at least 1 panache point, when a swashbuckler hits an opponent with a light or one-handed piercing melee weapon, she can choose to use Intimidate to demoralize that opponent as a swift action instead of a standard action.",feature_levels:[{level:3}],feature_options:[],klass_id:2,name:"Deed - Meanacing Swordplay",spellcasting:!1},{id:6005,actions:[],description:"At 3rd level, while she has at least 1 panache point, a swashbuckler gains the ability to strike precisely with a light or one-handed piercing melee weapon (though not natural weapon attacks), adding her swashbuckler level to the damage dealt. To use this deed, a swashbuckler cannot attack with a weapon in her other hand or use a shield other than a buckler. She can even use this ability with thrown light or one-handed piercing melee weapons, so long as the target is within 30 feet of her. Any creature that is immune to sneak attacks is immune to the additional damage granted by precise strike, and any item or ability that protects a creature from critical hits also protects a creature from the additional damage of a precise strike. This additional damage is precision damage, and isn\u2019t multiplied on a critical hit. As a swift action, a swashbuckler can spend 1 panache point to double her precise strike\u2019s damage bonus on the next attack. This benefit must be used before the end of her turn, or it is lost. This deed\u2019s cost cannot be reduced by any ability or effect that reduces the amount of panache points a deed costs (such as the Signature Deed feat).",feature_levels:[{level:3}],feature_options:[],klass_id:2,name:"Deed - Precise Strike",spellcasting:!1},{id:6006,actions:[],description:"At 3rd level, while the swashbuckler has at least 1 panache point, she gains a +2 bonus on initiative checks. In addition, if she has the Quick Draw feat, her hands are free and unrestrained, and she has any single light or one-handed piercing melee weapon that isn\u2019t hidden, she can draw that weapon as part of the initiative check.",feature_levels:[{level:3}],feature_options:[],klass_id:2,name:"Deed - Swashbuckler Initiative",spellcasting:!1},{id:6007,actions:[],description:"Whenever she makes a successful melee attack with the selected weapon, she adds her Dexterity modifier instead of her Strength modifier to the damage roll. If any effect would prevent the rogue from adding her Strength modifier to the damage roll, she does not add her Dexterity modifier.",feature_levels:[{level:3}],feature_options:[],klass_id:3,name:"Finesse Training - Trident",spellcasting:!1},{id:6008,actions:[],description:"At 1st level, a pirate becomes adept at moving on ships, boats, and similar vessels. She gains the Sea Legs feat as a bonus feat, even if she does not meet the prerequisites.",feature_levels:[{level:1}],feature_options:[],klass_id:3,name:"Sea Legs",spellcasting:!1},{id:6009,actions:[],description:"At 2nd level, a pirate incorporates a ship\u2019s masts, rigging, ropes, sails, and other such structures into her combat style. Provided she is wearing light armor or no armor, when fighting in an environment where such structures exist, the rogue incorporates them into her movement, and does not have to move in a straight line when making either a charge attack or bull rush combat maneuver. Once she completes her attack or maneuver, she can reposition herself. Immediately after making the charge or bull rush, she can move 5 feet as a free action, even if the charge ends her turn. This movement does not provoke attacks of opportunity.",feature_levels:[{level:2}],feature_options:[],klass_id:3,name:"Swinging Reposition",spellcasting:!1},{id:6010,actions:[],description:"Pirates are a salty and steadfast lot. At 3rd level, a pirate gains a +1 bonus on saving throws against fear and mind-affecting effects. This bonus increases by +1 for every three levels, to a maximum of +6 at 18th level.",feature_levels:[{level:3}],feature_options:[],klass_id:3,name:"Unflinching",spellcasting:!1},{id:6011,actions:[],description:"Needs to be picked",feature_levels:[{level:4}],feature_options:[],klass_id:3,name:"Rogue Talent - None",spellcasting:!1}]):"Fire-Roasted Tomatoes"===t?(l=["Trapfinding","Sneak Attack"],i=[{id:7e3,actions:[],description:"Element(s) fire; Type utility (Sp)\n\nLevel 1; Burn 0\n\nYou can use your inner flame to reproduce the effects of a flare, light, or spark cantrip, except that the ligh t you create with ligh t produces heat like a normal flame; using any of the three abilities ends any previous ligh t effect from this wild talent.",feature_levels:[{level:1}],feature_options:[],klass_id:9,name:"Basic Pyrokinesis",features:[],associated_spells:[{name:"Flare",id:221},{name:"Light",id:5},{name:"Spark",id:98}]},{id:7001,actions:[],description:"Element(s) fire; Type simple blast (Sp); Level \u2014; Burn 0\n\nBlast Type: energy; Damage fire\n\nYou unleash a gout of flickering fire to burn a single foe.",feature_levels:[{level:1}],feature_options:[],klass_id:9,name:"Fire Blast",features:[],associated_spells:[]},{id:7002,actions:[],description:"Element(s) fire; Type defense (Su); Level \u2014; Burn 0\n\nYour body becomes painfully hot. Whenever a creature hits you with a natural attack or an unarmed strike, that creature takes 1 point of fire damage per 4 kineticist levels you possess (minimum 1 point of fire damage). A creature in a grapple with you takes double this amount of damage at the end of each of its turns.\n\nWeapons that strike you also take this damage, though the damage is unlikely to penetrate the weapon\u2019s hardness. By accepting 1 point of burn, you can increase this damage by 1 point per 4 kineticist levels you possess until the next time your burn is removed. You can increase the damage in this way up to seven times.\n\nWhenever you accept burn while using a fire wild talent, the surging flame causes your searing flesh to deal double its current amount of damage for 1 round (a creature in a grapple with you takes a total of four times as much damage as normal). You can dismiss or restore this effect as an immediate action.",feature_levels:[{level:1}],feature_options:[],klass_id:9,name:"Searing Flesh",features:[],associated_spells:[]},{id:7003,actions:[],description:"Element(s) fire; Type substance infusion; Level 1; Burn 1\n\nAssociated Blasts blue flame, fire, magma, plasma\n\nSaving Throw Reflex negates\n\nYour kinetic blast ignites your foes. Whenever an infused blast hits a foe and penetrates its spell resistance, that foe catches on fire, regardless of whether it takes damage. A foe that catches fire takes 1d6 points of fire damage each round until the fire is extinguished. Against a creature on fire from this infusion, any fire kinetic blasts gain a +2 bonus on attack rolls, to DCs, and on caster level checks to overcome spell resistance.",feature_levels:[{level:1}],feature_options:[],klass_id:9,name:"Infusion - Burning Infusion",features:[],associated_spells:[]},{id:7004,actions:[],description:"Element fire, water; Type utility (Sp); Level 1; Burn 0\n\nYou are constantly protected by endure elements against hot temperatures only. You gain an amount of fire resistance equal to twice your current amount of burn.",feature_levels:[{level:1}],feature_options:[],klass_id:9,name:"Utility Talent - Heat Adaptation",features:[],associated_spells:[]}]):"Majestik"===t?(l=["Witch's Familiar"],i=[{id:8e3,actions:[],description:"The target takes a \u20132 penalty on one of the following (witch\u2019s choice): AC, ability checks, attack rolls, saving throws, or skill checks. This hex lasts for a number of rounds equal to 3 + the witch\u2019s Intelligence modifier. A Will save reduces this to just 1 round.\n\nThis is a mind-affecting effect. At 8th level the penalty increases to \u20134.",feature_levels:[{level:1}],feature_options:[],klass_id:9,name:"Hex: Evil Eye",features:[],associated_spells:[]},{id:8001,actions:[],description:"Each cartomancer carries a special harrow deck that allows her to communicate with her patron. Its ability to hold spells functions identically to the way a witch\u2019s spells are granted by her familiar. The cartomancer must consult her harrow deck each day to prepare her spells and cannot prepare spells that are not stored in the deck. The spell deck cannot be used for this purpose if any cards are missing.\n\nThis ability replaces the witch\u2019s familiar.",feature_levels:[{level:1}],feature_options:[],klass_id:9,name:"Spell Deck",features:[],associated_spells:[]},{id:8002,actions:[],description:"At 2nd level, a cartomancer gains the Deadly Dealer feat as a bonus feat, even if she does not meet the prerequisites. The cartomancer gains the benefits of the Arcane Strike feat, but only for the purposes of using Deadly Dealer.\n\nThis replaces the witch\u2019s 2nd-level hex.\n\nYou can throw a card as though it were a dart, with the same damage, range, and other features. You must use the Arcane Strike feat when throwing a card in this way, or else the card lacks the magical force and precision to deal lethal damage. A card is destroyed when thrown in this way.\n\nHarrow cards are treated as masterwork weapons when thrown using this feat, but are still destroyed after they are thrown. A harrow deck can no longer be used as a fortune-telling device after even a single card is thrown.\n\nA spellcaster with this feat can enhance a deck of cards as though it were a ranged weapon with 54 pieces of ammunition. This enhancement functions only when used in tandem with this feat, and has no affect on any other way the cards might be used.\n\nOnly a character who possesses this feat can use an enhanced deck of cards; she must still use the Arcane Strike feat to activate the cards\u2019 enhancement.",feature_levels:[{level:2}],feature_options:[],klass_id:9,name:"Deadly Dealer",features:[],associated_spells:[]}]):"Ildre"===t?(l=[],i=[{id:9e3,actions:[],description:"The arcanist can expend 1 point from her arcane reservoir to create a dimensional crack that she can step through to reach another location. This ability is used as part of a move action or withdraw action, allowing her to move up to 10 feet per arcanist level to any location she can see. This counts as 5 feet of movement. She can only use this ability once per round. She does not provoke attacks of opportunity when moving in this way, but any other movement she attempts as part of her move action provokes as normal.",feature_levels:[{level:1}],feature_options:[],klass_id:13,name:"Arcanist Exploit - Dimensional Slide",features:[],associated_spells:[]}]):"Iyugi"===t?(l=[],i=[{id:1e4,actions:[],description:"A rogue that selects this talent gains a bonus combat feat.\n\nTwo-Weapon Fighting\n\nYour penalties on attack rolls for fighting with two weapons are reduced. The penalty for your primary hand lessens by 2 and the one for your off hand lessens by 6.",feature_levels:[{level:2}],feature_options:[],klass_id:13,name:"Rogue Talent - Combat Trick - Two-Weapon Fighting",features:[],associated_spells:[]}]):"Dz'eyn"===t&&(l=[],i=[{id:1e4,actions:[],description:"The slayer selects a ranger combat style (such as archery or two-weapon combat) and gains a combat feat from the first feat list of that style. He can choose feats from his selected combat style, even if he does not have the normal prerequisites. At 6th level, he may select this talent again and add the 6th-level ranger combat feats from his chosen style to the list. At 10th level, he may select this talent again and add the 10th-level ranger combat feats from his chosen style to the list.\n\nThrown Weapon\n\nPrecise Shot\n\nYou can shoot or throw ranged weapons at an opponent engaged in melee without taking the standard \u20134 penalty on your attack roll. Note: Two characters are engaged in melee if they are enemies of each other and either threatens the other.",feature_levels:[{level:2}],feature_options:[],klass_id:13,name:"Slayer Talent - Ranger Combat Style - Thrown Style - Precise Shot",features:[],associated_spells:[]}]),n=a.filter((function(t){var a=e.props.character.uniq_klasses.find((function(e){return e.id===t.klass_id})),n=t.name;return a&&"Weapon and Armor Proficiency"===t.name&&(n="".concat(t.name," - ").concat(a.name)),!l.includes(n)})),i.forEach((function(e){return n.push(e)})),n},e}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{style:{padding:"1em"},className:"false"===localStorage.computer?"mobile-tab-selected-tab-container shadow":"none"},this.renderClassFeatures())}}]),a}(r.a.Component),pi=Object(h.b)((function(e){return{currentUser:e.currentUser,admin:e.admin,character:e.character,character_info:e.character_info,classes:e.classes}}))(hi),fi=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,l=new Array(n),i=0;i<n;i++)l[i]=arguments[i];return(e=t.call.apply(t,[this].concat(l))).state={activeTrait:0},e.changeActiveFeature=function(t){var a=Z.a.parseInt(t.target.dataset.id);e.state.activeTrait===a?e.setState({activeTrait:0}):e.setState({activeTrait:a})},e.renderRacialTraits=function(){var t=e.props.character.race.racial_traits;return t=e.circumventTraits(e.props.character.name,t),(t=e.alternateTraits(t,e.props.character.alternate_racial_traits)).map((function(t,a){var n,l=t.description;if(null===(n=t.associated_spells)||void 0===n?void 0:n.length){var i=t.associated_spells;i.length&&(l=He(l,i,e.renderSpellClick))}return r.a.createElement("li",{"data-id":3*a+1,onClick:function(){return P("generic",t,{name:t.name})},className:"highlight mobile-selected-tab-content",style:{maxHeight:.4*window.outerHeight}},r.a.createElement("strong",{"data-id":3*a+1},t.name))}))},e.renderSpellClick=function(e){P("spellDescription",e)},e.alternateTraits=function(e,t){var a=[];return e.forEach((function(e){var n=!1;t.forEach((function(t){t.alternate_trait_replace_racial_traits.forEach((function(t){t.racial_trait_id===e.id&&(n=!0)}))})),n||a.push(e)})),a=[].concat(Object(S.a)(a),Object(S.a)(t))},e.circumventTraits=function(e,t){var a=[],n=[],l=[];return"Persephone"===e&&(n=["Green Widow","Hulking Changeling","Sea Lungs"],l=[{id:1e3,name:"Object of Desire",description:r.a.createElement("div",null,"The changeling adds +1 to her caster level when casting ",r.a.createElement("em",null,"charm person")," and ",r.a.createElement("em",null,"charm monster"),".")}]),"Cedrick"===e&&(n=["Swamp Stride"],l=[{id:2e3,name:"Glider",description:"Gripplis\u2019 aerodynamic bodies and thick webbing between the toes enable a falling grippli to treat the distance fallen as half the actual distance. The grippli can steer himself while falling, moving horizontally up to a number of feet equal to half the vertical distance fallen. The grippli cannot use this trait if it is wearing heavy armor, is carrying a heavy load, or is unable to react to the fall (such as being helpless)."}]),"Maddox"===e&&(n=["Shards of the Past"],l=[{id:3e3,name:"Mystic Past Life",description:r.a.createElement("span",null,"You can add spells from another spellcasting class to the spell list of your current spellcasting class. You add a number of spells equal to 1 + your spellcasting class\u2019s key ability score bonus (Wisdom for clerics, and so on). The spells must be the same type (arcane or divine) as the spellcasting class you\u2019re adding them to. These spells do not have to be spells you can cast as a 1st-level character. The number of spells granted by this ability is set at 1st level. Changes to your ability score do not change the number of spells gained.",r.a.createElement("p",null,r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("em",null,"Lay of the Land")),r.a.createElement("li",null,r.a.createElement("em",null,"Kiss of the First World")),r.a.createElement("li",null,r.a.createElement("em",null,"Mass Cure Light Wounds")),r.a.createElement("li",null,r.a.createElement("em",null,"Music of the Spheres")),r.a.createElement("li",null,r.a.createElement("em",null,"Mass Cure Moderate Wounds")))))}]),"Grackle"===e&&(n=["Fiendish Sorcery","Spell-like Ability","Fiendish Resistance"],l=[{id:4e3,name:"Soul Seer",description:r.a.createElement("span",null,"Rare tieflings have a peculiar sight that allows them to see the state of a creature\u2019s soul. They can use ",r.a.createElement("em",null,"deathwatch")," at will as spell-like ability.")},{id:4001,name:"Scaled Skin",description:r.a.createElement("span",null,"The skin of these tieflings provides some energy resistance, but is also as hard as armor. Choose one of the following energy types: cold, electricity, or ",r.a.createElement("strong",null,"fire"),". A tiefling with this trait gains resistance 5 in the chosen energy type and also gains a +1 natural armor bonus to AC.")}]),a=t.filter((function(e){return!n.includes(e.name)})),l.forEach((function(e){return a.push(e)})),a},e}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{style:{padding:"1em"},className:"false"===localStorage.computer?"mobile-tab-selected-tab-container shadow":"none"},this.renderRacialTraits())}}]),a}(r.a.Component),gi=Object(h.b)((function(e){return{character:e.character}}))(fi),bi=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,l=new Array(n),i=0;i<n;i++)l[i]=arguments[i];return(e=t.call.apply(t,[this].concat(l))).state={activeFeat:0},e.changeActiveFeature=function(t){e.state.activeFeat===t?e.setState({activeFeat:0}):e.setState({activeFeat:t})},e.renderDescription=function(e){return(e=e.split("\n\n")).map((function(e){return r.a.createElement("p",{key:Z.a.random(1,2e6)},e)}))},e.renderFeats=function(){var t=[];switch(e.props.character.name){case"Nettie":t=e.nettie();break;case"Cedrick":t=e.cedrick();break;case"Persephone":t=e.pepper();break;case"Maddox":t=e.maddox();break;case"Merg":t=e.merg();break;case"Robby":t=e.robby();break;case"Festus":t=e.festus();break;case"Grackle":t=e.grackle();break;case"Majestik":t=e.majestik();break;case"Ildre":t=e.ildre();break;case"Fire-Roasted Tomatoes":t=e.fireRoastedTomatoes();break;case"Iyugi":t=e.iyugi();break;case"Natesse":t=e.natesse();break;case"Dz'eyn":t=e.dzeyn()}return(t=[].concat(Object(S.a)(e.props.character.character_klasses.filter((function(e){return e.feat})).map((function(e){return e.feat}))),Object(S.a)(t))).map((function(e){return r.a.createElement("li",{onClick:function(){return P("feat",e,{name:e.name})},className:"highlight mobile-selected-tab-content",style:{maxHeight:.4*window.outerHeight}},r.a.createElement("strong",{"data-id":e.id},e.name))}))},e.nettie=function(){return[{id:1001,description:"You can prepare for future contingencies without defining what those preparations are until they are relevant. As a part of this preparation, while in a settlement for at least 24 hours, you can take 8 hours and spend up to 50 gp per character level, which becomes your brilliant plan fund. While you have a brilliant plan pending, you are always treated as carrying 20 additional pounds of weight, even before you define your brilliant plan.\n\nOnce per day, you can take 10 minutes to enact a brilliant plan, withdrawing an item that would have been available in a settlement you visited or procuring a mundane service that your character planned ahead of time. Once you enact the plan, subtract the price of the item or service from this feat\u2019s fund. Any item procured must weigh 10 pounds or less. Likewise, the GM must approve any non-magical service you gain by using this feat as being appropriate for the location selected.\n\nOnce you have spent all the money in your brilliant plan fund or procured 20 pounds of objects with this feat, you cannot use the feat again until you replenish your brilliant plan fund.",name:"Brilliant Planner"},{id:1002,description:"Add one spell from your class\u2019s spell list to your list of spells known. This is in addition to the number of spells normally gained at each new level in your class. You may instead add two spells from your class\u2019s spell list to your list of spells known, but both of these spells must be at least one level lower than the highest level spell you can cast in that class. Once made, these choices cannot be changed.",name:"Expanded Arcana"},{id:1003,description:"The bonuses and penalties from your bardic performance continue for 2 rounds after you cease performing. Any other requirement, such as range or specific conditions, must still be met for the effect to continue. If you begin a new bardic performance during this time, the effects of the previous performance immediately cease.",name:"Lingering Performance"},{id:1004,description:"Add +1 to the Difficulty Class for all saving throws against spells from the school of magic you select.",name:"Spell Focus (conjuration)"}]},e.cedrick=function(){return[{id:2e3,description:"You gain +3 hit points. For every Hit Die you possess beyond 3, you gain an additional +1 hit point. If you have more than 3 Hit Dice, you gain +1 hit points whenever you gain a Hit Die (such as when you gain a level).",name:"Toughness"},{id:2001,description:"You make attack rolls with simple weapons without penalty.",name:"Simple Weapon Proficiency"},{id:2002,description:"You can choose to take a \u20131 penalty on all melee attack rolls and combat maneuver checks to gain a +2 bonus on all melee damage rolls. This bonus to damage is increased by half (+50%) if you are making an attack with a two-handed weapon, a one handed weapon using two hands, or a primary natural weapon that adds 1-1/2 times your Strength modifier on damage rolls. This bonus to damage is halved (\u201350%) if you are making an attack with an off-hand weapon or secondary natural weapon. When your base attack bonus reaches +4, and every 4 points thereafter, the penalty increases by \u20131 and the bonus to damage increases by +2. You must choose to use this feat before making an attack roll, and its effects last until your next turn. The bonus damage does not apply to touch attacks or effects that do not deal hit point damage.",name:"Power Attack"},{id:2003,description:"You do not provoke an attack of opportunity when performing a bull rush combat maneuver. In addition, you receive a +2 bonus on checks made to bull rush a foe. You also receive a +2 bonus to your Combat Maneuver Defense whenever an opponent tries to bull rush you.",name:"Improved Bull Rush"},{id:2004,description:"You gain a +1 bonus on all attack rolls you make using the selected weapon.",name:"Weapon Focus (shifter claws)"}]},e.pepper=function(){return[{id:3e3,description:"You gain a +1 dodge bonus to your AC. A condition that makes you lose your Dex bonus to AC also makes you lose the benefits of this feat.",name:"Dodge"},{id:3001,description:"As a swift action, you can imbue your weapons with a fraction of your power. For 1 round, your weapons deal +1 damage and are treated as magic for the purpose of overcoming damage reduction. For every five caster levels you possess, this bonus increases by +1, to a maximum of +5 at 20th level.",name:"Arcane Strike"},{id:3002,description:"You get a +1 bonus on attack and damage rolls with ranged weapons at ranges of up to 30 feet.",name:"Point-Blank Shot"}]},e.maddox=function(){return[{id:4e3,description:"You get a +4 bonus on initiative checks.",name:"Improved Initiative"},{id:4001,description:"You get a +2 bonus on caster level checks (1d20 + caster level) made to overcome a creature\u2019s spell resistance.",name:"Spell Penetration"},{id:4002,description:"You get a +2 bonus on caster level checks (1d20 + caster level) made to overcome a creature\u2019s spell resistance. This bonus stacks with the one from Spell Penetration.",name:"Greater Spell Penetration"},{id:4003,description:"You can react to danger before your senses would normally allow you to do so. You cannot be caught flat-footed, nor do you lose your Dex bonus to AC if the attacker is invisible. You still loses your Dexterity bonus to AC if immobilized. You can still lose her Dexterity bonus to AC if an opponent successfully uses the feint action against you.",name:"Uncanny Timing"}]},e.merg=function(){return[{id:5e3,description:"You can choose to take a \u20131 penalty on all melee attack rolls and combat maneuver checks to gain a +2 bonus on all melee damage rolls. This bonus to damage is increased by half (+50%) if you are making an attack with a two-handed weapon, a one handed weapon using two hands, or a primary natural weapon that adds 1-1/2 times your Strength modifier on damage rolls. This bonus to damage is halved (\u201350%) if you are making an attack with an off-hand weapon or secondary natural weapon. When your base attack bonus reaches +4, and every 4 points thereafter, the penalty increases by \u20131 and the bonus to damage increases by +2. You must choose to use this feat before making an attack roll, and its effects last until your next turn. The bonus damage does not apply to touch attacks or effects that do not deal hit point damage.",name:"Power Attack"},{id:5001,description:"Your penalties on attack rolls for fighting with two weapons are reduced. The penalty for your primary hand lessens by 2 and the one for your off hand lessens by 6.",name:"Two-Weapon Fighting"},{id:5002,description:"If you are dying and a creature gives you at least a sip of alcohol (a standard action for an adjacent creature), you immediately stabilize.",name:"Drunkard's Recovery"},{id:5003,description:"You gain a +1 bonus on all attack rolls you make using the selected weapon.",name:"Weapon Focus (Orc Double-Axe)"}]},e.robby=function(){return[{id:6e3,description:"With a light weapon, elven curve blade, rapier, whip, or spiked chain made for a creature of your size category, you may use your Dexterity modifier instead of your Strength modifier on attack rolls. If you carry a shield, its armor check penalty applies to your attack rolls.",name:"Weapon Finesse"},{id:6001,description:r.a.createElement("span",null,"You gain a new spell-like ability, each usable twice per day, from the following list, in order: ",r.a.createElement("em",{className:"underline-hover",onClick:function(){return e.props.editModal("spell",null,55)}},"disguise self"),", ",r.a.createElement("em",{className:"underline-hover",onClick:function(){return e.props.editModal("spell",null,1)}},"charm person"),", ",r.a.createElement("em",{className:"underline-hover",onClick:function(){return e.props.editModal("spell",null,47)}},"misdirection"),", ",r.a.createElement("em",{className:"underline-hover",onClick:function(){return e.props.editModal("spell",null,16)}},"invisibility"),", ",r.a.createElement("em",{className:"underline-hover",onClick:function(){return e.props.editModal("spell",null,1)}},"suggestion"),", displacement, confusion, ",r.a.createElement("em",{className:"underline-hover",onClick:function(){return e.props.editModal("spell",null,29)}},"dominate person"),". Your caster level for these spells is equal to your Hit Dice. The DCs for these abilities are Charisma-based."),name:"Magical Tails"},{id:6002,description:"You make attack rolls with the weapon normally.",name:"Exotic Weapon Proficiency - Net"},{id:6003,description:"You can draw a weapon as a free action instead of as a move action. You can draw a hidden weapon (see the Sleight of Hand skill) as a move action. A character who has selected this feat may throw weapons at his full normal rate of attacks (much like a character with a bow). Alchemical items, potions, scrolls, and wands cannot be drawn quickly using this feat.",name:"Quick Draw"},{id:6004,description:"You gain a +2 bonus on Acrobatics, Climb, and Swim checks.",name:"Sea Legs"}]},e.festus=function(){return[{id:7e3,description:"While you are wearing light or no armor, your base speed increases by 5 feet. You lose the benefits of this feat if you carry a medium or heavy load.",name:"Fleet"},{id:7001,description:"You gain a +1 dodge bonus to your AC. A condition that makes you lose your Dex bonus to AC also makes you lose the benefits of this feat.",name:"Dodge"}]},e.grackle=function(){return[{id:8e3,description:"You do not suffer any penalties for using an improvised ranged weapon. You receive a +1 circumstance bonus on attack rolls made with thrown splash weapons.",name:"Throw Anything"},{id:8001,description:"You gain one additional discovery. You must meet all of the prerequisites for this discovery.",name:"Extra Discovery"},{id:8002,description:"You get a +1 bonus on attack and damage rolls with ranged weapons at ranges of up to 30 feet.",name:"Point-Blank Shot"},{id:8003,description:"You can shoot or throw ranged weapons at an opponent engaged in melee without taking the standard \u20134 penalty on your attack roll.",name:"Precise Shot"},{id:8004,description:"You get a +4 bonus on initiative checks.",name:"Improved Initiative"}]},e.majestik=function(){return[{id:9e3,description:"You get a +1 bonus on all Will saves made to resist enchantment effects. Once per day, you may draw a card from a Harrow deck you own. At any one time for the rest of that day, you may apply a +2 bonus on any d20 roll modified by the card\u2019s suit. For example, if you drew a card from the suit of Dexterity, you could apply this +2 bonus on an Initiative check, a Reflex save, a Dexterity-based skill check, or a ranged attack roll. You may assign this +2 bonus after you make the roll, but you must do so before you know whether the roll was a success or not.",name:"Harrowed"}]},e.ildre=function(){return[{id:10001,benefit:"Each time you cast a summoning spell that conjures more than one creature, add one to the total number of creatures summoned.",prerequisites:"Augment Summoning, caster level 3rd.",blurb:"You can summon more creatures.",name:"Superior Summoning"}]},e.fireRoastedTomatoes=function(){return[]},e.iyugi=function(){return[]},e.natesse=function(){return[]},e.dzeyn=function(){return[]},e}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{style:{padding:"1em"},className:"false"===localStorage.computer?"mobile-tab-selected-tab-container shadow":"none"},this.renderFeats())}}]),a}(r.a.Component),vi=Object(h.b)((function(e){return{character:e.character}}))(bi),yi=function(e){var t=Object(h.d)((function(e){return e.character})).name;return r.a.createElement("div",{style:{padding:"1em"},className:"false"===localStorage.computer?"mobile-tab-selected-tab-container shadow":"none"},function(){var e=[];switch(t){case"Iyugi":e.push({name:"Reactionary",description:"You were bullied often as a child, but never quite developed an offensive response. Instead, you became adept at anticipating sudden attacks and reacting to danger quickly. You gain a +2 trait bonus on initiative checks."}),e.push({name:"Extremely Fashionable",description:"You really know how to make a good impression when you\u2019re dressed well. Whenever you are wearing clothing and/or jewelry worth at least 150 gp (and not otherwise covered in gore, sewage, or other things that mar your overall look), you gain a +1 trait bonus on Bluff, Diplomacy, and Intimidate checks. One of these skills (your choice) is a class skill for you."});break;case"Natesse":e.push({name:"Magical Lineage",description:"One of your parents was a gifted spellcaster who not only used metamagic often, but also developed many magical items and perhaps even a new spell or two\u2014and you have inherited a fragment of this greatness. Pick one spell when you choose this trait. When you apply metamagic feats to this spell that add at least 1 level to the spell, treat its actual level as 1 lower for determining the spell\u2019s final adjusted level."}),e.push({name:"Nanite Revival",description:"You can instinctively activate your nanites to save your life. Once per day as an immediate action, you can command your nanites to stabilize you while you are dying, even while unconscious or helpless. This does not count as a use of your nanite surge ability."})}return e.map((function(e,t){return r.a.createElement("li",{"data-id":3*t+1,onClick:function(){return P("generic",e,{name:e.name})},className:"highlight mobile-selected-tab-content",style:{maxHeight:.4*window.outerHeight}},r.a.createElement("strong",{"data-id":3*t+1},e.name))}))}())},Ei=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h4",{style:{marginTop:"0.7em",marginBottom:"0.5em"}},"Class Features"),r.a.createElement(pi,{editModal:e.editModal}),r.a.createElement("h4",{style:{marginTop:"0.7em",marginBottom:"0.5em"}},"Ancestral Traits"),r.a.createElement(gi,null),r.a.createElement("h4",{style:{marginTop:"0.7em",marginBottom:"0.5em"}},"Feats"),r.a.createElement(vi,null),r.a.createElement("h4",{style:{marginTop:"0.7em",marginBottom:"0.5em"}},"Character Traits"),r.a.createElement(yi,null))},ki=function(e){var t=e.item,a=e.index,n=e.group;return r.a.createElement(r.a.Fragment,null,function(){var l,i,o,c;console.log("specific item in equipment tab",e);var s=n;s="Wondrous Item"===n||"Magic Item"===n?"magic_item":s;var u=!!("Magic Item"!==n&&"Potion"!==n&&"Scroll"!==n&&"Wand"!==n||t.known),d=u?t.name||(null===(l=t[s.toLowerCase()])||void 0===l?void 0:l.name)||(null===t||void 0===t||null===(i=t.spell)||void 0===i?void 0:i.name):null!==(o=t.false_desc)&&void 0!==o?o:"Unknown";t.masterwork&&!t.name&&(d="mwk "+d),t.potion_or_oil&&u&&(d="".concat(Z.a.capitalize(t.potion_or_oil)," of ").concat(t.spell.name)),t.scroll_type&&u&&(d="Scroll of ".concat(t.spell.name)),t.charges&&u&&(d=t.name||"Wand of ".concat(t.spell.name));var m=u&&(null===(c=t[s])||void 0===c?void 0:c.features)?function(e){var t=e.features.find((function(e){return e.usage}));if(t){var a=t.usage,n=a.limit;if(1===n&&a.destroy_after_use||1e3===n)return null;var r=((void 0).props.character.character_magic_item_feature_usages.find((function(e){return e.feature_usage_id===a.id}))||0).current_usage||0;return" (".concat(n-r,"/").concat(n,")")}return null}(t[s]):null;t.equipped,function(e,t){"magic_item"===t&&e.stored_character_magic_item}(t,s),t.id;return r.a.createElement("tr",{key:a*t.id*3-1,onClick:function(){return e.changeSelectedItem(t.id,n.toLowerCase(),t)}},r.a.createElement("td",null,d," ",m),r.a.createElement("td",null,n),r.a.createElement("td",null,"0 lbs"),r.a.createElement("td",null,"0 gp"))}())},wi=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,l=new Array(n),i=0;i<n;i++)l[i]=arguments[i];return(e=t.call.apply(t,[this].concat(l))).state={activeItemGroup:null,itemObject:null,descriptionAvailable:!1},e.changeActiveFeature=function(t){e.state.activeItemGroup===t?e.setState({activeItemGroup:null}):e.setState({activeItemGroup:t,descriptionAvailable:!1})},e.changeSelectedItem=function(t,a,n){if(e.props.cmidId===t)e.props.exitModal();else{var r,l,i="magicItem";i="weapon"===a?"weapon":i,i="armor"===a?"armor":i,i="poison"===a?"poison":i,i="potion"===a?"potion":i,i="scroll"===a?"scroll":i,i="wand"===a?"wand":i,i=["unknown","weapon","armor","harrow","magic item","Wondrous Item","poison","potion","scroll","wand"].includes(a)?i:"item",P(i,n,{name:n.name||(null===(r=n.weapon)||void 0===r?void 0:r.name)||(null===(l=n.armor)||void 0===l?void 0:l.name)||null})}},e.renderEquipment=function(){var t=e.props.character.character_magic_items.filter((function(e){return e.discovered})),a=e.props.character.character_weapons.filter((function(e){return e.discovered})),n=e.props.character.character_armors.filter((function(e){return e.discovered})),l=(a.map((function(e){return e.weapon})),e.props.character.items),i=Z.a.uniq(l.map((function(e){return e.category}))),o=Object(S.a)(t),c=(e.props.character.character_magic_item_feature_usages,o.filter((function(e){return!e.known}))),s=o.filter((function(e){return e.known})).map((function(e){return e.magic_item})),u=Z.a.uniq(s.map((function(e){return e.group})));return c.length&&u.push("unknown"),a.length&&u.push("weapon"),n.length&&u.push("armor"),u=[].concat(Object(S.a)(u),Object(S.a)(i)),"Majestik"===e.props.character.name&&u.push("harrow"),u.map((function(i,o){if("harrow"===i)return r.a.createElement("div",null,r.a.createElement("strong",{onClick:function(){return P("harrow",{})}},"Harrow Deck"));var s=t.filter((function(e){return e.magic_item.group===i}));s="unknown"===i?c:s,s="weapon"===i?a:s,s="armor"===i?n:s,"weapon"===i&&(s=s.filter((function(e){return"Unarmed"!==e.weapon.name}))),s.length||(s=l.filter((function(e){return e.category===i})));var u=e.state.activeItemGroup===i,d=["unknown","weapon","armor","harrow"].includes(i)?i+"s":i;return r.a.createElement("div",{key:6*o-1,label:d},r.a.createElement("div",{key:3*o-1,onClick:function(){return e.changeActiveFeature(i)}},r.a.createElement("strong",null,Z.a.capitalize(d)," (",s.length,")")),u&&r.a.createElement("ul",{style:{margin:"0",padding:"0"}},s.map((function(t,a){return r.a.createElement(ki,{item:t,index:a,group:i,changeSelectedItem:e.changeSelectedItem})}))))}))},e.renderEquipmentList=function(){var t=[],a=e.props.character.character_magic_items.filter((function(e){return e.discovered})),n=e.props.character.character_potions.filter((function(e){return e.discovered})),l=e.props.character.character_scrolls.filter((function(e){return e.discovered})),i=e.props.character.character_wands.filter((function(e){return e.discovered})),o=e.props.character.character_weapons.filter((function(e){return e.discovered})),c=e.props.character.character_armors.filter((function(e){return e.discovered}));a.forEach((function(e){t.push(Object(j.a)(Object(j.a)({},e),{},{category:"Magic Item"}))})),n.forEach((function(e){t.push(Object(j.a)(Object(j.a)({},e),{},{category:"Potion"}))})),l.forEach((function(e){t.push(Object(j.a)(Object(j.a)({},e),{},{category:"Scroll"}))})),i.forEach((function(e){t.push(Object(j.a)(Object(j.a)({},e),{},{category:"Wand"}))})),o.forEach((function(e){"Unarmed"!==e.weapon.name&&t.push(Object(j.a)(Object(j.a)({},e),{},{category:"Weapon"}))})),"Majestik"===e.props.character.name&&t.push({category:"harrow"}),c.forEach((function(e){t.push(Object(j.a)(Object(j.a)({},e),{},{category:"Armor"}))})),t=[].concat(Object(S.a)(t),Object(S.a)(e.props.character.items)),e.props.character.poisons.forEach((function(e){t.push(Object(j.a)(Object(j.a)({},e),{},{category:"Poison"}))}));var s=t.map((function(t,a){return"harrow"===t.category?r.a.createElement("div",{onClick:function(){return P("harrow",{})}},"Harrow Deck"):r.a.createElement(ki,{item:t,index:a,group:t.category,changeSelectedItem:e.changeSelectedItem})}));return r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"Category"),r.a.createElement("th",null,"Weight"),r.a.createElement("th",null,"Cost"))),r.a.createElement("tbody",null,s))},e.renderCurrency=function(){var t=e.props.character,a=t.pp,n=t.gp,l=t.sp,i=t.cp,o=10*a+n+.1*l+.01*i;return r.a.createElement("header",{style:{display:"flex",justifyContent:"space-between"}},r.a.createElement("span",null,r.a.createElement("strong",null,"Money"),": ",o.toFixed(2)," gp ",r.a.createElement("small",null,r.a.createElement("em",null,"(",null!==a&&void 0!==a?a:0," pp, ",null!==n&&void 0!==n?n:0," gp, ",null!==l&&void 0!==l?l:0," sp, ",null!==i&&void 0!==i?i:0," cp)"))),r.a.createElement("button",{onClick:function(){return P("currency",null,{name:"Currency"})}},"Manage"))},e.renderCarryWeight=function(){var t=Hl(e.props.character,e.props.character_info),a=ql($t("strength")),n=Wl(t,$t("strength"));return r.a.createElement("footer",{style:{display:"flex",justifyContent:"space-between",position:"sticky",bottom:"-5px",opacity:"0.95",backgroundColor:"#".concat(e.props.settings.bubbleColor),padding:"5px"}},r.a.createElement("div",null,r.a.createElement("strong",null,"Carrying"),": ",t," lbs (",r.a.createElement("em",null,n," Load"),")"),r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{style:{textAlign:"center",borderRight:"1px solid #".concat(e.props.settings.borderColor)}},"Light"),r.a.createElement("th",{style:{textAlign:"center",borderRight:"1px solid #".concat(e.props.settings.borderColor)}},"Medium"),r.a.createElement("th",{style:{textAlign:"center"}},"Heavy"))),r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",{style:{borderRight:"1px solid #".concat(e.props.settings.borderColor)}},a[0]," lbs or less"),r.a.createElement("td",{style:{borderRight:"1px solid #".concat(e.props.settings.borderColor)}},a[0]+1," - ",a[1]," lbs"),r.a.createElement("td",null,a[1]+1," - ",a[2]," lbs")))))},e}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,this.renderCurrency(),r.a.createElement("div",{style:{padding:"1em",display:"grid",gridTemplateColumns:"auto"},className:"false"===localStorage.computer?"mobile-tab-selected-tab-container mobile-tab-bottom shadow":"none"},this.renderEquipmentList()),r.a.createElement("button",{onClick:function(){return P("addEquipment",null,{name:"Add Equipment"})}},"Add Equipment"),this.renderCarryWeight())}}]),a}(r.a.Component),_i=Object(h.b)((function(e){return{character:e.character,character_info:e.character_info,settings:e.settings}}))(wi),Ci=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("span",{className:"tab-list dynamic-size-small"},r.a.createElement(il,{label:"Features/Traits/Feats",renderTabClick:this.props.renderTabClick,activeTab:this.props.activeTab}),r.a.createElement(il,{label:"Equipment",renderTabClick:this.props.renderTabClick,activeTab:this.props.activeTab}),r.a.createElement(il,{label:"Details",renderTabClick:this.props.renderTabClick,activeTab:this.props.activeTab}),!!this.props.alliedCreaturesTab&&r.a.createElement(il,{label:"Allied Creatures",renderTabClick:this.props.renderTabClick,activeTab:this.props.activeTab}))}}]),a}(r.a.Component),Si=Ci,Oi=function(e){var t=Object(h.d)((function(e){return e.character})).character_creatures,a=Object(h.d)((function(e){return e.character_info.summonedAllies})),n=function(e){var t=Object(S.a)(a);t.splice(e,1),ue("summonedAllies",t)};return r.a.createElement("section",null,t.filter((function(e){return"familiar"===e.relationship})).map((function(e){return r.a.createElement("p",null,r.a.createElement("div",{className:"underline-hover",onClick:function(){return P("familiar",e)}},e.creature.name))})),a.map((function(e,t){var a="".concat(Z.a.capitalize(e.template)," ").concat(e.creature.name);return r.a.createElement("p",null,r.a.createElement("div",{className:"underline-hover",onClick:function(){return P("statBlock",Object(j.a)(Object(j.a)({},e.creature),{},{augmentSummoning:e.augmentSummoning,template:e.template}),{name:a})}},a," ")," ",r.a.createElement("button",{onClick:function(){return n(t)}},"Dismiss"))})))},ji=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,l=new Array(n),i=0;i<n;i++)l[i]=arguments[i];return(e=t.call.apply(t,[this].concat(l))).state={activeTab:"Features/Traits/Feats"},e.renderTabClick=function(t){"false"===localStorage.computer&&t===e.state.activeTab?e.setState({activeTab:"none"}):e.setState({activeTab:t})},e.renderMobileTabClassNames=function(t){var a="";return t===e.state.activeTab?a+="mobile-feature-selected-tab":a+="mobile-feature-tab",a="Features"===t?a+" mobile-tab-top":a,a="Equipment"===t&&t!==e.state.activeTab?a+" mobile-tab-bottom":a,a+=" shadow"},e.alliedCreaturesTab=function(){var t=!1;return e.props.character.character_creatures.length&&(t=!0),e.props.character_info.summonedAllies.length&&(t=!0),t},e.renderFeaturesTraits=function(){return"true"===localStorage.computer?r.a.createElement("div",{id:"features-traits",className:"character-show shadow",style:{boxShadow:"5px 4px 2px #".concat(e.props.settings.shadeColor),opacity:"0.95",backgroundColor:"#".concat(e.props.settings.bubbleColor),borderColor:"#".concat(e.props.settings.borderColor)}},r.a.createElement(Si,{renderTabClick:e.renderTabClick,activeTab:e.state.activeTab,alliedCreaturesTab:e.alliedCreaturesTab()}),r.a.createElement("div",{className:"dynamic-size",style:{height:"auto"}},"Features/Traits/Feats"===e.state.activeTab&&r.a.createElement(Ei,{editModal:e.props.editModal}),"Equipment"===e.state.activeTab&&r.a.createElement(_i,{editModal:e.props.editModal,exitModal:e.props.exitModal,cmiId:e.props.characterItemID}),"Details"===e.state.activeTab&&r.a.createElement(ui,null),"Allied Creatures"===e.state.activeTab&&r.a.createElement(Oi,null))):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:e.renderMobileTabClassNames("Features"),onClick:function(){return e.renderTabClick("Features")}},"Features ","Features"===e.state.activeTab?r.a.createElement(w.a,{icon:_.e}):r.a.createElement(w.a,{icon:_.n})),"Features"===e.state.activeTab&&r.a.createElement(pi,{editModal:e.props.editModal}),r.a.createElement("div",{className:e.renderMobileTabClassNames("Traits"),onClick:function(){return e.renderTabClick("Traits")}},"Traits ","Traits"===e.state.activeTab?r.a.createElement(w.a,{icon:_.e}):r.a.createElement(w.a,{icon:_.n})),"Traits"===e.state.activeTab&&r.a.createElement(gi,null),r.a.createElement("div",{className:e.renderMobileTabClassNames("Feats"),onClick:function(){return e.renderTabClick("Feats")}},"Feats ","Feats"===e.state.activeTab?r.a.createElement(w.a,{icon:_.e}):r.a.createElement(w.a,{icon:_.n})),"Feats"===e.state.activeTab&&r.a.createElement(vi,{editModal:e.props.editModal}),r.a.createElement("div",{className:e.renderMobileTabClassNames("Equipment"),onClick:function(){return e.renderTabClick("Equipment")}},"Equipment ","Equipment"===e.state.activeTab?r.a.createElement(w.a,{icon:_.e}):r.a.createElement(w.a,{icon:_.n})),"Equipment"===e.state.activeTab&&r.a.createElement(_i,{editModal:e.props.editModal,exitModal:e.props.exitModal,cmiId:e.props.characterItemID}))},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){"false"===localStorage.computer&&this.setState({activeTab:"none"})}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,this.renderFeaturesTraits())}}]),a}(r.a.Component),Ai=Object(h.b)((function(e){return{character_info:e.character_info,settings:e.settings}}))(ji),Ti=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("span",{className:"tab-list dynamic-size-small"},r.a.createElement(il,{label:"Attacks",renderTabClick:this.props.renderTabClick,activeTab:this.props.activeTab}),r.a.createElement(il,{label:"Tactics",renderTabClick:this.props.renderTabClick,activeTab:this.props.activeTab}),r.a.createElement(il,{label:"Combat Maneuvers",renderTabClick:this.props.renderTabClick,activeTab:this.props.activeTab}),r.a.createElement(il,{label:"Spells",renderTabClick:this.props.renderTabClick,activeTab:this.props.activeTab}),r.a.createElement(il,{label:"Abilities",renderTabClick:this.props.renderTabClick,activeTab:this.props.activeTab}))}}]),a}(r.a.Component),Ii=Ti,Ni=function(e){var t=Object(h.d)((function(e){return e})).character,a=function(e,t,a,n){var l=e.map((function(e,t){var a=null;return!0===e.bonusSpell&&(a="+1"),r.a.createElement(r.a.Fragment,{key:3*t+1},r.a.createElement("strong",null," | "),r.a.createElement("i",null,Fe(e.spell_level)),": ",r.a.createElement("strong",null,e.spells,a))}));return r.a.createElement("span",{key:3*n-1},t," Lvl ",r.a.createElement("strong",null,a),l)},n=function(e,t){var a=function(e,t){return{casterLevel:e,concentration:e+t}}(e,t),n=a.casterLevel,l=a.concentration;return r.a.createElement("span",null," SR check: ",r.a.createElement("strong",null,"+",n," |")," Concentration: ",r.a.createElement("strong",null,"+",l))},l=function(e){return r.a.createElement("button",{className:"attention-button-animation",onClick:function(){P("manageKnownSpells",e)}},"Learn New Spells")},i=function(e){return r.a.createElement("button",{className:"attention-button-animation",onClick:function(){P("managePreparedSpells",e)}},"Prepare Spells")},o=function(e){return r.a.createElement("button",{className:"attention-button-animation",onClick:function(){P("manageBonusSpellSlots",e)}},"Prepare Bonus Spells")},c=function(e,t,a){return r.a.createElement("table",{key:3*t+1},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Lvl"),r.a.createElement("th",null,"Action"),r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"Range"),r.a.createElement("th",null,"Duration"),r.a.createElement("th",null,"Hit / DC"),r.a.createElement("th",null,"SR"),r.a.createElement("th",null,"Source"))),r.a.createElement("tbody",null,a||s(e)))},s=function(e){return function(e){for(var t=e.prepare_spells?"prepared_spells":"character_known_spells",a=Object(S.a)(F.getState().character[t]).filter((function(t){return t.spellcasting.id===e.id})),n=[],r=function(e){var t=a.filter((function(t){return t.spell_level===e}));n.push(t.sort((function(e,t){return e.spell.name.localeCompare(t.spell.name)})))},l=0;l<10;l++)r(l);return n=n.flat()}(e.spellcasting).map((function(t){return u(t,e)}))},u=function(e,a){var n=a.abilityName?"".concat(a.abilityName):"".concat(a.klassName," - ").concat(a.klassFeature.name),l=function(e,t,a){var n,r=F.getState().character_info,l=e.spell,i=e.spell_list_spell,o=e.spellcasting,c=e.source,s=r.classes.find((function(e){return e.id===t})).level,u=!1;void 0===e.cast&&(e.spell_level=e.applicable_spell_level,u=e.cast_at_will);var d,m=null!==(n=null===i||void 0===i?void 0:i.spell_level)&&void 0!==n?n:e.spell_level,h=e.cast?"cannot-cast":na(l,{spell:!0,spellcasting:o,klassId:t,spellLevel:m,castAtWill:u,characterLevel:a}),p=l.name,f=fa(l,s),g=ga(l,s),b=ba(e),v=l.spell_resistance?"Y":"N",y=l.id;return o.prepare_spells&&(d=e.id),e.bonus_spell&&!e.cast&&(h=na(l)),{spellLevel:m,action:h,name:p,range:f,duration:g,difficultyClass:b,hitModifier:"",spellResistance:v,spellId:y,spellcasting:o,preparedSpellId:d,source:c}}(Object(j.a)(Object(j.a)({},e),{},{spellcasting:a.spellcasting,source:n}),a.klassFeature.klass_id,t.character_klasses.length);l.castableBonusSpell=!0===!!e.bonus_spell;var i=e.cast?"Spent":"Cast",o=e.bonus_spell?d(e):null;return r.a.createElement("tr",null,r.a.createElement("td",null,l.spellLevel,o),r.a.createElement("td",null,r.a.createElement("button",{className:l.action,onClick:function(){return va(l,a.spellsPerDay)}},r.a.createElement("strong",null,i))),r.a.createElement("td",null,r.a.createElement("em",{className:"underline-hover",onClick:function(){return P("spellDescription",e.spell)}},l.name)),r.a.createElement("td",null,l.range),r.a.createElement("td",null,l.duration),r.a.createElement("td",null,l.difficultyClass),r.a.createElement("td",null,l.spellResistance),r.a.createElement("td",null,l.source))},d=function(e){var a;if(e.alternate_source.klass_specialization_id){var n=t.klass_specializations.find((function(t){return t.id===e.alternate_source.klass_specialization_id}));a=n.name+" Bonus Spell Slot"}var l=function(e){return H(a,e.target)};return r.a.createElement("sup",{onMouseOver:l,onMouseOut:l},r.a.createElement("em",null,"B"))};return r.a.createElement(r.a.Fragment,null,function(){var e=ia().map(ca),t=[];t.push(e.map((function(e,t){return r.a.createElement(r.a.Fragment,null,a(e.spellsPerDay,e.klassName,e.level,t),r.a.createElement("br",null),n(e.level,e.abilityScoreModifier),function(e,t){for(var a=ua(e,t),n=!1,r=0;r<=a.length;){var l;(null===(l=a[r])||void 0===l?void 0:l.spells)>0&&(n=!0),r++}return n}(e.spellcasting,e.level)&&l(e),function(e,t){if(!e.prepare_spells)return!1;for(var a=da(e,t),n=!1,r=0,l=F.getState().character.prepared_spells;r<=a.length;){var i,o=l.filter((function(e){return e.spell_level===r}));(null===(i=a[r])||void 0===i?void 0:i.spells)>o.length&&(n=!0),r++}return n}(e.spellcasting,e.level)&&i(e),function(e,t){var a=ha(e,t).map((function(e){return e.spell_level})),n=oa();if(1===n.length){n[0].features.find((function(e){return e.bonus_spell_slot})).bonus_spell_slot,F.getState().character.prepared_spells;return!!a.length}}(e.spellcasting,e.level)&&o(e),c(e,t))})));var s=function(){var e=ia(),t=[],a=F.getState(),n=a.character,r=a.character_info;return n.klass_specializations.forEach((function(a){a.klass_specialization_features.forEach((function(n){n.features.forEach((function(l){l.castable_spells.forEach((function(l){if(l.cast_at_will){var i=r.classes.find((function(e){return e.id===a.klass_feature.klass_id})).level,o=e.find((function(e){return e.klass_id===a.klass_feature.klass_id}));o.features.forEach((function(e){e.spellcasting&&(o=e.spellcasting)})),t.push({spellInfo:Object(j.a)(Object(j.a)({},l),{},{level:i}),klassFeature:a.klass_feature,abilityName:n.name,spellcasting:o})}}))}))}))})),t}(),d=s.map((function(e){return u(e.spellInfo,{spellcasting:e.spellcasting,klassFeature:e.klassFeature,abilityName:e.abilityName})}));return s.length&&t.push(r.a.createElement(r.a.Fragment,null,c({},0,d))),t.flat()}())},Di=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,l=new Array(n),i=0;i<n;i++)l[i]=arguments[i];return(e=t.call.apply(t,[this].concat(l))).renderAbilities=function(){switch(e.props.character.name){case"Nettie":return e.nettie();case"Merg":return e.merg();case"Cedrick":return e.cedrick();case"Maddox":return e.maddox();case"Persephone":return e.pepper();case"Robby":return e.robby();case"Festus":return e.festus();case"Grackle":return e.grackle()}var t=[];return e.props.character.applicable_klass_features.forEach((function(a){a.features.forEach((function(n){var r,l;if(n.action&&!(null===(r=n.usage)||void 0===r?void 0:r.feature_usage_base)){var i=e.props.character.character_klass_feature_usages.filter((function(e){return e.klass_feature_id===a.id}));a.klass_archetype_id&&(i=e.props.character.character_klass_archetype_feature_usages.filter((function(e){return e.klass_archetype_feature_id===a.id}))),t.push(Object(j.a)(Object(j.a)({},n),{},{sourceId:a.id,klassFeatureName:a.name,klassId:a.klass_id,klassArchetypeId:a.klass_archetype_id,usageSources:i,source:"applicable_klass_features"}))}else if(null===(l=n.usage)||void 0===l?void 0:l.feature_usage_base){var o=xe(n.usage.feature_usage_base.baseSource),c=e.props.character.character_klass_feature_usages.filter((function(e){return e.klass_feature_id===o.ability.id}));t.push(Object(j.a)(Object(j.a)({},n),{},{sourceId:a.id,klassFeatureName:a.name,klassId:a.klass_id,klassArchetypeId:a.klass_archetype_id,usageSources:c,source:"applicable_klass_features",baseFeatureAndAbility:o,action:n.action||o.feature.action}))}"Spontaneous Casting"===a.name&&n.spontaneous_castings.length&&t.push(Object(j.a)(Object(j.a)({},n),{},{sourceId:a.id,klassFeatureName:a.name,klassId:a.klass_id,klassArchetypeId:a.klass_archetype_id,action:{name:"no-action"},source:"applicable_klass_features",options:{spontaneous_casting:!0}}))}))})),e.props.character.klass_specializations.forEach((function(a){a.klass_specialization_features.forEach((function(n){Re(a.klass_feature.klass_id)>=n.level&&n.features.forEach((function(r){if(r.usage){var l=r.action||{name:"no-action"},i=e.props.character.character_klass_specialization_feature_usages.filter((function(e){return e.klass_specialization_feature_id===n.id}));t.push(Object(j.a)(Object(j.a)({},r),{},{action:l,source:"klass_specializations",sourceId:a.id,subSourceId:n.id,kspecFeatureName:n.name,klassId:a.klass_feature.klass_id,usageSources:i}))}}))}))})),e.props.character.character_klasses.forEach((function(e){e.feat&&e.feat.features.forEach((function(a){if(a.usage){var n=a.action||{name:"no-action"};t.push(Object(j.a)(Object(j.a)({},a),{},{action:n,source:"character_klasses",sourceId:e.id,featName:e.feat.name}))}}))})),"Majestik"===e.props.character.name?(t.push({action:{name:"Standard Action"},sourceId:1001,klassFeatureName:"Evil Eye",klassId:19,usageSources:[],source:"hardcoded",damages:[],saving_throws:[]}),t.push({action:{name:"Swift Action"},sourceId:1001,klassFeatureName:"Arcane Strike",klassId:1001,usageSources:[],source:"hardcoded",damages:[],saving_throws:[]}),t.push({action:{name:"Swift Action"},sourceId:1001,klassFeatureName:"Prehensile Tail",klassId:1001,usageSources:[],source:"hardcoded",damages:[],saving_throws:[]})):"Fire-Roasted Tomatoes"===e.props.character.name?(t.push({action:{name:"Standard Action"},sourceId:1001,klassFeatureName:"Basic Pyrokinesis",klassId:15,usageSources:[],source:"hardcoded",damages:[],saving_throws:[]}),t.push({action:{name:"Standard Action"},sourceId:1001,klassFeatureName:"Searing Flesh",klassId:15,usageSources:[],source:"hardcoded",damages:[],saving_throws:[]})):"Ildre"===e.props.character.name?t.push({action:{name:"Move Action"},sourceId:1001,klassFeatureName:"Dimensional Slide",klassId:15,usageSources:[],source:"hardcoded",damages:[],saving_throws:[]}):"Iyugi"===e.props.character.name?t.push({action:{name:"Move Action"},sourceId:1001,klassFeatureName:"Change Shape",klassId:15,usageSources:[],source:"hardcoded",damages:[],saving_throws:[]}):"Natesse"===e.props.character.name?(t.push({action:{name:"Immediate Action"},sourceId:1001,klassFeatureName:"Nanite Surge",klassId:15,usageSources:[],source:"hardcoded",damages:[],saving_throws:[]}),t.push({action:{name:"Immediate Action"},sourceId:1001,klassFeatureName:"Nanite Revival",klassId:15,usageSources:[],source:"hardcoded",damages:[],saving_throws:[]})):"Dz'eyn"===e.props.character.name&&(t.push({action:{name:"Move Action"},sourceId:1001,klassFeatureName:"Climb 20 ft",klassId:15,usageSources:[],source:"hardcoded",damages:[],saving_throws:[]}),t.push({action:{name:"Swift Action"},sourceId:1001,klassFeatureName:"Toxic Skin - Poison Weapon",klassId:15,usageSources:[],source:"hardcoded",damages:[],saving_throws:[]}),t.push({action:{name:"Standard Action"},sourceId:1001,klassFeatureName:"Toxic Skin - Poison Self",klassId:15,usageSources:[],source:"hardcoded",damages:[],saving_throws:[]})),t.map((function(t,a){var n=t.klassFeatureName;n||(n=t.kspecFeatureName||t.featName);var l=e.renderDice(t);return r.a.createElement("tr",{key:3*a-1},r.a.createElement("td",null,r.a.createElement("button",{className:e.canThisAbilityBeUsed(t),onClick:function(){return e.newRenderClick(t)}},r.a.createElement("strong",null,"Click"))),r.a.createElement("td",null,n),r.a.createElement("td",null,e.renderUsage(t)),r.a.createElement("td",null,l&&r.a.createElement("span",{style:{border:"1px solid #".concat(e.props.settings.borderColor),borderRadius:"0.3em",cursor:"default",padding:"2px"},onClick:function(){return e.rollAbility(n,l)}},l)),r.a.createElement("td",null,e.renderDC(t)),r.a.createElement("td",null,"Nothin'"))}))},e.canThisAbilityBeUsed=function(e){var t=na(e);return t=st(e)?t:"cannot-cast"},e.renderUsage=function(e){var t=it(e);return t?r.a.createElement("button",{className:"ability-usage-buttons",onClick:function(){P("adjust points",e)}},t):null},e.renderDice=function(t){if(t.damages.length){var a=Re(t.klassId);console.log(t);for(var n=null,r=0;r<t.damages.length;r++)if(null!==t.damages[r].applicable_level&&t.damages[r].applicable_level<=a&&(r+1>=t.damages.length||t.damages[r+1].applicable_level>a)){n=t.damages[r];break}if(!n){for(var l=null,i=0;i<t.steps.length;i++)if(t.steps[i].applicable_level<=a&&(i+1>=t.steps.length||t.steps[i+1].applicable_level>a)){l=t.steps[i].step;break}n=t.damages.find((function(e){return e.applicable_step===l}))}var o=Le(n.damage_type);if(t.character_choices.length&&"damage"===t.character_choices[0].sub_feature&&"damage_type"===t.character_choices[0].column){var c=e.props.character.character_choices.find((function(e){return e.feature_id===t.id}));c&&(o=Le(c.choice))}var s=Pe(n);return o&&(s+=" "+o),s}},e.rollAbility=function(e,t){var a=parseInt(t),n=parseInt(t.split("d")[1]),r=parseInt(t.split("+")[1])||parseInt(t.split("-")[1])||0;W({rollName:e,modifier:r,die:n,count:a})},e.renderDC=function(t){var a,n=t.saving_throws[0];if("Basic Pyrokinesis"===t.klassFeatureName)return"14";if(null===(a=t.klassFeatureName)||void 0===a?void 0:a.includes("Toxic Skin"))return"Fort 13";if(n){var r=Z.a.capitalize(n.saving_throw),l=ea(n.ability_score_modifier,!0),i=t.klassId,o=e.props.character_info.classes.find((function(e){return e.id===i})).level,c=n.base+l+Math.floor(o*n.level_modifier);return"".concat(r," ").concat(c)}return"-"},e.dispatchManager=function(t,a,n,r){("number"!==typeof r||r)&&(e.props.character_info.actions[t]||(e.props.dispatch({type:"TRIGGER ACTION",action:t}),"mutagen"!==n&&n?e.props.dispatch({type:n}):"mutagen"===n&&e.props.editModal("mutagen")),a&&e.props.dispatch({type:"POINTS CHANGE",amount:a}))},e.newRenderClick=function(t){var a=!!st(t),n="cannot-cast"!==na(t);if(!a||!n)return null;if(ht(t))Qe(t);else{var r;if(null===(r=t.usage)||void 0===r?void 0:r.all_feature_usage_options.length)return e.props.dispatch({type:"MODAL",detail:"featureUsageOptions",obj:t}),null;if("Spontaneous Casting"===t.klassFeatureName&&t.spontaneous_castings.length)return P("spontaneousCasting",t),null;if(t.usageSource){var l,i={character_id:e.props.character.id,klass_feature_id:t.sourceId,feature_usage_id:t.usage.id,current_usage:ct(t.usageSources)+1};if(t.baseFeatureAndAbility)if(1===t.usageSources.length){var o=t.usageSources[0];i=Object(j.a)(Object(j.a)({},o),{},{current_usage:o.current_usage+1})}else 0===t.usageSources.length&&(i.feature_usage_id=t.baseFeatureAndAbility.feature.usage.id,i.klass_feature_id=t.baseFeatureAndAbility.ability.id,i.current_usage=1);else t.kspecFeatureName?(delete i.klass_feature_id,i.klass_specialization_feature_id=t.subSourceId):t.klassArchetypeId&&(delete i.klass_feature_id,i.klass_archetype_feature_id=t.sourceId);switch(t.source){case"applicable_klass_features":l="character_klass_feature_usages";break;case"klass_specializations":l="character_klass_specialization_feature_usages";break;default:l="character_klass_feature_usages"}t.klassArchetypeId&&(l="character_klass_archetype_feature_usages"),ie(l,i).then((function(a){e.props.dispatch({type:"ADJUST CHARACTER REPLACE VALUE IN ARRAY",adjust:l,value:a}),Ve(t)&&Qe(t)}))}else Ve(t)&&Qe(t);e.props.dispatch({type:"TRIGGER ACTION",action:na(t)})}},e.renderClick=function(t,a){var n=t.modal,r=t.action,l=t.limit,i=t.starting,o=t.name,c=t.points,s=t.redux;if(n&&e.props.editModal(n),"free"!==r&&0!==a&&"long"!==r&&e.props.dispatch({type:"TRIGGER ACTION",action:r}),c&&e.props.character_info.hardcode.points>=c&&(e.props.dispatch({type:"POINTS CHANGE",amount:"decrease"}),c>1&&e.props.dispatch({type:"POINTS CHANGE",amount:"decrease"})),s&&e.props.dispatch({type:s}),l)if(e.props.character_info.hardcode.limits){var u=e.props.character_info.hardcode.limits.find((function(e){return e.name===o}));u?(i&&u.cast<i||u.cast<l)&&e.props.dispatch({type:"LIMIT CASTING",name:o}):e.props.dispatch({type:"LIMIT CASTING",name:o})}else e.props.dispatch({type:"LIMIT CASTING",name:o})},e.nettie=function(){var t=e.props.character_info.hardcode.performance,a="move";t&&(a="free");var n="Activate";return t&&(n="Maintain"),r.a.createElement(r.a.Fragment,null,r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("button",{className:a,onClick:function(){return e.props.editModal("performance",a)}},r.a.createElement("strong",null,n))),r.a.createElement("td",null,"Bardic Performance"),r.a.createElement("td",null,"Select a performance to start")))},e.merg=function(){var t=e.props.character_info.actions,a=e.props.character_info.hardcode.power,n=e.props.character_info.hardcode.rage,l=e.props.character_info.hardcode.teleswap,i=e.props.character_info.hardcode.magicalHats,o=e.props.character_info.hardcode.manipulate||0,c=e.props.character_info.hardcode.auraRead,s="free";a&&(s="cannot-cast");var u="Activate";return a&&(u="Active"),r.a.createElement(r.a.Fragment,null,r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("button",{className:n?"cannot-cast":"free",onClick:function(){return e.props.editModal("rage")}},r.a.createElement("strong",null,n?"Active":"Activate"))),r.a.createElement("td",null,"Rage"),r.a.createElement("td",null,"+2 to melee attacks, thrown attacks, melee damage, will saves. -2 to AC. +14 temp hp")),r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("button",{className:s,onClick:function(){return e.props.dispatch({type:"POWER ATTACK"})}},r.a.createElement("strong",null,u))),r.a.createElement("td",null,"Power Attack"),r.a.createElement("td",null,"-2 to melee attacks, +4 to melee attack damage")),e.props.character_info.hardcode.rage&&e.sparks(),r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("button",{className:t.standard?"cannot-cast":"standard",onClick:function(){return e.props.dispatch({type:"TRIGGER ACTION",action:"standard"})}},r.a.createElement("strong",null,"Swipe"))),r.a.createElement("td",null,"Fabric of Reality - Swipe Fabric"),r.a.createElement("td",null,"Teleport to a point within line-of-sight up to 30 ft away. You can use this ability again after 1d10 rounds.")),r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("button",{className:t.move||l?"cannot-cast":"move",onClick:function(){return e.dispatchManager("move",!1,"TELESWAP")}},r.a.createElement("strong",null,"Swap"))),r.a.createElement("td",null,"Fabric of Reality - Spacial Entanglement"),r.a.createElement("td",null,"Select a willing ally within line-of-sight up to 30 ft away. Switch places. This ability counts as the Swipe Fabric ability, and therefore can only be used again after 1d10 rounds.")),r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("button",{className:t.standard||i?"cannot-cast":"standard",onClick:function(){return e.dispatchManager("standard",!1,"MAGICAL HATS")}},r.a.createElement("strong",null,"Wisp"))),r.a.createElement("td",null,"Fabric of Reality - Whipping Wisps"),r.a.createElement("td",null,"Summon 4 whipping cloths, and diguise yourself in one. Touch AC, DC 20 Will disbelieve. If a blank is struck, attacker takes 1d6 per remaining clothes + Cha mod psychic damage (Will 15 for half damage).")),r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("button",{className:t.swift||o>=2?"cannot-cast":"swift",onClick:function(){return e.dispatchManager("swift",!1,"REALITY BEND")}},r.a.createElement("strong",null,"Bend"))),r.a.createElement("td",null,"Fabric of Reality - Reality Bending (",2-o,"/2)"),r.a.createElement("td",null,"Make a Combat Maneuver check (bonus equal to your class level + highest mental bonus) against creature to manipulate them or their immediate area.")),r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("button",{className:c?"cannot-cast":"long",onClick:function(){return e.props.dispatch({type:"AURA READ"})}},r.a.createElement("strong",null,"Read"))),r.a.createElement("td",null,"Fabric of Reality - No Illusion"),r.a.createElement("td",null,"If draped over your head, +4 to sense motive checks, affected by ",r.a.createElement("em",{className:"underline-hover",onClick:function(){return e.props.editModal("spell",null,46)}},"see invisibility"),", and activate to ",r.a.createElement("span",{className:"underline-hover",onClick:function(){return e.props.editModal("aura")}},"Read Auras"))))},e.maddox=function(){var t=[{id:4e3,name:"Change Age",description:"Alter Age",button:"Alter",modal:"age",action:"free"},{id:4001,name:"Augment Spell",description:"When you cast a spell, expend a point from your reservoir to either incrase the caster level by 1, or increase the DC by +1. You can spend no more than 1 point from your reservoir on a given spell this way.",button:"Augment",modal:"reservoir",action:"free"},{id:4002,name:"Zamantash Delta Chronometer - Insight Bonus",description:"Thrice a day, the wielder can add a +2 insight bonus to any roll involving a d20. You can add this bonus after rolling, but before knowing the result of the check.",button:"Foresight",action:"free",limit:3},{id:4003,name:"Zamantash Delta Chronometer - Instant Rest",description:"Once every three days, as a move action, the wielder, and any companion, familiar, or mount within 5 ft of them, feels as though they received an 8-hour rest.",button:"Rest",action:"move",limit:1},{id:4004,name:"Zamantash Delta Chronometer - Time Ritual",description:"Once a month, the wielder and all others can participate in a ritual that takes 20 minutes. The moment the ritual ends becomes a fixed point in time.",button:"Lock",action:"long",limit:1},{id:4005,name:"Zamantash Delta Chronometer - Ritual Break",description:"Within 24 hours of completing this ritual, the wielder can trigger the Curio as a 3-round action that requires concentration, and provokes an attack of opportunity. Time is rewound back to the fixed point in time, which becomes no longer fixed, and all of the participants of the ritual are aware of the events that they experienced.",button:"Rewind",action:"long",limit:1,dependent:4004},{id:4006,name:"Zamantash Delta Chronometer - Quick Reaction",description:"You can select one creature within 30 ft of you. That target gains +10 to their speed, a +2 insight bonus to their AC, and on their next attack roll, Reflex saving throw, or Dexterity-based or Charisma-based skill check, they may roll twice and take the higher of the two results. This effect lasts until the beginning of your next turn.",button:"Enhance",action:"standard"},{id:4007,name:"Arcanist Exploit - Forewarned",description:"Expend 1 point when you or ally within 30 ft rolls initiative, add 1d4 to that roll.",button:"Warn",action:"free",points:1},{id:4008,name:"Arcanist Exploit - Forewarned",description:"Expend 2 points when you or ally within 30 ft rolls a saving throw, add 1d4 to that roll.",button:"Save",action:"immediate",points:2},{id:4009,name:"Arcanist Exploit - Rewind",description:"After a spell fizzles or breaks, spend points equal to half the spell level to immediately prepare that spell again. (NOTE: feature not built, change points manually, and spell should still be available.)",button:"Rewind",action:"immediate"},{id:4010,name:"Arcanist Exploit - Steal Time",description:"Make a melee touch attack, then target needs to make a DC 16 Will save. If they fail, they take a -1 penalty to AC and Reflex saves, and a -5-foot penalty to base speed. You gain a +1 bonus to AC and Reflex saves, and a +5-foot bonus to base speed. This effect lasts for 7 rounds.",button:"Sap",action:"immediate",points:1,redux:"STEAL TIME"}];return r.a.createElement(r.a.Fragment,null,t.map((function(a,n){var l=e.props.character_info.hardcode.points,i=e.props.character_info.hardcode.limits,o=!0;if(i&&a.limit){var c=i.find((function(e){return e.name===a.name}));o=a.starting?c?a.starting-c.cast:a.starting:c?a.limit-c.cast:a.limit}else a.limit&&(o=a.starting?a.starting:a.limit);var s=!e.props.character_info.actions[a.action]&&o&&(!a.points||l>=a.points)?a.action:"cannot-cast";return!a.dependent||i&&i.find((function(e){return e.name===t.find((function(e){return e.id===a.dependent})).name}))?r.a.createElement("tr",{key:n*a.id*3-1},r.a.createElement("td",null,r.a.createElement("button",{className:s,onClick:function(){return e.renderClick(a,o)}},a.button)),r.a.createElement("td",null,a.name,a.limit?" (".concat(o,"/").concat(a.limit,")"):null,a.points?" ".concat(a.points).concat(1===a.points?"pt":"pts"):null),r.a.createElement("td",null,a.description)):null})))},e.pepper=function(){var t="standard";e.props.character_info.actions.standard&&(t="cast-standard");var a="swift";return e.props.character_info.actions.swift&&(a="cast-swift"),r.a.createElement(r.a.Fragment,null,r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("button",{className:"long",onClick:function(){return e.props.dispatch({type:"AUTUMN EQUINOX"})}},r.a.createElement("strong",null,"Transform"))),r.a.createElement("td",null,"Transformation Sequence"),r.a.createElement("td",null,"As an action that takes 5 rounds (30 seconds), ",r.a.createElement("a",{className:"underline-hover",href:"https://youtu.be/cirhQ8iLdbw?t=1m21s",target:"_blank",rel:"noopener noreferrer"},"transform")," into ",e.props.character_info.hardcode.autumn?"Persephone":"the Autumn Equinox",".")),r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("button",{className:t,onClick:function(){return e.props.dispatch({type:"TRIGGER ACTION",action:"standard"})}},r.a.createElement("strong",null,"Hex"))),r.a.createElement("td",null,"Protective Luck Hex"),r.a.createElement("td",null,"Target creature within 30 ft, if it's targeted by an attack roll, attacker must roll twice and take the worse result")),r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("button",{className:t,onClick:function(){return e.props.dispatch({type:"TRIGGER ACTION",action:"standard"})}},r.a.createElement("strong",null,"Hex"))),r.a.createElement("td",null,"Fortune Hex"),r.a.createElement("td",null,"Target creature within 30 ft, for one round, once a round, may reroll any ability check, attack roll, saving throw, or skill check, and take the better result. A creature can only benefit from this hex every 24 hours.")),r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("button",{className:a,onClick:e.arcaneStrike},r.a.createElement("strong",null,"Activate"))),r.a.createElement("td",null,"Arcane Strike"),r.a.createElement("td",null,"As a swift action, you can imbue your weapons with a fraction of your power. For 1 round, your weapons deal +2 damage and are treated as magic for the purpose of overcoming damage reduction.")))},e.cedrick=function(){var t=e.props.character_info.hardcode,a=e.props.character_info.hardcode.power,n=e.props.character_info.actions.swift,l="free";a&&(l="cannot-cast");var i="Activate";return a&&(i="Active"),r.a.createElement(r.a.Fragment,null,r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("button",{className:l,onClick:function(){return e.props.dispatch({type:"POWER ATTACK"})}},r.a.createElement("strong",null,i))),r.a.createElement("td",null,"Power Attack"),r.a.createElement("td",null,"-2 to melee attacks, +4 to melee attack damage")),r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("button",{className:t.init_reroll||n?"cannot-cast":"swift",onClick:function(){return e.taalmon("init")}},r.a.createElement("strong",null,"Reroll"))),r.a.createElement("td",null,"Ta'al'mon Ancestral Handwraps - Initiative Reroll"),r.a.createElement("td",null,"Reroll Initiative with a bonus equal to your Dex mod")),r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("button",{className:t.double_damage?"cannot-cast":"free",onClick:function(){return e.taalmon("damage")}},r.a.createElement("strong",null,"Damage"))),r.a.createElement("td",null,"Ta'al'mon Ancestral Handwraps - Additional Damage"),r.a.createElement("td",null,"On your next attack, if you hit, roll double the dice for damage. Stacks on critical hits, does not stack with precision damage.")),r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("button",{className:t.taal_tele||n?"cannot-cast":"swift",onClick:function(){return e.taalmon("teleport")}},r.a.createElement("strong",null,"Teleport"))),r.a.createElement("td",null,"Ta'al'mon Ancestral Handwraps - Teleport"),r.a.createElement("td",null,"If you make an unarmed attack on a creature your size or smaller, teleport to the opposite side of them.")),"Squid - Combat"===t.combat?e.squidCombat():null,"Squid - Minor"===t.minor?e.squidMinor():null,"Squid - Major"===t.major?e.squidMajor():null,r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("button",{className:e.renderShifterFormClass("Bull - Combat","combat","class","swift",1),onClick:function(){return e.shift("Bull - Combat","combat",1,"swift")}},r.a.createElement("strong",null,e.renderShifterFormClass("Bull - Combat","combat","button",null,1)))),r.a.createElement("td",null,"Bull - Combat Form (1 pt)"),r.a.createElement("td",null,"On successful Bull Rush, make a melee attack against FF AC, push target back +5ft, and if impact hard surface deal melee attack damage (7 rounds)")),r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("button",{className:e.renderShifterFormClass("Bull - Minor","minor","class","swift",1),onClick:function(){return e.shift("Bull - Minor","minor",1,"swift")}},r.a.createElement("strong",null,e.renderShifterFormClass("Bull - Minor","minor","button",null,1)))),r.a.createElement("td",null,"Bull - Minor Form (1 pt)"),r.a.createElement("td",null,"+2 bonus to Strength")),r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("button",{className:e.renderShifterFormClass("Bull - Major","major","class","standard",1),onClick:function(){return e.shift("Bull - Major","major",2,"standard","Large")}},r.a.createElement("strong",null,e.renderShifterFormClass("Bull - Major","major","button",null,1)))),r.a.createElement("td",null,"Bull - Major Form (2 pts)"),r.a.createElement("td",null,"Polymorph into Bull")),r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("button",{className:e.renderShifterFormClass("Chameleon - Combat","combat","class","swift",1),onClick:function(){return e.shift("Chameleon - Combat","combat",1,"swift")}},r.a.createElement("strong",null,e.renderShifterFormClass("Chameleon - Combat","combat","button",null,1)))),r.a.createElement("td",null,"Chameleon - Combat Form (1 pt)"),r.a.createElement("td",null,"If you make an attack against an enemy who was not aware of your presence, add a competence bonus equal to your Wisdom modifier to your attack roll. ")),r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("button",{className:e.renderShifterFormClass("Chameleon - Minor","minor","class","swift",1),onClick:function(){return e.shift("Chameleon - Minor","minor",1,"swift")}},r.a.createElement("strong",null,e.renderShifterFormClass("Chameleon - Minor","minor","button",null,1)))),r.a.createElement("td",null,"Chameleon - Minor Form (1 pt)"),r.a.createElement("td",null,"Can change the color of hair, eyes, or skin, and can cast ",r.a.createElement("em",{className:"underline-hover",onClick:function(){return e.props.editModal("spell",null,13)}},"prestidigitation")," on your equipment")),r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("button",{className:e.renderShifterFormClass("Chameleon - Major","major","class","standard",1),onClick:function(){return e.shift("Chameleon - Major","major",2,"standard","Large")}},r.a.createElement("strong",null,e.renderShifterFormClass("Chameleon - Major","major","button",null,1)))),r.a.createElement("td",null,"Chameleon - Major Form (2 pts)"),r.a.createElement("td",null,"Polymorph into Chameleon")),r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("button",{className:e.renderShifterFormClass("Condor - Combat","combat","class","swift",1),onClick:function(){return e.shift("Condor - Combat","combat",1,"swift")}},r.a.createElement("strong",null,e.renderShifterFormClass("Condor - Combat","combat","button",null,1)))),r.a.createElement("td",null,"Condor - Combat Form (1 pt)"),r.a.createElement("td",null,"Gain ",r.a.createElement("em",null,"Cleave")," feat")),r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("button",{className:e.renderShifterFormClass("Condor - Minor","minor","class","swift",1),onClick:function(){return e.shift("Condor - Minor","minor",1,"swift")}},r.a.createElement("strong",null,e.renderShifterFormClass("Condor - Minor","minor","button",null,1)))),r.a.createElement("td",null,"Condor - Minor Form (1 pt)"),r.a.createElement("td",null,"Can cast ",r.a.createElement("em",{className:"underline-hover",onClick:function(){return e.props.editModal("spell",null,18)}},"feather fall"))),r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("button",{className:e.renderShifterFormClass("Condor - Major","major","class","standard",1),onClick:function(){return e.shift("Condor - Major","major",2,"standard","Large")}},r.a.createElement("strong",null,e.renderShifterFormClass("Condor - Major","major","button",null,1)))),r.a.createElement("td",null,"Condor - Major Form (2 pts)"),r.a.createElement("td",null,"Polymorph into Condor")),r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("button",{className:e.renderShifterFormClass("Frog - Combat","combat","class","swift",1),onClick:function(){return e.shift("Frog - Combat","combat",1,"swift")}},r.a.createElement("strong",null,e.renderShifterFormClass("Frog - Combat","combat","button",null,1)))),r.a.createElement("td",null,"Frog - Combat Form (1 pt)"),r.a.createElement("td",null,"Excrete a poison through claws. Select the type of Poison. Creatures that fail a DC 17 Fortitude save are affected.")),r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("button",{className:e.renderShifterFormClass("Frog - Minor","minor","class","swift",1),onClick:function(){return e.shift("Frog - Minor","minor",1,"swift")}},r.a.createElement("strong",null,e.renderShifterFormClass("Frog - Minor","minor","button",null,1)))),r.a.createElement("td",null,"Frog - Minor Form (1 pt)"),r.a.createElement("td",null,"+4 bonus to Acrobatics when jumping and a +2 bonus to Swim")),r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("button",{className:e.renderShifterFormClass("Frog - Major","major","class","standard",1),onClick:function(){return e.shift("Frog - Major","major",2,"standard","Large")}},r.a.createElement("strong",null,e.renderShifterFormClass("Frog - Major","major","button",null,1)))),r.a.createElement("td",null,"Frog - Major Form (2 pts)"),r.a.createElement("td",null,"Polymorph into Frog")),r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("button",{className:e.renderShifterFormClass("Squid - Combat","combat","class","swift",1),onClick:function(){return e.shift("Squid - Combat","combat",1,"swift")}},r.a.createElement("strong",null,e.renderShifterFormClass("Squid - Combat","combat","button",null,1)))),r.a.createElement("td",null,"Squid - Combat Form (1 pt)"),r.a.createElement("td",null,"Summon ink cloud for 1 round, or longer if underwater. Grow two tentacle appendages.")),r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("button",{className:e.renderShifterFormClass("Squid - Minor","minor","class","swift",1),onClick:function(){return e.shift("Squid - Minor","minor",1,"swift")}},r.a.createElement("strong",null,e.renderShifterFormClass("Squid - Minor","minor","button",null,1)))),r.a.createElement("td",null,"Squid - Minor Form (1 pt)"),r.a.createElement("td",null,"Jet up to ",2*t.speed," ft in any direction")),r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("button",{className:e.renderShifterFormClass("Squid - Major","major","class","standard",1),onClick:function(){return e.shift("Squid - Major","major",2,"standard","Large")}},r.a.createElement("strong",null,e.renderShifterFormClass("Squid - Major","major","button",null,1)))),r.a.createElement("td",null,"Squid - Major Form (2 pts)"),r.a.createElement("td",null,"Polymorph into Squid")))},e.robby=function(){var t=e.props.character_info.actions,a=e.props.character_info.hardcode,n=a.points,l=e.props.character_info.hardcode.charmedLife,i=e.props.character_info.hardcode.charmedActive;return r.a.createElement(r.a.Fragment,null,r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("button",{className:t.standard?"cannot-cast":"standard",onClick:function(){return e.dispatchManager("standard",null,"ALTER SELF")}},r.a.createElement("strong",null,"Change"))),r.a.createElement("td",null,"Change Shape"),r.a.createElement("td",null,"You can assume the appearance of a specific single human form of the same sex. You always take this specific form when you use this ability. Functions as ",r.a.createElement("em",{className:"underline-hover",onClick:function(){return e.props.editModal("spell",null,76)}},"alter self"),".")),r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("button",{className:t.immediate||l>=3||i?"cannot-cast":"immediate",onClick:function(){return e.dispatchManager("immediate",null,"CHARMED",3-l)}},r.a.createElement("strong",null,"Lucky"))),r.a.createElement("td",null,"Charmed Life (",3-l,"/3)"),r.a.createElement("td",null,"Add your Charisma bonus to your saving throw")),r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("button",{className:t.immediate||n<=0?"cannot-cast":"immediate",onClick:function(){return e.dispatchManager("immediate","decrease","DODGING PANACHE",n)}},r.a.createElement("strong",null,"Dodge"))),r.a.createElement("td",null,"Dodging Panache"),r.a.createElement("td",null,"1 panache: Move 5 ft (AoO from anyone besides attacker), add Charisma mod to AC")),!a.parry&&r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("button",{className:t.free||n<=0?"cannot-cast":"free",onClick:function(){return e.dispatchManager("free","decrease","PARRY",n)}},r.a.createElement("strong",null,"Parry"))),r.a.createElement("td",null,"Opportune Parry"),r.a.createElement("td",null,"1 panache: Use your AoO to make a melee attack on an attacker making a melee attack (for each size larger attacker is, -2 penalty). If your attack roll is higher, the target misses.")),a.parry&&r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("button",{className:t.immediate||n<=0?"cannot-cast":"immediate",onClick:function(){return e.dispatchManager("immediate",null,null,n)}},r.a.createElement("strong",null,"Riposte"))),r.a.createElement("td",null,"Opportune Riposte"),r.a.createElement("td",null,"If you parried, you may make a melee attack, as long as you have at least 1 panache point.")),r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("button",{className:t.move||n<=0?"cannot-cast":"move",onClick:function(){return e.dispatchManager("move",null,null,n)}},r.a.createElement("strong",null,"Stand"))),r.a.createElement("td",null,"Kip-Up"),r.a.createElement("td",null,"Stand up from prone without provoking an AoO")),r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("button",{className:t.swift||n<=0?"cannot-cast":"swift",onClick:function(){return e.dispatchManager("swift","decrease",null,n)}},r.a.createElement("strong",null,"Stand"))),r.a.createElement("td",null,"Kip-Up"),r.a.createElement("td",null,"1 panache: Stand up from prone without provoking an AoO")),r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("button",{className:t.swift||n<=0?"cannot-cast":"swift",onClick:function(){return e.dispatchManager("swift","decrease","PRECISE STRIKE",n)}},r.a.createElement("strong",null,"Damage"))),r.a.createElement("td",null,"Precise Strike"),r.a.createElement("td",null,"1 panache: Double Precise Strike damage bonus (+3 to +6)")),e.props.character_info.hardcode.helmsman&&e.besmara())},e.festus=function(){var t=e.props.character_info.actions;return r.a.createElement(r.a.Fragment,null,r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("button",{className:t.move?"cannot-cast":"move",onClick:function(){return e.dispatchManager("move")}},r.a.createElement("strong",null,"Teleport"))),r.a.createElement("td",null,"Long Step"),r.a.createElement("td",null,"Teleport 60 ft. You can use this feature again after 1d4 rounds.")))},e.grackle=function(){var t=e.props.character_info.actions;return r.a.createElement(r.a.Fragment,null,!e.props.character_info.hardcode.mutagen&&r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("button",{className:t.move?"cannot-cast":"long",onClick:function(){return e.dispatchManager("long",null,"mutagen")}},r.a.createElement("strong",null,"Brew"))),r.a.createElement("td",null,"Brew Mutagen"),r.a.createElement("td",null,"Create a mutagen. +2 to AC, +4 to selected ability score, -2 to opposite ability score. Options: Strength/Intelligence, Dexterity/Wisdom, Constitution/Charisma.")),e.props.character_info.hardcode.mutagen&&e.renderMutagen())},e.renderMutagen=function(){var t,a,n=e.props.character_info.actions,l=e.props.character_info.hardcode.mutagen,i=e.props.character_info.hardcode.activeMutagen||!1;switch(l){case"strength":t="Strength",a="Intelligence";break;case"dexterity":t="Dexterity",a="Wisdom";break;case"constitution":t="Constitution",a="Charisma"}var o=n.move?"cannot-cast":"standard";return o=i?"cannot-cast":o,r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("button",{className:o,onClick:function(){return e.dispatchManager(o,null,"TOGGLE MUTAGEN")}},r.a.createElement("strong",null,"Imbibe"))),r.a.createElement("td",null,t,"/",a," Mutagen"),r.a.createElement("td",null,"70 minutes, +2 natural armor bonus to AC, +4 alchemical bonus to ",t,", -2 penalty to ",a))},e.renderShifterFormClass=function(t,a,n,r,l){var i=e.props.character_info.hardcode[a],o=!e.props.character_info.actions[r],c=r,s="Activate";return i===t&&o?(s="End",c="free"):i!==t||o?i===t||o?l>e.props.character_info.hardcode.points&&(c="cannot-cast"):c="cannot-cast":(s="End",c="cast-".concat(r)),"class"===n?c:s},e.collectClassFeatureOptions=function(){var t=e.props.character.character_klasses.map((function(e){return e.feature_options}));return Z.a.flatten(t)},e.besmara=function(){var t=e.props.character_info.actions;return r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("button",{className:t.full?"cannot-cast":"full",onClick:function(){return e.dispatchManager("full")}},r.a.createElement("strong",null,"Toggle"))),r.a.createElement("td",null,"Store/Withdraw Siege Weapon"),r.a.createElement("td",null,"Must have a siege weapon installed on the ship to store or withdraw it."))},e.sparks=function(){var t="swift",a=e.props.character_info.hardcode.eBlood||0;e.props.character_info.hardcode.eBloodActive&&(t="cast-".concat(t)),3===a&&(t="cannot-cast");var n="Activate  (".concat(3-a,")");return e.props.character_info.hardcode.eBloodActive&&(n="Active"),3===a&&(n="Spent"),r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("button",{className:t,onClick:function(){return e.props.dispatch({type:"SPARKS"})}},r.a.createElement("strong",null,n))),r.a.createElement("td",null,"Lesser Elemental Blood (electricity)"),r.a.createElement("td",null,"Deal +1d6 electricity damage on all Melee Attack this turn"))},e.shift=function(t,a,n,r,l){e.props.character_info.actions[r]||(e.props.character_info.hardcode[a]===t?e.props.dispatch({type:"SHIFT",detail:null,form:a,points:0}):e.props.character_info.hardcode.points>=n&&(e.props.dispatch({type:"SHIFT",detail:t,form:a,points:n}),e.props.dispatch({type:"TRIGGER ACTION",action:r})),l&&(console.log("dispatching size",l),e.props.dispatch({type:"CHANGE SIZE",size:l,detail:t,form:a})),"Condor - Major"===t&&e.props.dispatch({type:"SPEED SHIFT",speed:20}),"Chameleon - Major"===t&&e.props.dispatch({type:"SPEED SHIFT",speed:40}),"Frog - Combat"===t&&(e.props.character_info.hardcode.frogCombat?e.props.dispatch({type:"FROG COMBAT",name:null}):e.props.editModal("frogCombat")))},e.arcaneStrike=function(){e.props.character_info.actions.swift||(e.props.dispatch({type:"TRIGGER ACTION",action:"swift"}),e.props.dispatch({type:"ARCANE STRIKE"}))},e.taalmon=function(t){e.props.character_info.actions.swift||e.props.character_info.hardcode.init_reroll||"init"!==t||(e.props.dispatch({type:"TRIGGER ACTION",action:"swift"}),e.props.dispatch({type:"INIT REROLL"})),e.props.character_info.actions.swift||e.props.character_info.hardcode.init_reroll||"damage"!==t||e.props.dispatch({type:"DOUBLE DAMAGE"}),e.props.character_info.actions.swift||e.props.character_info.hardcode.taal_tele||"teleport"!==t||(e.props.dispatch({type:"TRIGGER ACTION",action:"swift"}),e.props.dispatch({type:"TAALMON TELEPORT"}))},e.chronometer=function(e){},e.squidCombat=function(){var t=e.props.character_info.actions.standard?"cannot-cast":"standard";return r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("button",{className:t,onClick:function(){return e.props.dispatch({type:"TRIGGER ACTION",action:"standard"})}},r.a.createElement("strong",null,"Create"))),r.a.createElement("td",null,"Ink Cloud"),r.a.createElement("td",null,"Fills a 5-foot square with an ink cloud for 1 round, or 4 rounds underwater. If any attack would go through the cloud, the defending creature gains a +5 circumstance bonus. This effect otherwise acts as ",r.a.createElement("em",{className:"underline-hover",onClick:function(){return e.props.editModal("spell",null,63)}},"obscuring mist"),"."))},e.squidMinor=function(){var t,a=e.props.character_info.actions.move?"cannot-cast":"move",n=e.props.character_info.hardcode.limits;if(n){var l=n.find((function(e){return"Squid - Minor"===e.name}));t=l?4-l.cast:4}else t=4;return a=0===t?"cannot-cast":a,r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("button",{className:a,onClick:"cannot-cast"!==a?function(){return e.renderLimit("Squid - Minor",4)}:null},r.a.createElement("strong",null,"Jet"))),r.a.createElement("td",null,"Squid Jet (",t,"/4)"),r.a.createElement("td",null,"Jet up to ",2*e.props.character_info.hardcode.speed," ft in one direction. If you impact a surface, take 2d8 bludgeoning damage. If you are underwater, you move up to ",4*e.props.character_info.hardcode.speed," ft, and if you impact a surface, take 2d4 bludgeoning damage."))},e.squidMajor=function(){var t=e.props.character_info.actions.full?"cannot-cast":"full",a=e.props.character_info.actions.full?null:function(){return e.props.dispatch({type:"TRIGGER ACTION",action:"full"})};return r.a.createElement(r.a.Fragment,null,r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("button",{className:"free"},r.a.createElement("strong",null,"Ink"))),r.a.createElement("td",null,"Ink Cloud"),r.a.createElement("td",null,"Emit a 10-foot-radius cloud of ink once per minute while underwater. This cloud provides total concealment, and persists for 1 minute.")),r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("button",{className:t,onClick:a},r.a.createElement("strong",null,"Jet"))),r.a.createElement("td",null,"Jet"),r.a.createElement("td",null,"Move in a straight line up to 260 ft.")))},e.renderLimit=function(t,a,n){if(a)if(e.props.character_info.hardcode.limits){var r=e.props.character_info.hardcode.limits.find((function(e){return e.name===t}));r?(n&&r.cast<n||r.cast<a)&&e.props.dispatch({type:"LIMIT CASTING",name:t}):e.props.dispatch({type:"LIMIT CASTING",name:t})}else e.props.dispatch({type:"LIMIT CASTING",name:t});"Squid - Minor"===t&&e.props.dispatch({type:"TRIGGER ACTION",action:"move"})},e}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("section",null,r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Action"),r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"Usage"),r.a.createElement("th",null,"Dice"),r.a.createElement("th",null,"DC"),r.a.createElement("th",null,"Details"))),r.a.createElement("tbody",null,this.renderAbilities())))}}]),a}(r.a.Component),Mi=Object(h.b)((function(e){return{character:e.character,character_info:e.character_info,settings:e.settings}}))(Di),xi=Object(h.b)((function(e){return{currentUser:e.currentUser,admin:e.admin,character:e.character,character_info:e.character_info,settings:e.settings}}),(function(e){return{tooltip:function(t,a){return e({type:"TOOLTIP",message:t,target:a})},dispatch:e}}))((function(e){var t=Object(h.c)(),a=r.a.useState(!1),n=Object(U.a)(a,2),l=n[0],i=n[1],o=function(e){switch(e){case"Nettie":return T();case"Merg":return D();case"Cedrick":return x();case"Persephone":return M();case"Maddox":return F();case"Robby":return R();case"Festus":return I();case"Grackle":return N();default:return c()}},c=function(){var t=[];e.character.character_weapons.forEach((function(e){if(e.masterwork||e.name)t.push(Object(j.a)(Object(j.a)({},e),{},{count:1}));else{var a=t.find((function(t){return t.weapon.name===e.weapon.name}));a&&a.equipped===e.equipped?a.count++:t.push(Object(j.a)(Object(j.a)({},e),{},{count:1}))}}));Object(S.a)(t);"Majestik"===e.character.name?t.push({id:1001,name:"Harrow Card",description:"",equipped:null,known:!0,masterwork:!0,weapon:{id:1001,name:"Harrow Card",category:"Ranged",damage_type:"Piercing",critical:2,critical_range:20,damage_dice:4,num_of_dice:1,features:[],price_in_gp:1,source:{id:1001},thrown:!0,range:20,proficiency:"Simple",weapon_type:"Range"}}):"Fire-Roasted Tomatoes"===e.character.name?t.push({id:1001,name:"Fire Blast",description:"",equipped:null,known:!0,masterwork:!1,weapon:{id:1001,name:"Fire Blast",category:"Ranged",damage_type:"Fire",critical:2,critical_range:20,damage_dice:8,num_of_dice:1,features:[],price_in_gp:0,source:{id:1001},thrown:!0,range:30,proficiency:"Simple",weapon_type:"Range"}}):"Iyugi"===e.character.name&&t.push({id:1001,name:"Bite",description:"",equipped:null,known:!0,masterwork:!1,weapon:{id:1001,name:"Bite",category:"Light",damage_type:"Piercing",critical:2,critical_range:20,damage_dice:4,num_of_dice:1,features:[],price_in_gp:0,source:{id:1001},thrown:!0,range:0,proficiency:"Simple",weapon_type:"Melee"}}),t=t.filter((function(e){return!("Unarmed"===e.weapon.name||e.weapon.ammunition)}));var a=e.character.character_weapons.find((function(e){return"Unarmed"===e.weapon.name}));a&&t.push(a);var n=t.map(s);return(t.filter((function(e){return e.equipped})).length>1||t.find((function(e){return"Double"===e.equipped})))&&n.push(g()),n},s=function(t,a){var n=""!==t.name?t.name:t.weapon.name;t.masterwork&&!t.name&&(n="mwk "+n),t.count>1&&(n+=" (x".concat(t.count,")"));t.weapon.num_of_dice,t.weapon.damage_dice,t.weapon.damage_type;var l="standard",i="Attack",o=A(l),c=function(){return _(l,{characterWeapon:t,buttonName:i})};if(t.weapon.features.find((function(e){return e.loading}))){var s=t.weapon.features.find((function(e){return e.loading}));if(!t.magazine||t.magazine<0){switch(s.action.name){case"Move Action":l="move",o=na(s)}i="Reload",c=function(){return O(t,l)},("Off"===t.equipped&&e.character.character_weapons.find((function(e){return"Primary"===e.equipped}))||"Primary"===t.equipped&&e.character.character_weapons.find((function(e){return"Off"===e.equipped})))&&(l="none",i="Cannot Reload",c=null)}t.character_weapon_ammunition_id&&e.character.character_weapons.find((function(e){return e.id===t.character_weapon_ammunition_id})).ammunition_amount||t.improvised_ammunition||(l="none",i="No Ammo",o="cannot-cast",c=null)}if("true"===localStorage.computer){var d=u(t),h=f(t);return r.a.createElement("tr",{key:3*a-1},r.a.createElement("td",null,r.a.createElement("button",{className:o,onClick:c},r.a.createElement("strong",null,i))),r.a.createElement("td",null,r.a.createElement("div",{className:"underline-hover",onClick:function(){return P("weapon",t,{name:t.name||t.weapon.name})}},n)),r.a.createElement("td",{style:{display:"flex",flexWrap:"wrap"}},d),r.a.createElement("td",null,t.weapon.range?t.weapon.range+" ft":"-"),r.a.createElement("td",null,r.a.createElement("div",{style:{border:"1px solid #".concat(e.settings.borderColor),borderRadius:"0.3em",padding:"2px",cursor:"default"},onClick:function(){return m((t.name||t.weapon.name)+" Damage Roll",h)}},h)),r.a.createElement("td",null,v(t)),r.a.createElement("td",null,y(t).map(E)))}if("false"===localStorage.computer){var p={characterWeapon:t,critical:v(t),additionalInfo:y(t)};return r.a.createElement("tr",{key:3*a-1},r.a.createElement("td",null,r.a.createElement("button",{className:o,onClick:c},r.a.createElement("strong",null,i))),r.a.createElement("td",null,n),r.a.createElement("td",{style:B("abS",null,!0)},u(t)),r.a.createElement("td",null,f(t)),r.a.createElement("td",{style:{fontSize:"12px",border:"2px solid black",borderRadius:"0.5em"},onClick:function(){return e.editSidebar(!0,"bottom","attack",p)}},"See More"))}},u=function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=null,l=null,i={};"Natesse"!==e.character.name&&"Iyugi"!==e.character.name||"Light"!==t.weapon.category&&"Unarmed"!==t.weapon.category&&"Rapier"!==t.weapon.name||(i.finesse=!0),"Natesse"===e.character.name&&"Scimitar"===t.weapon.name&&(i.finesse=!0),"Melee"===t.weapon.weapon_type&&(n=ni(e.character,e.character_info,"melee",i)),("Range"===t.weapon.weapon_type||t.weapon.thrown)&&(l=ni(e.character,e.character_info,"range",i));var o=b(t)?0:-4;a=t.improvised_ammunition?a-1:a,a=t.masterwork?a+1:a,("Dink Weatherbyrst"===e.character.name&&"Heavy Pick"===t.weapon.name||"Natesse"===e.character.name&&"Scimitar"===t.weapon.name)&&(a+=1);var c=[];return null!==n&&c.push(ee(n+o+a)),null!==l&&c.push(ee(l+o+a)),t.weapon.thrown&&2===c.length&&c[0]!==c[1]?c.map((function(a,n){return r.a.createElement("span",{style:{border:"1px solid #".concat(e.settings.borderColor),borderRadius:"0.3em",padding:"2px",margin:"2px",cursor:"default"},onClick:function(){return d((t.name||t.weapon.name)+" Attack Roll",a)}},1===n?" (T ".concat(a,")"):a)})):c[0]===c[1]?c.map((function(a){return r.a.createElement("span",{style:{border:"1px solid #".concat(e.settings.borderColor),borderRadius:"0.3em",padding:"2px",margin:"2px",cursor:"default"},onClick:function(){return d((t.name||t.weapon.name)+" Attack Roll",a)}},a)}))[0]:c.map((function(a){return r.a.createElement("span",{style:{border:"1px solid #".concat(e.settings.borderColor),borderRadius:"0.3em",padding:"2px",margin:"2px",cursor:"default"},onClick:function(){return d((t.name||t.weapon.name)+" Attack Roll",a)}},a)}))},d=function(e,t){var a={rollName:e,modifier:parseInt(t),die:20,count:1};W(a)},m=function(e,t){var a=parseInt(t),n=parseInt(t.split("d")[1]),r=parseInt(t.split("+")[1])||parseInt(t.split("-")[1])||0;n&&W({rollName:e,modifier:r,die:n,count:a})},f=function(e,t){var a,n,r=null,l=e.weapon.damage_type,i=e.weapon.num_of_dice+"d"+e.weapon.damage_dice,o=q(i,r);if(e.weapon.features.find((function(e){return e.loading}))&&e.improvised_ammunition&&(r="-1"),null===t||void 0===t?void 0:t.double){var c=e.weapon.double_num_of_dice+"d"+e.weapon.double_damage_dice,s=e.weapon.double_damage_type,u=q(c,r),d=L(e,e.weapon.weapon_type);return"".concat(o).concat(d[0]," ").concat(l[0],"/").concat(u).concat(d[1]," ").concat(s[0])}return"Melee"===e.weapon.weapon_type?a="".concat(o).concat("string"===typeof L(e,"Melee")?L(e,"Melee"):L(e,"Melee")[0]," ").concat(l[0]):"Range"!==e.weapon.weapon_type||e.weapon.thrown||(a="".concat(o).concat("string"===typeof L(e,"Range")?L(e,"Range"):L(e,"Range")[0]," ").concat(l[0])),e.weapon.thrown&&(n="".concat(o).concat("string"===typeof L(e,"Thrown")?L(e,"Thrown"):L(e,"Thrown")[0]," ").concat(l[0]),"Range"===e.weapon.weapon_type&&(a=n,n=null)),a!=n&&n?"".concat(a," (T ").concat(n,")"):a},g=function(){var t,a,n,l,i=[-6,-10],o=e.character.character_weapons.filter((function(e){return e.equipped})),c=o.find((function(e){return"Primary"===e.equipped})),s=o.find((function(e){return"Off"===e.equipped})),d=o.find((function(e){return"Double"===e.equipped}));function m(e){return""!==e.name?e.name:e.weapon.name}function h(e){return e.weapon.range?e.weapon.range+" ft":"-"}return(d||s&&"Light"===s.weapon.category)&&(i[0]=i[0]+2,i[1]=i[1]+2),"Iyugi"===e.character.name&&(i[0]=i[0]+2,i[1]=i[1]+6),d?(t=r.a.createElement("div",{style:{display:"flex",flexWrap:"wrap"}},u(d,i[0]),"/",u(d,i[1])),a=h(d),n=f(d,{double:!0}),l=[d]):c&&s&&(t=r.a.createElement("div",{style:{display:"flex",flexWrap:"wrap"}},u(c,i[0]),"/",u(s,i[1])),a=h(c)===h(s)?"".concat(h(c)):"".concat(h(c),"/").concat(h(s)),n=f(c)===f(s)?"".concat(f(c)):"".concat(f(c),"/").concat(f(s)),l=[c,s]),r.a.createElement("tr",{style:{color:"#".concat(e.settings.textColor)}},r.a.createElement("td",null,r.a.createElement("button",{className:A("full"),onClick:function(){return w(l)}},r.a.createElement("strong",null,"Attack"))),r.a.createElement("td",null,d?m(d):"".concat(m(c)," / ").concat(m(s))),r.a.createElement("td",null,t),r.a.createElement("td",null,a),r.a.createElement("td",null,n),r.a.createElement("td",null),r.a.createElement("td",null))},b=function(t){var a=!0,n=e.character_info.proficiencies.weapon;return n.groups.find((function(e){return e.proficiency_group===t.weapon.proficiency}))||n.individualIds.find((function(e){return t.weapon.id===e.weapon_id}))||(a=!1),"Bastard Sword"===t.weapon.name&&(a=!(!n.groups.includes("Martial")||"Two"!==t.equipped)||!!n.individualIds.includes(t.weapon.id)),a},v=function(e){var t=e.weapon,a="";return t.critical_range<20&&(a=t.critical_range+"-20/"),a+="x"+t.critical},y=function(t){var a=[];return b(t)||a.push({name:"Not Proficient",tooltip:"-4 penalty to attack rolls if you are not proficient",sidebarRules:0,italics:!1}),t.improvised_ammunition&&a.push({name:"Improvised Ammo",tooltip:"-1 penalty to attack rolls, 1 size category smaller damage die",sidebarRules:0,italics:!1}),"Ranged"!==t.weapon.category&&("Primary"===t.equipped&&a.push({name:"Primary",tooltip:"Wielded in primary hand, 1x Str bonus to damage",sidebarRules:0,italics:!1}),"Off"===t.equipped&&a.push({name:"Off",tooltip:"Wielded in off hand, 0.5x Str bonus to damage",sidebarRules:0,italics:!1}),"Two"===t.equipped&&a.push({name:"Two-Handed",tooltip:"Wielded in both hands, 1.5x Str bonus to damage",sidebarRules:0,italics:!1}),"Double"===t.equipped&&a.push({name:"Double Weapon",tooltip:"Wielded in both hands, 1x Str bonus to damage on primary attack, 0.5x Str bonus to damage on off attack",sidebarRules:0,italics:!1}),"Melee"===t.weapon.weapon_type&&t.weapon.thrown&&a.push({name:"Thrown",tooltip:"If throwing, use second attack bonus (T)",sidebarRules:0,italics:!1})),t.character_weapon_ammunition_id&&a.push({name:V(t),tooltip:null,italics:!1,sidebarRules:0}),"Harrow Card"===t.name&&a.push({name:"Magic Weapon",tooltip:"You must use your Swift Action on Arcane Strike to enchant these cards to be used as weapons.",sidebarRules:0,italics:!1}),"Fire Blast"===t.name&&(a.push({name:"Touch AC",tooltip:"This attack resolves against Touch AC.",sidebarRules:0,italics:!1}),a.push({name:"Wild Talents",tooltip:"Can augment with your Substance Infusions (DC 14) or Form Infusions (DC 12)",sidebarRules:0,italics:!1})),"Iyugi"===e.character.name&&("Dagger"===t.weapon.name?a.push({name:"Sneak Attack +2d8",tooltip:"If target is Denied Dex bonus to AC, or you are Flanking their, +2d8 Precision Damage",sidebarRules:0,italics:!1}):a.push({name:"Sneak Attack +2d4",tooltip:"If target is Denied Dex bonus to AC, or you are Flanking their, +2d4 Precision Damage",sidebarRules:0,italics:!1})),"Dz'eyn"===e.character.name&&(a.push({name:"Studied Target",tooltip:"+1 to Attacks and Damage if target is studied",sidebarRules:0,italics:!1}),a.push({name:"Sneak Attack +1d6",tooltip:"If target is Denied Dex bonus to AC, or you are Flanking their, +1d6 Precision Damage",sidebarRules:0,italics:!1}),(t.weapon.thrown||"Ranged"===t.weapon.category)&&(a.push({name:"Point-Blank Shot",tooltip:"+1 to Attacks and Damage if within 30 ft",sidebarRules:0,italics:!1}),a.push({name:"Precise Shot",tooltip:"Attack engaged target without penalty",sidebarRules:0,italics:!1}))),a},E=function(e,t,a){var n=", ";return t===a.length-1&&(n=""),e.italics?r.a.createElement("em",null,e.name,n):r.a.createElement("span",{key:3*t-1,onMouseOver:function(t){return k(e,t)},onMouseOut:function(t){return k(e,t)}},e.name,n)},k=function(t,a){e.tooltip(t.tooltip,a.target)},w=function(e){e.forEach((function(e,t){_(0===t?"full":"free",{characterWeapon:e})}))},_=function(a,n){var r,l,i=e.character_info.actions;if(("standard"===a||"move"===a||"swift"===a)&&i.full)return null;if("full"===a&&(i.standard||i.move||i.swift))return null;if(i[a])return null;if(e.dispatch({type:"TRIGGER ACTION",action:a}),n.characterWeapon){var o=n.characterWeapon;if("move"!==a||o.equipped||"Equip"!==n.buttonName||console.log("do something here"),"Ranged"===o.weapon.category&&(o.character_weapon_ammunition_id||o.improvised_ammunition)&&o.weapon.features.find((function(e){var t;return null===(t=e.loading)||void 0===t?void 0:t.id}))){var c=e.character.character_weapons.find((function(e){return e.id===o.character_weapon_ammunition_id}));t((r=o,l=c,function(e){var t=l?l.ammunition_amount-1:0;fetch("".concat(p,"/api/v1/character_weapons_update_ammo/").concat(r.id),{method:"PATCH",headers:{"Content-Type":"application/json",Response:"application/json"},body:JSON.stringify({magazine:r.magazine-1,ammunition_amount:t})}).then((function(e){return e.json()})).then((function(a){e({type:"UPDATE AMMO",cw:r,magazine:r.magazine-1,ammunition_amount:t})}))}))}}},C=function(t,a){var n=e.character_info.actions;return"standard"!==t&&"move"!==t&&"swift"!==t||!n.full?"full"===t&&(n.standard||n.move||n.swift)||n[t]?null:(e.dispatch({type:"TRIGGER ACTION",action:t}),"charge"===a&&e.dispatch({type:"CHARGE"}),"cleave"===a&&e.dispatch({type:"CLEAVE"}),"Long Bow"!==a&&"Revolver"!==a||e.dispatch({type:"SPEND AMMO",weapon:a}),void("bomb"===a&&e.dispatch({type:"POINTS CHANGE",amount:"increase"}))):null},O=function(a,n){var r=a.weapon.features.find((function(e){return e.loading})).loading.capacity;e.character.character_weapons.find((function(e){return e.id===a.character_weapon_ammunition_id}));t(function(e,t){return function(a){fetch("".concat(p,"/api/v1/character_weapons_update_ammo/").concat(e.id),{method:"PATCH",headers:{"Content-Type":"application/json",Response:"application/json"},body:JSON.stringify({magazine:t})}).then((function(e){return e.json()})).then((function(n){a({type:"UPDATE AMMO",cw:e,magazine:t})}))}}(a,r)),_(n,{})},A=function(t){var a=e.character_info.actions;return"standard"!==t&&"move"!==t&&"swift"!==t||!a.full?"full"===t&&(a.standard||a.move||a.swift)||a[t]?"cannot-cast":t:"cannot-cast"},T=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("button",{className:A("standard"),onClick:function(){return C("standard")}},r.a.createElement("strong",null,"Attack"))),r.a.createElement("td",null,r.a.createElement("em",null,"+1 Glammered Rapier")),r.a.createElement("td",null,"+10"),r.a.createElement("td",null,"-"),r.a.createElement("td",null,q("1d6"),"+3 P"),r.a.createElement("td",null,"18-20/x2"),r.a.createElement("td",null,"Finesse")),r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("button",{className:A("standard"),onClick:function(){return C("standard")}},r.a.createElement("strong",null,"Attack"))),r.a.createElement("td",null,"Unarmed"),r.a.createElement("td",null,"+9"),r.a.createElement("td",null,"-"),r.a.createElement("td",null,"3 B"),r.a.createElement("td",null,"x2"),r.a.createElement("td",null,"Non-lethal")))},I=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("button",{className:A("standard"),onClick:function(){return C("standard")}},r.a.createElement("strong",null,"Attack"))),r.a.createElement("td",null,"Unarmed Strike"),r.a.createElement("td",{style:B("abS",null,!0)},B("abS")>=0?"+"+B("abS"):B("abS")),r.a.createElement("td",null,"-"),r.a.createElement("td",null,q("1d8"),r.a.createElement("span",{style:B("damageS",null,!0)},B("damageS")>=0?"+"+B("damageS"):B("damageS"))," B"),r.a.createElement("td",null,"x2"),r.a.createElement("td",null,"Ignore DR/magic")),r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("button",{className:A("full"),onClick:function(){return C("full")}},r.a.createElement("strong",null,"Attack"))),r.a.createElement("td",null,"Unarmed Strikes"),r.a.createElement("td",{style:B("abS",null,!0)},B("abS")-2>=0?"+"+(B("abS")-2):B("abS")-2,"/",B("abS")-2>=0?"+"+(B("abS")-2):B("abS")-2,"/",B("abS")-2>=0?"+"+(B("abS")-2):B("abS")-2),r.a.createElement("td",null,"-"),r.a.createElement("td",null,q("1d8"),r.a.createElement("span",{style:B("damageS",null,!0)},B("damageS")>=0?"+"+B("damageS"):B("damageS"))," B"),r.a.createElement("td",null,"x2"),r.a.createElement("td",null,"Ignore DR/magic")))},N=function(){return"false"===localStorage.computer?[{name:"Bomb",action:null,buttonName:"Expand",attackBonus:"Dexterity",hardcodeAttackBonus:1,range:20,damageDice:"4d6",hardcodeDamageBonus:6,damageBonus:"Dexterity",damageType:"Fire",strengthMultiplier:null,finesse:null,additionalDetails:"bomb",critical:"x2",special:r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{onMouseOver:function(e){return"Splash"},onMouseOut:e.mouseOut},"Splash"),", Those caught in the splash damage can attempt a Reflex save for half damage."),toggle:["bombs",i],displayIfTrue:null},{name:"Frost Bomb",action:"standard",dispatchDetails:"bomb",buttonName:"Attack",attackBonus:null,hardcodeAttackBonus:0,range:null,damageDice:"4d6",hardcodeDamageBonus:6,damageBonus:"Dexterity",damageType:"Cold",strengthMultiplier:null,finesse:null,additionalDetails:"bomb",critical:"x2",special:r.a.createElement(r.a.Fragment,null,"Creatures that take a direct hit from a frost bomb are staggered on their next turn unless they succeed on a Fortitude save."),toggle:null,displayIfTrue:"bombs"}]:r.a.createElement(r.a.Fragment,null,r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("button",{onClick:function(){return i(!l)}},l?"v":">")),r.a.createElement("td",null,"Bomb"),r.a.createElement("td",{style:B("abD",null,!0)},B("abD")+1>=0?"+"+(B("abD")+1):B("abD")+1),r.a.createElement("td",null,"20 ft"),r.a.createElement("td",null,q("4d6"),r.a.createElement("span",{style:B("damageD",null,!0)},B("damageD",null,null,null,"bomb")+6>=0?"+"+(B("damageD",null,null,null,"bomb")+6):B("damageD",null,null,null,"bomb")+6)," Fire"),r.a.createElement("td",null,"x2"),r.a.createElement("td",null,r.a.createElement("span",{onMouseOver:function(e){return z(e,"Splash")},onMouseOut:e.mouseOut},"Splash"),", Those caught in the splash damage can attempt a Reflex save for half damage.")),l&&r.a.createElement(r.a.Fragment,null,r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("button",{className:A("standard"),onClick:function(){return C("standard","bomb")}},r.a.createElement("strong",null,"Attack"))),r.a.createElement("td",null,"Frost Bomb"),r.a.createElement("td",null),r.a.createElement("td",null),r.a.createElement("td",null,q("4d6"),r.a.createElement("span",{style:B("damageD",null,!0)},B("damageD",null,null,null,"bomb")+6>=0?"+"+(B("damageD",null,null,null,"bomb")+6):B("damageD",null,null,null,"bomb")+6)," Cold"),r.a.createElement("td",null),r.a.createElement("td",null,"Creatures that take a direct hit from a frost bomb are staggered on their next turn unless they succeed on a Fortitude save.")),r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("button",{className:A("standard"),onClick:function(){return C("standard","bomb")}},r.a.createElement("strong",null,"Attack"))),r.a.createElement("td",null,"Healing Bomb"),r.a.createElement("td",null),r.a.createElement("td",null),r.a.createElement("td",null),r.a.createElement("td",null),r.a.createElement("td",null,"Creating a healing bomb requires the alchemist to expend an infused extract or potion containing a ",r.a.createElement("em",null,"cure")," spell. A creature that takes a direct hit from a healing bomb is healed as if she had imbibed the infusion or potion used to create the bomb.")),r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("button",{className:A("standard"),onClick:function(){return C("standard","bomb")}},r.a.createElement("strong",null,"Attack"))),r.a.createElement("td",null,"Stink Bomb"),r.a.createElement("td",null),r.a.createElement("td",null),r.a.createElement("td",null),r.a.createElement("td",null),r.a.createElement("td",null,"Duplicate the effects of ",r.a.createElement("em",null,"stinking cloud")," instead of ",r.a.createElement("em",null,"fog cloud"),", filling an area equal to twice the bomb's splash radius for 1 round."))),r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("button",{className:A("standard"),onClick:function(){return C("standard","Long Bow")}},r.a.createElement("strong",null,"Attack"))),r.a.createElement("td",{onClick:function(){return e.editModal("ammo",null,null,{name:"weapon",type:"ACTIVE WEAPON",weapon:"Long Bow"})}},"Long Bow ",V("Long Bow")),r.a.createElement("td",{style:B("abD",null,!0)},B("abD")>=0?"+"+B("abD"):B("abD")),r.a.createElement("td",null,"100 ft"),r.a.createElement("td",null,q("1d8"),r.a.createElement("span",{style:B("damageD",null,!0)},B("damageD")>=0?"+"+B("damageD"):B("damageD"))," P"),r.a.createElement("td",null,"x3"),r.a.createElement("td",null)),r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("button",{className:A("standard"),onClick:function(){return C("standard")}},r.a.createElement("strong",null,"Attack"))),r.a.createElement("td",null,"Unarmed"),r.a.createElement("td",{style:B("abS",null,!0)},"+",B("abS")),r.a.createElement("td",null,"-"),r.a.createElement("td",null,q("1d3"),r.a.createElement("span",{style:B("damageS",null,!0)},"+",B("damageS"))," B ",Y()),r.a.createElement("td",null,"x2"),r.a.createElement("td",null,"Non-lethal")))},D=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("button",{className:A("standard"),onClick:function(){return C("standard")}},r.a.createElement("strong",null,"Attack"))),r.a.createElement("td",null,r.a.createElement("em",null,"+3 unholy/- Orc Double Axe")),r.a.createElement("td",{style:B("abS",null,!0)},"+",B("abS")+3+1),r.a.createElement("td",null,"-"),r.a.createElement("td",null,q("1d8"),"+",r.a.createElement("span",{style:B("damageS",null,!0)},B("damageS")+3)," S ",Y(),"(+2d6 v. good)"),r.a.createElement("td",null,"x2"),r.a.createElement("td",null,"Double, ",r.a.createElement("em",{onMouseOver:function(e){return z(e,"unholy")},onMouseOut:e.mouseOut},"unholy")," on one blade")),r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("button",{className:A("standard"),onClick:function(){return C("standard")}},r.a.createElement("strong",null,"Attack"))),r.a.createElement("td",null,r.a.createElement("em",null,"+1 construct bane Morningstar")),r.a.createElement("td",{style:B("abS",null,!0)},"+",B("abS")+1),r.a.createElement("td",null,"-"),r.a.createElement("td",null,q("1d10"),"+",r.a.createElement("span",{style:B("damageS",null,!0)},B("damageS")+1)," S ",Y()),r.a.createElement("td",null,"x2"),r.a.createElement("td",null,r.a.createElement("em",{onMouseOver:function(e){return z(e,"bane")},onMouseOut:e.mouseOut},"bane"))),r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("button",{className:A("full"),onClick:function(){return C("full")}},r.a.createElement("strong",null,"Attack"))),r.a.createElement("td",null,r.a.createElement("em",null,"+3 unholy/- Orc Double Axe")),r.a.createElement("td",{style:B("abS",null,!0)},"+",B("abS")+3-2+1,"/+",B("abS")-2+1,"/+",B("abS")-2-5+1),r.a.createElement("td",null,"-"),r.a.createElement("td",null,q("1d8"),"+",r.a.createElement("span",{style:B("damageS",null,!0)},B("damageS")+3)," S ",Y(),"/ ",q("1d8"),"+",r.a.createElement("span",{style:B("damageS",null,!0)},B("damageS"))," S ",Y()),r.a.createElement("td",null,"x2"),r.a.createElement("td",null,"Double, ",r.a.createElement("em",{onMouseOver:function(e){return z(e,"unholy")},onMouseOut:e.mouseOut},"unholy")," on one blade")),r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("button",{className:A("standard"),onClick:function(){return C("standard")}},r.a.createElement("strong",null,"Attack"))),r.a.createElement("td",null,"Dagger"),r.a.createElement("td",{style:B("abS",null,!0)},B("abS")>=0?"+"+B("abS"):B("abS"),", ",B("abD")>=0?"+"+B("abD"):B("abD")),r.a.createElement("td",null,"10 ft."),r.a.createElement("td",null,q("1d4"),r.a.createElement("span",{style:B("damageS",null,!0)},B("damageS")>=0?"+"+B("damageS"):B("damageS"))," S/P"),r.a.createElement("td",null,"19-20/x2"),r.a.createElement("td",null,"If thrown, use second attack bonus")),r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("button",{className:A("standard"),onClick:function(){return C("standard")}},r.a.createElement("strong",null,"Attack"))),r.a.createElement("td",null,"Unarmed"),r.a.createElement("td",{style:B("abS",null,!0)},"+",B("abS")),r.a.createElement("td",null,"-"),r.a.createElement("td",null,r.a.createElement("span",{style:B("damageS",null,!0)},B("damageS")+1)," B ",Y()),r.a.createElement("td",null,"x2"),r.a.createElement("td",null,"Non-lethal")))},M=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("button",{className:A("standard"),onClick:function(){return C("standard")}},r.a.createElement("strong",null,"Attack"))),r.a.createElement("td",{onClick:function(){return e.editModal("ammo",null,null,{name:"weapon",type:"ACTIVE WEAPON",weapon:"Light Crossbow"})}},"Light Crossbow ",V("Light Crossbow")),r.a.createElement("td",{style:B("abD",null,!0),onMouseOver:function(e){return z(e,"PBS")},onMouseOut:e.mouseOut},"+",B("abD"),"*"),r.a.createElement("td",null,"80 ft"),r.a.createElement("td",{onMouseOver:function(e){return z(e,"PBS")},onMouseOut:e.mouseOut},q("1d8"),"+",r.a.createElement("span",{style:B("damageD",null,!0)},B("damageD"),"*")," P"),r.a.createElement("td",null,"19-20/x2"),r.a.createElement("td",null,r.a.createElement("span",{onMouseOver:function(e){return z(e,"Load Light")},onMouseOut:e.mouseOut},"Load*"),e.character_info.hardcode.arcane_strike?", Ignore DR/magic":null)),r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("button",{className:A("standard"),onClick:function(){return C("standard")}},r.a.createElement("strong",null,"Attack"))),r.a.createElement("td",null,"Claws"),r.a.createElement("td",{style:B("abS",null,!0),onMouseOver:function(e){return z(e,"PBS")},onMouseOut:e.mouseOut},"+",B("abS")),r.a.createElement("td",null,"-"),r.a.createElement("td",null,q("1d4"),r.a.createElement("span",{style:B("damageS",null,!0)},B("damageS"))," S"),r.a.createElement("td",null,"x2"),r.a.createElement("td",null,e.character_info.hardcode.arcane_strike?", Ignore DR/magic":null)))},x=function(){return r.a.createElement(r.a.Fragment,null,G(),"Condor - Combat"===e.character_info.hardcode.combat&&r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("button",{className:A("standard"),onClick:function(){return C("standard","cleave")}},r.a.createElement("strong",null,"Attack"))),r.a.createElement("td",null,"Cleave - Shifter Claws"),r.a.createElement("td",{style:B("abS",null,!0)},"+",B("abS")+1+1,"/+",B("abS")+1+1),r.a.createElement("td",null,"-"),r.a.createElement("td",null,q("1d8"),"+",r.a.createElement("span",{style:B("damageS",null,!0)},B("damageS")+1)," P"),r.a.createElement("td",null,"x2"),r.a.createElement("td",null,"If you hit the first target, you may make a second attack on a target adjacent to the first and within reach","Chameleon - Combat"===e.character_info.hardcode.combat&&", if hidden from attacker, +4 to attack roll")),"Squid - Combat"===e.character_info.hardcode.combat&&r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("button",{className:A("standard"),onClick:function(){return C("standard","cleave")}},r.a.createElement("strong",null,"Attack"))),r.a.createElement("td",null,"Tentacle"),r.a.createElement("td",{style:B("abS",null,!0)},"+",B("abS")-5),r.a.createElement("td",null,"-"),r.a.createElement("td",null,q("1d3"),"+",r.a.createElement("span",{style:B("damageS",null,!0)},B("damageS"))," B"),r.a.createElement("td",null,"x2"),r.a.createElement("td",null,"Secondary natural attack","Chameleon - Combat"===e.character_info.hardcode.combat&&", if hidden from attacker, +4 to attack roll")))},F=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("button",{className:A("standard"),onClick:function(){return C("standard")}},r.a.createElement("strong",null,"Attack"))),r.a.createElement("td",null,"Quarterstaff"),r.a.createElement("td",{style:B("abS",null,!0)},"+",B("abS")),r.a.createElement("td",null,"-"),r.a.createElement("td",null,q("1d6"),r.a.createElement("span",{style:B("damageS",null,!0)},B("damageS")>=0?"+"+B("damageS"):B("damageS"))," B"),r.a.createElement("td",null,"x2"),r.a.createElement("td",null,"Double")),r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("button",{className:A("standard"),onClick:function(){return C("standard")}},r.a.createElement("strong",null,"Attack"))),r.a.createElement("td",null,"Dagger"),r.a.createElement("td",{style:B("abS",null,!0)},B("abS")>=0?"+"+B("abS"):B("abS"),", ",B("abD")>=0?"+"+B("abD"):B("abD")),r.a.createElement("td",null,"10 ft."),r.a.createElement("td",null,q("1d4"),r.a.createElement("span",{style:B("damageS",null,!0)},B("damageS")>=0?"+"+B("damageS"):B("damageS"))," S/P"),r.a.createElement("td",null,"19-20/x2"),r.a.createElement("td",null,"If thrown, use second attack bonus")),r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("button",{className:A("standard"),onClick:function(){return C("standard")}},r.a.createElement("strong",null,"Attack"))),r.a.createElement("td",null,r.a.createElement("em",null,"+1 Flaming Cestus")),r.a.createElement("td",{style:B("abS",null,!0)},B("abS")+1>=0?"+"+(B("abS")+1):B("abS")+1),r.a.createElement("td",null,"-"),r.a.createElement("td",null,q("1d4"),r.a.createElement("span",{style:B("damageS",null,!0)},B("damageS")+1>=0?"+"+(B("damageS")+1):B("damageS")+1)," B/P +1d6 fire"),r.a.createElement("td",null,"19-20/x2"),r.a.createElement("td",null,"If wielded, -2 penalty to precision-based tasks with that hand, ",r.a.createElement("em",{onMouseOver:function(e){return z(e,"flaming")},onMouseOut:e.mouseOut},"flaming"))),r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("button",{className:A("standard"),onClick:function(){return C("standard")}},r.a.createElement("strong",null,"Attack"))),r.a.createElement("td",null,"Augmented Shortsword AN-7f"),r.a.createElement("td",{style:B("abS",null,!0)},B("abS")+1>=0?"+"+(B("abS")+1):B("abS")+1),r.a.createElement("td",null,"-"),r.a.createElement("td",null,q("1d6"),r.a.createElement("span",{style:B("damageS",null,!0)},B("damageS")+1>=0?"+"+(B("damageS")+1):B("damageS")+1)," B/P +1d4 cold"),r.a.createElement("td",null,"19-20/x3"),r.a.createElement("td",null,"+2 to Trip and Disarm Combat Maneuvers, ",r.a.createElement("span",{onMouseOver:function(e){return z(e,"crazed")},onMouseOut:e.mouseOut},"crazed energy"))),r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("button",{className:A("full"),onClick:function(){return C("full")}},r.a.createElement("strong",null,"Attack"))),r.a.createElement("td",null,"Quarterstaff"),r.a.createElement("td",{style:B("abS",null,!0)},B("abS")-4>=0?"+"+B("abS")-4:B("abS")-4,"/",B("abS")-8>=0?"+"+B("abS")-8:B("abS")-8),r.a.createElement("td",null,"-"),r.a.createElement("td",null,q("1d6"),r.a.createElement("span",{style:B("damageS",null,!0)},B("damageS")>=0?"+"+B("damageS"):B("damageS"))," B/",q("1d6")," ",r.a.createElement("span",{style:B("damageS",null,!0)},B("damageS")>=0?"+"+B("damageS"):B("damageS"))," B"),r.a.createElement("td",null,"x2"),r.a.createElement("td",null,"Double")))},R=function(){var t=e.character_info.hardcode.precise?6:3,a=e.character_info.hardcode.points;return t=a>0||6===t?t:0,r.a.createElement(r.a.Fragment,null,r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("button",{className:A("standard"),onClick:function(){return C("standard")}},r.a.createElement("strong",null,"Attack"))),r.a.createElement("td",null,"Trident (Tempest Trishula)"),r.a.createElement("td",{style:B("abD",null,!0,!0)},B("abD",null,null,!0)+1>=0?"+"+(B("abD",null,null,!0)+1):B("abD",null,null,!0)+1,", ",B("abD")+1>=0?"+"+(B("abD")+1):B("abD")+1),r.a.createElement("td",null,"10 ft"),r.a.createElement("td",null,q("1d8"),r.a.createElement("span",{style:B("damageS",null,!0)},B("damageS")+4+t+1>=0?"+"+(B("damageS")+4+t+1):B("damageS")+4+t+1)," P +1d6 elec , ",q("1d8"),r.a.createElement("span",{style:B("damageS",null,!0)},B("damageS")+t+1>=0?"+"+(B("damageS")+t+1):B("damageS")+t+1)," P +1d6 elec"),r.a.createElement("td",null,"x2"),r.a.createElement("td",null,"If thrown, use second attack bonus and damage, ",r.a.createElement("span",{onMouseOver:function(e){return z(e,"brace")},onMouseOut:e.mouseOut},"Brace"),a>0?", Precise Strike":null,r.a.createElement("span",{onMouseOver:function(e){return z(e,"sneak attack")},onMouseOut:e.mouseOut},", Sneak Attack +2d6"),r.a.createElement("span",{className:"underline-hover",onClick:function(){return e.editModal("debilitating")}},", Debilitating Injury"),r.a.createElement("em",{onMouseOver:function(e){return z(e,"shock")},onMouseOut:e.mouseOut},", shock"),r.a.createElement("em",{onMouseOver:function(e){return z(e,"returning")},onMouseOut:e.mouseOut},", returning"))),r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("button",{className:A("standard"),onClick:function(){return C("standard")}},r.a.createElement("strong",null,"Attack"))),r.a.createElement("td",null,"Cane Sword"),r.a.createElement("td",{style:B("abD",null,!0,!0)},B("abD",null,null,!0)>=0?"+"+B("abD",null,null,!0):B("abD",null,null,!0)),r.a.createElement("td",null,"-"),r.a.createElement("td",null,q("1d6"),r.a.createElement("span",{style:B("damageS",null,!0)},B("damageS")+t>=0?"+"+(B("damageS")+t):B("damageS")+t)," P"),r.a.createElement("td",null,"x2"),r.a.createElement("td",null,a>0?"Precise Strike":null,r.a.createElement("span",{onMouseOver:function(e){return z(e,"sneak attack")},onMouseOut:e.mouseOut},", Sneak Attack +2d6"),r.a.createElement("span",{className:"underline-hover",onClick:function(){return e.editModal("debilitating")}},", Debilitating Injury"))),r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("button",{className:A("standard"),onClick:function(){return C("standard","Long Bow")}},r.a.createElement("strong",null,"Attack"))),r.a.createElement("td",{onClick:function(){return e.editModal("ammo",null,null,{name:"weapon",type:"ACTIVE WEAPON",weapon:"Long Bow"})}},"Long Bow ",V("Long Bow")),r.a.createElement("td",{style:B("abD",null,!0)},B("abD")>=0?"+"+B("abD"):B("abD")),r.a.createElement("td",null,"100 ft"),r.a.createElement("td",null,q("1d8"),r.a.createElement("span",{style:B("damageD",null,!0)},B("damageD")>=0?"+"+B("damageD"):B("damageD"))," P"),r.a.createElement("td",null,"x3"),r.a.createElement("td",null,r.a.createElement("span",{onMouseOver:function(e){return z(e,"sneak attack")},onMouseOut:e.mouseOut},"Sneak Attack +2d6"),r.a.createElement("span",{className:"underline-hover",onClick:function(){return e.editModal("debilitating")}},", Debilitating Injury"),"+1 cunning arrow"===V("Long Bow",!0)?r.a.createElement("em",{onMouseOver:function(e){return z(e,"cunning")},onMouseOut:e.mouseOut},", cunning"):null)),r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("button",{className:A("standard"),onClick:function(){return C("standard")}},r.a.createElement("strong",null,"Attack"))),r.a.createElement("td",null,"Harpoon"),r.a.createElement("td",{style:B("abD",null,!0)},B("abS")-4>=0?"+"+(B("abS")-4):B("abS")-4,", ",B("abD")-4>=0?"+"+(B("abD")-4):B("abD")-4),r.a.createElement("td",null,"10 ft"),r.a.createElement("td",null,q("1d8"),r.a.createElement("span",{style:B("damageS",null,!0)},B("damageS")>=0?"+"+B("damageS"):B("damageS"))," P"),r.a.createElement("td",null,"x3"),r.a.createElement("td",null,"If thrown, use the second attack bonus, not proficient",r.a.createElement("span",{onMouseOver:function(e){return z(e,"sneak attack")},onMouseOut:e.mouseOut},", Sneak Attack +2d6"),r.a.createElement("span",{className:"underline-hover",onClick:function(){return e.editModal("debilitating")}},", Debilitating Injury"))),r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("button",{className:A("standard"),onClick:function(){return C("standard")}},r.a.createElement("strong",null,"Attack"))),r.a.createElement("td",null,"Net"),r.a.createElement("td",{style:B("abD",null,!0)},B("abD")>=0?"+"+B("abD"):B("abD")),r.a.createElement("td",null,"Max 10 ft"),r.a.createElement("td",null,"entangled"),r.a.createElement("td",null),r.a.createElement("td",null,"Attack vs. Touch AC")),r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("button",{className:A("standard"),onClick:function(){return C("standard")}},r.a.createElement("strong",null,"Attack"))),r.a.createElement("td",null,"Lasso"),r.a.createElement("td",{style:B("abD",null,!0)},B("abD")-4>=0?"+"+(B("abD")-4):B("abD")-4),r.a.createElement("td",null,"10 ft"),r.a.createElement("td",null,"entangled"),r.a.createElement("td",null),r.a.createElement("td",null,"Attack vs. Touch AC, not proficient")),r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("button",{className:A("standard"),onClick:function(){return C("standard","Revolver")}},r.a.createElement("strong",null,"Attack"))),r.a.createElement("td",{onClick:function(){return e.editModal("ammo",null,null,{name:"weapon",type:"ACTIVE WEAPON",weapon:"Revolver"})}},"Revolver ",V("Revolver")),r.a.createElement("td",{style:B("abD",null,!0),onMouseOver:function(e){return z(e,"touch")},onMouseOut:e.mouseOut},B("abD")-4>=0?"+"+(B("abD")-4):B("abD")-4,"*"),r.a.createElement("td",null,"20 ft"),r.a.createElement("td",null,q("1d8"),r.a.createElement("span",{style:B("damageD",null,!0)},B("damageD")>=0?"+"+B("damageD"):B("damageD"))," B/P"),r.a.createElement("td",null,"x4"),r.a.createElement("td",null,r.a.createElement("span",{onMouseOver:function(e){return z(e,"misfire")},onMouseOut:e.mouseOut},"Misfire 5, "),r.a.createElement("span",{onMouseOver:function(e){return z(e,"capacity")},onMouseOut:e.mouseOut},"Capacity 6, "),r.a.createElement("span",{onMouseOver:function(e){return z(e,"Load Light")},onMouseOut:e.mouseOut},"Reload, "),r.a.createElement("span",{onMouseOver:function(e){return z(e,"sneak attack")},onMouseOut:e.mouseOut},"Sneak Attack +2d6, "),r.a.createElement("span",{className:"underline-hover",onClick:function(){return e.editModal("debilitating")}},"Debilitating Injury"))),r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("button",{className:A("full"),onClick:function(){return C("full")}},r.a.createElement("strong",null,"Attack"))),r.a.createElement("td",null,"Any Two Attacks"),r.a.createElement("td",{style:B("abS",null,!0)},"See Text"),r.a.createElement("td",null,"-"),r.a.createElement("td",null,"See Weapons"),r.a.createElement("td",null,"-"),r.a.createElement("td",null,"Quick Draw feat lets you use any two weapons. First attack is made at full attack bonus, second attack has a -5 penalty")))},L=function t(a,n){var r=0,l=[],i=e.character_info.bonuses,o=X(e.character_info.ability_scores.strength),c=X(e.character_info.ability_scores.dexterity);if(i.forEach((function(e){("Damage"===e.statistic&&Z.a.capitalize(e.specific_statistic)===n||"Damage"===e.statistic&&"weapon"===e.specific_statistic||"Damage"===e.statistic&&"Range"===Z.a.capitalize(e.specific_statistic)&&"Thrown"===n)&&l.push(e)})),"Melee"===n||"Thrown"===n){switch(a.equipped){case"Primary":break;case"Off":o>=0&&(r=-Math.ceil(o/2));break;case"Two":o>=0&&(r=Math.floor(.5*o));break;case"Double":return[t(Object(j.a)(Object(j.a)({},a),{},{equipped:"Primary"}),n),t(Object(j.a)(Object(j.a)({},a),{},{equipped:"Off"}),n)]}var s=l.reduce((function(e,t){return e+t.bonus}),0);return"Harrow Card"===a.name&&(s+=1),"Fire Blast"===a.name&&(s+=Math.floor(ea("constitution")/2)),("Iyugi"===e.character.name&&"Dagger"===a.weapon.name||"Natesse"===e.character.name&&"Scimitar"===a.weapon.name)&&(s+=c,s-=o),"Natesse"===e.character.name&&"Scimitar"===a.weapon.name&&(s+=1),"".concat(ee(o+r+s))}if("Range"===n){var u=l.reduce((function(e,t){return e+t.bonus}),0);return u>0?"".concat(ee(u)):""}},B=function(t,a,n,r,l){var i=0,o=e.character_info.hardcode,c=e.character.name,s="Maddox"===c&&o.age,u=e.character_info.ability_scores.strength;u+="Young"===s?-2:0,u+="Middle"===s?-1:0,u+="Old"===s?-2:0,u+="Venerable"===s?-3:0;var d=Math.floor((u-10)/2),m=e.character_info.ability_scores.dexterity;m+="Young"===s?2:0,m+="Middle"===s?-1:0,m+="Old"===s?-2:0,m+="Venerable"===s?-3:0;var h=Math.floor((m-10)/2),p=e.character_info.size,f=0,g=0,b=0,v=0,y=0,E=o.rage,k=o.power,w=o.fd,_=o.charge,C="Bull - Minor"===o.minor,S="Bull - Major"===o.major||"Condor - Major"===o.major||"Frog - Major"===o.major||"Squid - Major"===o.major||"Chameleon - Major"===o.major,O="Cedrick"===c,j=o.arcane_strike,A=o.enlarge,T=o.reduce,I=!!o.activeMutagen&&o.mutagen;i="Merg"===c?7:i,i="Cedrick"===c?7:i,i="Persephone"===c?3:i,i="Maddox"===c?3:i,i="Robby"===c?6:i,i="Festus"===c?6:i,i="Nettie"===c?5:i;var N=(i="Grackle"===c?5:i)+(p="Diminutive"===(p="Tiny"===(p="Small"===(p="Medium"===(p="Large"===(p="Huge"===p?-2:p)?-1:p)?0:p)?1:p)?2:p)?4:p)+d+0,D=i+p+h+(y+=O?1:0),M=d;return f+=C?1:0,b+=C?1:0,f+=S?2:0,b+=S?2:0,g-=S?-1:0,a&&(b=Math.floor(b*a+.5*d)),f+=E?2:0,b+=E?2:0,f+=k?-2:0,b+=k?4:0,f+=_?2:0,g+=_&&r?2:0,f+=w?-4:0,g+=w?-4:0,b+=j?2:0,v+=j?2:0,g+=A?-2:0,b+=A?1:0,g+=T?2:0,b+=T?-1:0,f+="strength"===I?2:0,b+="strength"===I?2:0,g+="dexterity"===I?2:0,"bomb"===l&&(v+="strength"===I?-1:0),"abS"===t?n?H(N,N+f):N+f:"damageS"===t?n?H(M,M+b):M+b:"abD"===t?n?H(D,D+g):D+g:"damageD"===t?n?H(0,0+v):0+v:void 0},H=function(e,t){return e>t?{color:"maroon"}:e<t?{color:"green"}:{color:"black"}},q=function(t,a){var n=e.character.race.size||e.character_info.size;if(a)switch(a){case"1":n="Medium"===n?"Large":n;break;case"-1":n="Medium"===n?"Small":n}var r=t;if("Large"===n)switch(t){case"1d3":r="1d4";break;case"1d4":r="1d6";break;case"1d6":r="1d8";break;case"1d8":r="2d6";break;case"1d10":r="2d8"}else if("Small"===n)switch(t){case"1d3":r="1d2";break;case"1d4":r="1d3";break;case"1d6":r="1d4";break;case"1d8":r="1d6";break;case"1d10":r="1d8";break;case"2d4":r="1d6"}else if("Tiny"===n)switch(t){case"1d3":r="1";break;case"1d4":r="1d2";break;case"1d6":r="1d3";break;case"1d8":r="1d4";break;case"1d10":r="1d6"}return r},z=function(t,a){var n=null;"Load Light"===a?n="Loading is a move action that provokes attacks of opportunity.":"PBS"===a?n="+1 to Attack and Damage Rolls if target is within 30 ft":"ominous"===a?n="When this weapon confirms a critical hit, the target is shaken for 1 minute (DC 13 Will negates); if the weapon\u2019s critical multiplier is greater than x2, this condition lasts 1 additional minute per multiple over x2. A creature that gains the shaken condition from an ominous weapon cannot gain that condition again from the same weapon for 24 hours.":"grab"===a?n="When this attack hits a creature, you may attempt to grapple that creature as a free action, provoking an AoO. The creature must be your size or smaller. If you succeed, you deal constrict damage. Each subsequent round, if you succeed on the grapple check, the creature takes the constrict damage.":"flaming"===a?n="Upon command, a flaming weapon is sheathed in fire that deals an extra 1d6 points of fire damage on a successful hit. The fire does not harm the wielder. The effect remains until another command is given.":"bane"===a?n="A bane weapon excels against certain foes. Against a designated foe, the weapon\u2019s enhancement bonus is +2 better than its actual bonus. It also deals an extra 2d6 points of damage against the foe.":"unholy"===a?n="An unholy weapon is imbued with unholy power. This power makes the weapon evil-aligned and thus bypasses the corresponding damage reduction. It deals an extra 2d6 points of damage against all creatures of good alignment. It bestows one permanent negative level on any good creature attempting to wield it. The negative level remains as long as the weapon is in hand and disappears when the weapon is no longer wielded. This negative level cannot be overcome in any way (including restoration spells) while the weapon is wielded.":"brace"===a?n="If you use a readied action to set a brace weapon against a charge, you deal double damage on a successful hit against a charging creature.":"sneak attack"===a?n="Target must be flanked or be denied their Dexterity bonus to AC. Ranged attacks must be within 30 ft. Target cannot have total concealment.":"misfire"===a?n="If the natural result of your attack roll falls within a firearm\u2019s misfire value, that shot misses, even if you would have otherwise hit the target. When a firearm misfires, it gains the broken condition. Normal broken conditions, and misfire value increases by 4.":"capacity"===a?n="A firearm\u2019s capacity is the number of shots it can hold at one time. When making a full-attack action, you may fire a firearm as many times in a round as you have attacks, up to this limit, unless you can reload the weapon as a swift or free action while making a full-attack action":"touch"===a?n="Resolves against touch AC":"shock"===a?n="Upon command, a shock weapon is sheathed in crackling electricity that deals an extra 1d6 points of electricity damage on a successful hit. The electricity does not harm the wielder. The effect remains until another command is given.":"returning"===a?n="This special ability can only be placed on a weapon that can be thrown. A returning weapon flies through the air back to the creature that threw it. It returns to the thrower just before the creature\u2019s next turn (and is therefore ready to use again in that turn). Catching a returning weapon when it comes back is a free action. If the character can\u2019t catch it, or if the character has moved since throwing it, the weapon drops to the ground in the square from which it was thrown.":"cunning"===a?n="This special ability allows a weapon to find chinks in a foe\u2019s defenses using the wielder\u2019s knowledge of the target. Whenever the weapon\u2019s attack is a critical threat, the wielder gains a +4 bonus on the confirmation roll if she has 5 or more ranks in a Knowledge skill that would be used to identify the target\u2019s creature type (such as Knowledge [planes] for an outsider opponent), or a +6 bonus instead if she has 15 or more ranks.":"crazed"===a?n="On a critical hit, deal an additional +3d8 cold damage instead of +1d4. On a critical failure, the weapon overloads, dealing 4d10+4 damage to you and the weapon is destroyed. DC 20 Reflex save for half damage. If you fail the saving throw, you hand is locked up by ice and cold for 1 hour. -4 to Dexterity checks and attacks with that hand.":"Splash"===a&&(n="A splash weapon is a ranged weapon that breaks on impact, splashing or scattering its contents over its target and nearby creatures or objects. To attack with a splash weapon, make a ranged touch attack against the target. Thrown splash weapons require no weapon proficiency, so you don\u2019t take the \u20134 nonproficiency penalty. A hit deals direct hit damage to the target, and splash damage to all creatures within 5 feet of the target. If the target is Large or larger, you choose one of its squares and the splash damage affects creatures within 5 feet of that square. Splash weapons cannot deal precision-based damage (such as the damage from the rogue\u2019s sneak attack class feature).\n\nYou can instead target a specific grid intersection. Treat this as a ranged attack against AC 5. However, if you target a grid intersection, creatures in all adjacent squares are dealt the splash damage, and the direct hit damage is not dealt to any creature. You can\u2019t target a grid intersection occupied by a creature, such as a Large or larger creature; in this case, you\u2019re aiming at the creature.\n\nIf you miss the target (whether aiming at a creature or a grid intersection), roll 1d8. This determines the misdirection of the throw, with 1 falling short (off-target in a straight line toward the thrower), and 2 through 8 rotating around the target creature or grid intersection in a clockwise direction. Then, count a number of squares in the indicated direction equal to the range increment of the throw. After you determine where the weapon landed, it deals splash damage to all creatures in that square and in all adjacent squares."),n&&e.renderTooltip(t,n)},G=function(){switch(e.character_info.hardcode.major){case"Bull - Major":return r.a.createElement(r.a.Fragment,null,r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("button",{className:A("standard"),onClick:function(){return C("standard")}},r.a.createElement("strong",null,"Attack"))),r.a.createElement("td",null,"Gore"),r.a.createElement("td",{style:B("abS",null,!0)},"+",B("abS")),r.a.createElement("td",null,"-"),r.a.createElement("td",null,"1d8+",r.a.createElement("span",{style:B("damageS",null,!0)},B("damageS",1.5))," P"),r.a.createElement("td",null,"x2"),r.a.createElement("td",null,"Chameleon - Combat"===e.character_info.hardcode.combat&&"if hidden from attacker, +4 to attack roll")),r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("button",{className:A("full"),onClick:function(){return C("full","charge")}},r.a.createElement("strong",null,"Attack"))),r.a.createElement("td",null,"Powerful Charge"),r.a.createElement("td",{style:B("abS",null,!0)},"+",B("abS")+2+1),r.a.createElement("td",null,"-"),r.a.createElement("td",null,"2d8+",r.a.createElement("span",{style:B("damageS",null,!0)},B("damageS")+1)," P"),r.a.createElement("td",null,"x2"),r.a.createElement("td",null,"Move up to ",2*e.character.race.speed," ft, make Attack. +2 to attack, -2 to AC","Chameleon - Combat"===e.character_info.hardcode.combat&&", if hidden from attacker, +4 to attack roll")),r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("button",{className:A("full"),onClick:function(){return C("full","charge")}},r.a.createElement("strong",null,"Attack"))),r.a.createElement("td",null,"Trample"),r.a.createElement("td",null,"-"),r.a.createElement("td",null,"-"),r.a.createElement("td",null,"1d8+",r.a.createElement("span",{style:B("damageS",null,!0)},B("damageS",1.5)+1)," B"),r.a.createElement("td",null,"-"),r.a.createElement("td",null,"Overrun target(s) Medium or smaller. Targets get AoO (-4 penalty), or can forgo to make a DC ",13+B("damage")," Reflex save for half damage","Chameleon - Combat"===e.character_info.hardcode.combat&&", if hidden from attacker, +4 to attack roll")));case"Condor - Major":return r.a.createElement(r.a.Fragment,null,r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("button",{className:A("standard"),onClick:function(){return C("standard")}},r.a.createElement("strong",null,"Attack"))),r.a.createElement("td",null,"Talon"),r.a.createElement("td",{style:B("abS",null,!0)},"+",B("abS")+1),r.a.createElement("td",null,"-"),r.a.createElement("td",null,"1d8+",r.a.createElement("span",{style:B("damageS",null,!0)},B("damageS")+1)," S"),r.a.createElement("td",null,"x2"),r.a.createElement("td",null,"Chameleon - Combat"===e.character_info.hardcode.combat&&"if hidden from attacker, +4 to attack roll")),r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("button",{className:A("standard"),onClick:function(){return C("standard")}},r.a.createElement("strong",null,"Attack"))),r.a.createElement("td",null,"Bite"),r.a.createElement("td",{style:B("abS",null,!0)},"+",B("abS")),r.a.createElement("td",null,"-"),r.a.createElement("td",null,"1d8+",r.a.createElement("span",{style:B("damageS",null,!0)},B("damageS"))," P"),r.a.createElement("td",null,"x2"),r.a.createElement("td",null,"Chameleon - Combat"===e.character_info.hardcode.combat&&"if hidden from attacker, +4 to attack roll")),r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("button",{className:A("full"),onClick:function(){return C("full")}},r.a.createElement("strong",null,"Attack"))),r.a.createElement("td",null,"2 Talons, Bite"),r.a.createElement("td",{style:B("abS",null,!0)},"+",B("abS")+1,"/+",B("abS")+1,"/+",B("abS")),r.a.createElement("td",null,"-"),r.a.createElement("td",null,"1d8+",r.a.createElement("span",{style:B("damageS",null,!0)},B("damageS")+1)," S, 1d8+",r.a.createElement("span",{style:B("damageS",null,!0)},B("damageS")+1)," S, 1d8+",r.a.createElement("span",{style:B("damageS",null,!0)},B("damageS"))," P"),r.a.createElement("td",null,"x2"),r.a.createElement("td",null,"Chameleon - Combat"===e.character_info.hardcode.combat&&"if hidden from attacker, +4 to attack roll")));case"Squid - Major":return r.a.createElement(r.a.Fragment,null,r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("button",{className:A("standard"),onClick:function(){return C("standard")}},r.a.createElement("strong",null,"Attack"))),r.a.createElement("td",null,"Bite"),r.a.createElement("td",{style:B("abS",null,!0)},"+",B("abS")),r.a.createElement("td",null,"-"),r.a.createElement("td",null,"1d8+",r.a.createElement("span",{style:B("damageS",null,!0)},B("damageS"))," P"),r.a.createElement("td",null,"x2"),r.a.createElement("td",null,"Chameleon - Combat"===e.character_info.hardcode.combat&&"if hidden from attacker, +4 to attack roll")),r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("button",{className:A("standard"),onClick:function(){return C("standard")}},r.a.createElement("strong",null,"Attack"))),r.a.createElement("td",null,"Tentacle"),r.a.createElement("td",{style:B("abS",null,!0)},"+",B("abS")+1-5),r.a.createElement("td",null,"-"),r.a.createElement("td",null,"1d8+",r.a.createElement("span",{style:B("damageS",null,!0)},B("damageS")+1)," B"),r.a.createElement("td",null,"x2"),r.a.createElement("td",null,"Secondary Natural Attack, ",r.a.createElement("em",{onMouseOver:function(e){return z(e,"grab")},onMouseOut:e.mouseOut},"grab"),", constrict (2d6+5)","Chameleon - Combat"===e.character_info.hardcode.combat&&", if hidden from attacker, +4 to attack roll")),r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("button",{className:A("full"),onClick:function(){return C("full")}},r.a.createElement("strong",null,"Attack"))),r.a.createElement("td",null,"Bite, 2 Tentacles"),r.a.createElement("td",{style:B("abS",null,!0)},"+",B("abS"),"/+",B("abS")+1-5,"/+",B("abS")+1-5),r.a.createElement("td",null,"-"),r.a.createElement("td",null,"1d8+",r.a.createElement("span",{style:B("damageS",null,!0)},B("damageS"))," P, 1d8+",r.a.createElement("span",{style:B("damageS",null,!0)},B("damageS")+1)," S, 1d8+",r.a.createElement("span",{style:B("damageS",null,!0)},B("damageS")+1)," S"),r.a.createElement("td",null,"x2"),r.a.createElement("td",null,"Tentacles: Secondary Natural Attacks, ",r.a.createElement("em",{onMouseOver:function(e){return z(e,"grab")},onMouseOut:e.mouseOut},"grab"),", constrict (2d6+5)","Chameleon - Combat"===e.character_info.hardcode.combat&&", if hidden from attacker, +4 to attack roll")));case"Chameleon - Major":return r.a.createElement(r.a.Fragment,null,r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("button",{className:A("standard"),onClick:function(){return C("standard")}},r.a.createElement("strong",null,"Attack"))),r.a.createElement("td",null,"Bite"),r.a.createElement("td",{style:B("abS",null,!0)},"+",B("abS")),r.a.createElement("td",null,"-"),r.a.createElement("td",null,"1d8+",r.a.createElement("span",{style:B("damageS",null,!0)},B("damageS"))," P"),r.a.createElement("td",null,"x2"),r.a.createElement("td",null,"Chameleon - Combat"===e.character_info.hardcode.combat&&"if hidden from attacker, +4 to attack roll")),r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("button",{className:A("standard"),onClick:function(){return C("standard")}},r.a.createElement("strong",null,"Attack"))),r.a.createElement("td",null,"Tongue"),r.a.createElement("td",{style:B("abS",null,!0)},"+",B("abS")-5,"/+",B("abD")),r.a.createElement("td",null,"15 ft."),r.a.createElement("td",null,"1d8+",r.a.createElement("span",{style:B("damageS",null,!0)},B("damageS")+1)," B/ grab"),r.a.createElement("td",null,"x2"),r.a.createElement("td",null,"First: Secondary Natural Attack, Second: resolves against touch AC, ",r.a.createElement("em",{onMouseOver:function(e){return z(e,"grab")},onMouseOut:e.mouseOut},"grab"),"Chameleon - Combat"===e.character_info.hardcode.combat&&", if hidden from attacker, +4 to attack roll")),r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("button",{className:A("full"),onClick:function(){return C("full")}},r.a.createElement("strong",null,"Attack"))),r.a.createElement("td",null,"Bite, Tongue"),r.a.createElement("td",{style:B("abS",null,!0)},"+",B("abS"),"/+",B("abS")-5),r.a.createElement("td",null,"-"),r.a.createElement("td",null,"1d8+",r.a.createElement("span",{style:B("damageS",null,!0)},B("damageS"))," P, 1d8+",r.a.createElement("span",{style:B("damageS",null,!0)},B("damageS"))," B"),r.a.createElement("td",null,"x2"),r.a.createElement("td",null,"Tongue: Secondary Natural Attack","Chameleon - Combat"===e.character_info.hardcode.combat&&", if hidden from attacker, +4 to attack roll")));default:var t="Squid - Combat"===e.character_info.hardcode.combat;return r.a.createElement(r.a.Fragment,null,r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("button",{className:A("standard"),onClick:function(){return C("standard")}},r.a.createElement("strong",null,"Attack"))),r.a.createElement("td",null,"Shifter Claws"),r.a.createElement("td",{style:B("abS",null,!0)},"+",B("abS")+1+1),r.a.createElement("td",null,"-"),r.a.createElement("td",null,q("1d10"),"+",r.a.createElement("span",{style:B("damageS",null,!0)},B("damageS")+1)," S ",K()),r.a.createElement("td",null,"x2"),r.a.createElement("td",null,"Ignore DR/silver & DR/cold iron, ",r.a.createElement("em",{onMouseOver:function(e){return z(e,"ominous")},onMouseOut:e.mouseOut},"ominous"),"Chameleon - Combat"===e.character_info.hardcode.combat&&", if hidden from attacker, +4 to attack roll")),r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("button",{className:A("full"),onClick:function(){return C("full")}},r.a.createElement("strong",null,"Attack"))),r.a.createElement("td",null,"Shifter Claws",t?", 2 Tentacles":null),r.a.createElement("td",{style:B("abS",null,!0)},"+",B("abS")+1+1,"/+",B("abS")+1+1-5,t?"/+".concat(B("abS")-5,"/+").concat(B("abS")-5):null),r.a.createElement("td",null,"-"),r.a.createElement("td",null,q("1d10"),"+",r.a.createElement("span",{style:B("damageS",null,!0)},B("damageS")+1," S",t?"/".concat(q("1d4"),"+").concat(B("damageS")," B"):null," ")," ",K()),r.a.createElement("td",null,"x2"),r.a.createElement("td",null,"Ignore DR/silver & DR/cold iron, ",r.a.createElement("em",{onMouseOver:function(e){return z(e,"ominous")},onMouseOut:e.mouseOut},"ominous"),t?", 2 Tentacle attacks":null,"Chameleon - Combat"===e.character_info.hardcode.combat&&", if hidden from attacker, +4 to attack roll")),r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("button",{className:A("standard"),onClick:function(){return C("standard")}},r.a.createElement("strong",null,"Attack"))),r.a.createElement("td",{onClick:function(){return e.editModal("ammo",null,null,{name:"weapon",type:"ACTIVE WEAPON",weapon:"+1 Underwater Light Crossbow"})}},r.a.createElement("em",null,"+1 Underwater Light Crossbow")," ",V("+1 Underwater Light Crossbow")),r.a.createElement("td",{style:B("abD",null,!0)},"+",B("abD")+1),r.a.createElement("td",null,"80 ft/20 ft"),r.a.createElement("td",null,q("1d8"),"+",r.a.createElement("span",{style:B("damageD",null,!0)},B("damageD")+1)," B"),r.a.createElement("td",null,"x2"),r.a.createElement("td",null,"Use second range number if underwater.",r.a.createElement("span",{onMouseOver:function(e){return z(e,"Load Light")},onMouseOut:e.mouseOut}," Load*"),"Chameleon - Combat"===e.character_info.hardcode.combat&&", if hidden from attacker, +4 to attack roll")),r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("button",{className:A("standard"),onClick:function(){return C("standard")}},r.a.createElement("strong",null,"Attack"))),r.a.createElement("td",null,"Chakram"),r.a.createElement("td",{style:B("abD",null,!0)},"+",B("abD")-4,", +",B("abS")-4-1),r.a.createElement("td",null,"30 ft"),r.a.createElement("td",null,q("1d8"),"+",r.a.createElement("span",{style:B("damageS",null,!0)},B("damageS"))," S"),r.a.createElement("td",null,"x2"),r.a.createElement("td",null,"not proficient, if used as a melee weapon (second numbers), make a DC 15 Reflex save or cut yourself (1d6 slashing)","Chameleon - Combat"===e.character_info.hardcode.combat&&", if hidden from attacker, +4 to attack roll")),r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("button",{className:A("standard"),onClick:function(){return C("standard")}},r.a.createElement("strong",null,"Attack"))),r.a.createElement("td",null,"Unarmed"),r.a.createElement("td",{style:B("abS",null,!0)},"+",B("abS")+1),r.a.createElement("td",null,"-"),r.a.createElement("td",null,r.a.createElement("span",{style:B("damageS",null,!0)},B("damageS")+1)," B"),r.a.createElement("td",null,"x2"),r.a.createElement("td",null,"Non-lethal, ",r.a.createElement("em",{onMouseOver:function(e){return z(e,"ominous")},onMouseOut:e.mouseOut},"ominous"),"Chameleon - Combat"===e.character_info.hardcode.combat&&", if hidden from attacker, +4 to attack roll")))}},Y=function(){return e.character_info.hardcode.eBloodActive?"+1d6 elec ":null},K=function(){switch(e.character_info.hardcode.frogCombat){case"Sickened":return"(Sickened for 1 round)";case"Acid Damage":return"+1d3 acid";case"Silent Image":return r.a.createElement("span",null,"(Affected by ",r.a.createElement("em",{className:"underline-hover",onClick:function(){return e.editModal("spell",null,26)}},"silent image")," for 1 round)");default:return null}},V=function(t,a){var n,l=e.character.character_weapons.find((function(e){return e.id===t.character_weapon_ammunition_id}));if(a)return l.name;var i="black";return i=l.ammunition_amount<=15?"dark brown":i,i=l.ammunition_amount<=10?"maroon":i,i=l.ammunition_amount<=5?"red":i,i=l.ammunition_amount<=0?"grey":i,r.a.createElement(r.a.Fragment,null,l.name||l.weapon.name," ",r.a.createElement("span",{style:{color:i}},"(x",null!==(n=l.ammunition_amount)&&void 0!==n?n:0,")"))};if("true"===localStorage.computer)return r.a.createElement("section",null,r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Action"),r.a.createElement("th",null,"Weapon"),r.a.createElement("th",null,"Attack Bonus"),r.a.createElement("th",null,"Range"),r.a.createElement("th",null,"Damage"),r.a.createElement("th",null,"Critical"),r.a.createElement("th",null,"Special"))),r.a.createElement("tbody",null,o(e.character.name))));if("false"===localStorage.computer){o(e.character.name);return r.a.createElement("section",{className:"mobile-tab-selected-tab-container shadow",style:{textAlign:"center"}},r.a.createElement("table",{style:{width:"98%",marginLeft:"1%",marginRight:"1%",fontSize:"10px"}},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{style:{width:"20%"}},"Action"),r.a.createElement("th",{style:{width:"20%"}},"Weapon"),r.a.createElement("th",{style:{width:"15%"}},"Bonus"),r.a.createElement("th",{style:{width:"20%"}},"Damage"),r.a.createElement("th",{style:{width:"25%"}}))),r.a.createElement("tbody",null,o(e.character.name))))}})),Fi=Object(h.b)((function(e){return{character:e.character,characterInfo:e.character_info,classes:e.classes,settings:e.settings}}))((function(e){e.character.name;var t=e.characterInfo.hardcode,a=(e.character.name,["Bull - Major","Condor - Major","Frog - Major","Squid - Major","Chameleon - Major"].includes(t.major),t.rage,t.minor,t.charge,t.fd,t.power,t.enlarge,t.reduce,!!t.activeMutagen&&t.mutagen,e.characterInfo.actions),n=ci(e.character,e.characterInfo),l=qe(n.bonus),i=n.defense,o=function(e,t){var a={rollName:e,modifier:parseInt(t),die:20,count:1};W(a)},c=function(t){return"standard"!==t&&"move"!==t&&"swift"!==t||!a.full?"full"===t&&(a.standard||a.move||a.swift)?null:void("free"===!t&&e.dispatch({type:"TRIGGER ACTION",action:t})):null};return r.a.createElement(r.a.Fragment,null,r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Action"),r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"Bonus"),r.a.createElement("th",null,"Defense"),r.a.createElement("th",null,"Effect"))),r.a.createElement("tbody",null,[{id:100,name:"Bull Rush",action:"standard",description:"Move target 5 ft back, +5 ft for every 5 you beat their CMD.",button:"Rush"},{id:101,name:"Dirty Trick",action:"standard",description:"Impose condition (blinded, dazzled, deafened, entangled, shaken, sickened) for 1 round, +1 round for every 5 you beat their CMD. Condition can be removed with move action.",button:"Pocket Sand"},{id:102,name:"Disarm",action:"standard",description:"Remove 1 item from target, beat CMD by 10, remove both items. Can automatically pick up disarmed weapon. Fail by 10, drop your weapon. If unarmed, -4 penalty to CMB.",button:"Disarm"},{id:103,name:"Drag",action:"standard",description:"Drag in straight line. Move you and target 5 ft, +5 ft for every 5 you beat their CMD. Must be able to move with target.",button:"Drag"},{id:104,name:"Grapple",action:"standard",description:"You and target have Grappled condition. Must make check to maintain each round. Use two hands or -4 penalty to CMB",button:"Grab"},{id:105,name:"Grapple (Move)",action:"standard",description:"If target is grappled, move up to half your speed with target.",button:"Move"},{id:106,name:"Grapple (Damage)",action:"standard",description:"If target is grappled, attack with unarmed, natural attack, or light/one-handed weapon.",button:"Attack"},{id:107,name:"Grapple (Pin)",action:"standard",description:"If target is grappled, give target Pinned condition.",button:"Pin"},{id:108,name:"Grapple (Tie Up)",action:"standard",description:"If target is pinned, tie up target. DC to escape is 20 + your CMB. If target is grappled, -10 penalty to CMB.",button:"Wrangle"},{id:109,name:"Grapple (Break)",action:"standard",description:"If you are grappled, CMB/Acrobatics check against CMD. If succeed, can escape or become grappler.",button:"Reversal"},{id:110,name:"Overrun",action:"standard",description:"As part of Charge, move through enemy square. They can choose to let you pass. If beat their CMD by 5, knock them prone.",button:"Charge"},{id:111,name:"Reposition",action:"standard",description:"Move target 5ft from their position, within your reach, except for final 5 ft. +5 ft for every 5 your beat their CMD.",button:"Shift"},{id:112,name:"Steal",action:"standard",description:"Choose item to take, +5 to their CMD if item is fastened, cannot take worn/wielded items.",button:"Thieve"},{id:113,name:"Sunder",action:"standard",description:"Attack an item held/worn by target. Deal damage, can choose not to destroy the item.",button:"Smash"},{id:114,name:"Trip",action:"standard",description:"Knock target prone. If you fail by 10, you are knocked prone.",button:"Trip"}].map((function(t,n){return r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("button",{className:a[t.action]?"cannot-cast":t.action,onClick:function(){return c(t.action)}},t.button)),r.a.createElement("td",null,t.name),r.a.createElement("td",null,r.a.createElement("span",{style:{border:"1px solid #".concat(e.settings.borderColor),borderRadius:"0.3em",cursor:"default",padding:"2px"},onClick:function(){return o(t.name,l)}},l)),r.a.createElement("td",null,i),r.a.createElement("td",null,t.description))})))))})),Ri=function(e){switch(e){case 1:return[3,6,10];case 2:return[6,13,20];case 3:return[10,20,30];case 4:return[13,26,40];case 5:return[16,33,50];case 6:return[20,40,60];case 7:return[23,46,70];case 8:return[26,53,80];case 9:return[30,60,90];case 10:return[33,66,100];case 11:return[38,76,115];case 12:return[43,86,130];case 13:return[50,100,150];case 14:return[58,116,175];case 15:return[66,133,200];case 16:return[76,153,230];case 17:return[86,173,260];case 18:return[100,200,300];case 19:return[116,233,350];case 20:return[133,266,400];case 21:return[153,306,460];case 22:return[173,346,520];case 23:return[200,400,600];case 24:return[233,466,700];case 25:return[266,533,800];case 26:return[306,613,920];case 27:return[346,693,1040];case 28:return[400,800,1200];case 29:return[466,933,1400];case 30:return[532,1064,1600];default:return[0,0,0]}},Pi=Object(h.b)((function(e){return{character:e.character,character_info:e.character_info,classes:e.classes}}))((function(e){var t=e.character_info.movement,a=e.character_info.actions,n=r.a.useState(0),l=Object(U.a)(n,2),i=l[0],o=l[1];r.a.useEffect((function(){var a=Z.a.maxBy(t.map((function(e){return"Base"!==e.movement||e.bonus||e.penalty?0:e.feet}))),n=e.character.race.speed||a,r=function(e,t){var a=Ri(t);return e<=a[0]?"Light":e<=a[1]?"Medium":e<=a[2]?"Heavy":"Overload"}(function(e,t){var a=0;return e.character_weapons.forEach((function(e){a+=e.weapon.weight})),e.character_armors.forEach((function(e){a+=e.armor.weight})),a}(e.character,e.character_info),e.character_info.ability_scores.strength);t.forEach((function(e){var t,a=null===(t=e.applications)||void 0===t?void 0:t.map((function(e){return e.calculate_before}));if((null===a||void 0===a?void 0:a.includes("load"))||(null===a||void 0===a?void 0:a.includes("armor"))){var l,i=null===(l=e.conditions)||void 0===l?void 0:l.map((function(e){return e.unless_load}));i&&i.includes(r)&&("Light"!==r||i.includes("Medium")&&i.includes("Heavy"))&&("Medium"!==r||i.includes("Heavy"))||(n+="Base"===e.movement&&e.bonus&&!e.penalty?e.feet:0,n-="Base"===e.movement&&!e.bonus&&e.penalty?e.feet:0)}})),"Medium"!==r&&"Heavy"!==r||(n=function(e){switch(e){case 15:return 10;case 20:return 15;case 25:case 30:return 20;case 35:return 25;case 40:case 45:return 30;case 50:return 35;case 55:case 60:return 40;case 65:return 45;case 70:case 75:return 50;case 80:return 55;case 85:case 90:return 60;case 95:return 65;case 100:case 105:return 70;case 110:return 75;case 115:case 120:return 80;default:return e}}(n)),t.forEach((function(e){var t,a=null===(t=e.applications)||void 0===t?void 0:t.map((function(e){return e.calculate_after}));if((null===a||void 0===a?void 0:a.includes("load"))||(null===a||void 0===a?void 0:a.includes("armor"))){var l,i=null===(l=e.conditions)||void 0===l?void 0:l.map((function(e){return e.unless_load}));i&&i.includes(r)&&("Light"!==r||i.includes("Medium")&&i.includes("Heavy"))&&("Medium"!==r||i.includes("Heavy"))||(n+="Base"===e.movement&&e.bonus&&!e.penalty?e.feet:0,n-="Base"===e.movement&&!e.bonus&&e.penalty?e.feet:0)}})),o(n)}),[t]);var c=function(t,a){var n=t;return e.character_info.forbidden.forEach((function(e){e.forbidden===a&&(n="cannot-cast")})),n};return r.a.createElement(r.a.Fragment,null,r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Action"),r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"Distance"))),r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("button",{className:a.move?"cannot-cast":"move",onClick:function(){}},r.a.createElement("strong",null,"Move"))),r.a.createElement("td",null,"Move"),r.a.createElement("td",null,i," ft")),r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("button",{className:a.move?"cannot-cast":"free",onClick:function(){return e.dispatch({type:"FIVE FOOT STEP"})}},r.a.createElement("strong",null,"Move"))),r.a.createElement("td",null,"Move"),r.a.createElement("td",null,"5 ft")),r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("button",{className:c("full","Run"),onClick:function(){}},r.a.createElement("strong",null,"Move"))),r.a.createElement("td",null,"Run"),r.a.createElement("td",null,4*i," ft")))))})),Li=Object(h.b)((function(e){return{character:e.character,character_info:e.character_info,classes:e.classes}}))((function(e){var t=e.character_info.hardcode,a=e.character.race.speed||t.speed;a+=t.expeditious?30:0,a+=t.land10?10:0,a+=t.land20?20:0,a+=t.quick?10:0,a+=t.stealTime?5:0;var n=function(a,n){var r=e.character_info.actions;if(("standard"===a||"move"===a||"swift"===a)&&r.full)return null;if("full"===a&&(r.standard||r.move||r.swift))return null;if(r[a])return null;switch("free"!==a&&e.dispatch({type:"TRIGGER ACTION",action:a}),n){case"fight defensively":e.dispatch({type:"FIGHT DEFENSIVELY"});break;case"charge":e.dispatch({type:"CHARGE"});break;case"dimensionalSlide":t.slide||(e.dispatch({type:"DIMENSIONAL SLIDE"}),e.dispatch({type:"POINTS CHANGE",amount:"decrease"}))}},l=function(a,n){var r=e.character_info.actions;if("standard"!==a&&"move"!==a&&"swift"!==a||!r.full){if("full"===a&&(r.standard||r.move||r.swift))return"cannot-cast";if(t.ffs)return"cannot-cast";if(r[a])return e.character_info.actions[a]&&"free"!==a?"cast-".concat(a):"cannot-cast";if(o(n))return"cannot-cast";var l=a;return e.character_info.forbidden.forEach((function(e){e.forbidden===n&&(l="cannot-cast")})),l}return"cannot-cast"},i="Robby"===e.character.name?", Swinging Reposition":null,o=function(t){var a=e.character_info.conditions.includes("Fatigued");return!("run"!==t||!a)};return r.a.createElement("section",null,r.a.createElement(Pi,{renderTooltip:e.renderTooltip,mouseOut:e.mouseOut}),r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Action"),r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"Effect"))),r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("button",{className:l("standard"),onClick:function(){return n("standard","fight defensively")}},r.a.createElement("strong",null,"Attack"))),r.a.createElement("td",null,"Fight Defensively"),r.a.createElement("td",null,"-4 to Attack Rolls, +2 dodge bonus to AC")),r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("button",{className:l("full","Charge"),onClick:function(){return n("full","Charge")}},r.a.createElement("strong",null,"Attack"))),r.a.createElement("td",null,"Charge"),r.a.createElement("td",null,"Move up to ",2*a," ft, make Attack. +2 to attack, -2 to AC",i)),r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("button",{className:l("standard"),onClick:function(){return n("standard","total defense")}},r.a.createElement("strong",null,"Defend"))),r.a.createElement("td",null,"Total Defense"),r.a.createElement("td",null,"+4 dodge bonus to AC, cannot AoO/fight defensively/use Combat Expertise")),r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("button",{className:l("full"),onClick:function(){return n("full","withdraw")}},r.a.createElement("strong",null,"Flee"))),r.a.createElement("td",null,"Withdraw"),r.a.createElement("td",null,"Move up to ",2*a," ft, you cannot be hit by AoO from your current square by visible enemies")))))})),Bi=Object(h.b)((function(e){return{character:e.character,character_info:e.character_info}}))((function(e){var t=[],a=e.character.name;if("Cedrick"===a){var n={id:1001,name:"Sergeant's Command Ring",description:"".concat(e.character_info.hardcode.ringPoints,"/3 points. Recharge 1 pt a day if you have helped someone achieve a goal the previous day"),aura:"moderate enchantment",price:"12000 gp",weight:0,activatable:!0};t.push(n);var l={id:1002,name:"Ring of Feather Fall",description:r.a.createElement("span",null,"Acts exactly like a ",r.a.createElement("em",{className:"underline-hover",onClick:function(){return e.editModal("spell",null,18)}},"feather fall")," spell, activated immediately if the wearrer falls more than 5 ft."),aura:"faint transmutation",price:"2200 gp",weight:0,activatable:!1};t.push(l)}if("Persephone"===a){t.push({id:2003,name:"Ring of Spell Storing",description:"A spellcaster can cast any spells into the ring, so long as the total spell levels do not add up to more than 5. Metamagic versions of spells take up storage space equal to their spell level modified by the metamagic feat. A spellcaster can use a scroll to put a spell into the ring of spell storing. The user need not provide any material components or focus to cast the spell, and there is no arcane spell failure chance for wearing armor (because the ring wearer need not gesture). The activation time for the ring is the same as the casting time for the relevant spell, with a minimum of 1 standard action.",aura:"moderate evocation",price:"50000 gp",weight:0,activatable:!1});var i={id:21004,name:"Ring of Autumn",description:r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("strong",null,"Summon Pumpkin")," - Fine (1), Diminutive (2), Tiny (3), Small (4)"),r.a.createElement("li",null,r.a.createElement("strong",null,"Cover with leaves")," - per 5 ft square (1)"),r.a.createElement("li",null,r.a.createElement("strong",null,"Location smells of spice blend")," - 60 ft cube (3), 5 ft square (1)"),r.a.createElement("li",null,r.a.createElement("strong",null,"Chilly Breeze")," - 100 ft cube (5)"),r.a.createElement("li",null,r.a.createElement("strong",null,"Change color of object")," - up to a medium object (2): auburn, brown, orange, ochre, raspberry, etc. (",r.a.createElement("em",null,"Note: Magic Items get a Fortitude Save"),")")),aura:"faint universal",price:"250 gp",weight:0,activatable:!0,limit:10,action:"standard"};t.push(i)}if("Nettie"===a){var o={id:3005,name:"Kyton Ring",description:r.a.createElement("span",null,r.a.createElement("p",null,"This rusty iron ring looks like a twisted chain."),r.a.createElement("p",null,"On command, the ring can produce a rusty, clanky length of iron chain (hardness 10, 5 hp, break DC 26). The ring can create no more than 100 feet of chain in this way. This total length can be split among many uses, but must be spent in 10-foot increments. When the ring\u2019s daily allotment of chain is renewed, any previously conjured chain rusts away."),r.a.createElement("p",null,"Once per day as a standard action, the user can shoot a chain from the ring as though it were a grappling hook, except the range increment is 50 feet. Whatever length of chain she shoots out counts against ring\u2019s daily allotment.")),aura:"moderate conjuration",price:"1000 gp",weight:0,activatable:!1};t.push(o);t.push({id:3006,name:"Ring of Swimming",description:"This silver ring usually has fishlike designs and motifs etched into the band. It continually grants the wearer a +5 competence bonus on Swim checks.",aura:"faint transmutation",price:"2500 gp",weight:0,activatable:!1});t.push({id:3007,name:"Ring of Summoning Affinity (Psychopomp)",description:"This silver ring is marked with a skull emblem. If the wearer can cast summon monster spells, the wearer adds nosoi to the 3rd-level list of monsters he can summon with those spells, adds catrina to the 4th-level list, adds vanth to the 6th-level list, and adds morrigna to the 9th-level list. Also, once per day on command the wearer can use this ring to summon a nosoi, as if by the summon monster III spell.",aura:"faint conjuration",price:"7600 gp",weight:0,activatable:!0,limit:1,action:"full"})}var c=function(e){return e%2===0?"even-row-rings":"odd-row"};return r.a.createElement(r.a.Fragment,null,t.map((function(t,a){var n,l=e.character_info.hardcode.limits;if(l&&t.limit){var i=l.find((function(e){return e.name===t.name}));n=t.starting?i?t.starting-i.cast:t.starting:i?t.limit-i.cast:t.limit}else n=t.starting?t.starting:t.limit;return r.a.createElement("tr",{className:c(a),key:3*t.id-1},r.a.createElement("td",null,t.activatable?r.a.createElement("button",{className:t.action&&!e.character_info.actions[t.action]?t.action:"cannot-cast",onClick:function(){return function(t,a,n){if("Sergeant's Command Ring"===t&&e.editModal("command ring"),"Ring of Autumn"===t&&e.dispatch({type:"TRIGGER ACTION",action:"standard"}),"Ring of Summoning Affinity (Psychopomp)"===t&&a)if(e.character_info.hardcode.limits){var r=e.character_info.hardcode.limits.find((function(e){return e.name===t}));r?(n&&r.cast<n||r.cast<a)&&e.dispatch({type:"LIMIT CASTING",name:t}):e.dispatch({type:"LIMIT CASTING",name:t})}else e.dispatch({type:"LIMIT CASTING",name:t});"Ring of Summoning Affinity (Psychopomp)"===t&&e.dispatch({type:"TRIGGER ACTION",action:"full"})}(t.name,t.limit,t.starting)}},"Use"):null),r.a.createElement("td",null,r.a.createElement("strong",null,t.name),t.limit?"(".concat(n,"/").concat(t.limit,")"):null),r.a.createElement("td",null,t.weight," lb",t.weight>1||0===t.weight?"s":null),r.a.createElement("td",null,t.price),r.a.createElement("td",null,t.description))})))})),Hi=Object(h.b)((function(e){return{character:e.character,character_info:e.character_info}}))((function(e){var t=[],a=e.character.name;if("Cedrick"===a){t.push({id:101,name:"Ta'al'mon Ancestral Handwraps",description:"",aura:"moderate transmutation",price:"priceless",weight:0,activatable:!0})}else if("Robby"===a){t.push({id:201,name:"Tempest Trishula",description:"",aura:"moderate transmuation",price:"priceless",weight:4,activatable:!0,redux:"tempest",max:3})}else if("Maddox"===a){t.push({id:301,name:"Zamantash Delta Chronometer",description:"",aura:"moderate transmuation",price:"priceless",weight:1,activatable:!0})}else if("Merg"===a){t.push({id:401,name:"Fabric of Reality",description:"",aura:"moderate transmuation",price:"priceless",weight:1,activatable:!0})}if(e.character_info.hardcode.helmsman){t.push({id:1001,name:"Besmara's Honourable Emissary",description:"",aura:"moderate transmuation",price:"priceless",weight:4e4,activatable:!0});t.push({id:1002,name:"Sasea Bitch",description:"",aura:"-",price:"priceless",weight:4e4,activatable:!0})}var n=function(e){return e%2===0?"even-row-weapons":"odd-row"};return r.a.createElement(r.a.Fragment,null,t.map((function(t,a){var l=e.character_info.hardcode[t.redux]||0;return r.a.createElement("tr",{className:n(a),key:3*t.id-1},r.a.createElement("td",null,t.activatable?r.a.createElement("button",{onClick:function(){return function(t){"Sasea Bitch"===t?e.editModal("sasea"):e.editModal("curio")}(t.name)}},"View"):null),r.a.createElement("td",null,r.a.createElement("strong",null,t.name),t.redux&&" ".concat(t.max-l,"/").concat(t.max)),r.a.createElement("td",null,t.weight," lb",t.weight>1||0===t.weight?"s":null),r.a.createElement("td",null,t.price),r.a.createElement("td",null,t.description))})))})),Wi=Object(h.b)((function(e){return{character:e.character,character_info:e.character_info}}))((function(e){var t=[],a=e.character.name;if("Persephone"===a){t.push({id:200,name:"Light Crossbow",description:"Normally, operating a light crossbow requires two hands. However, you can shoot, but not load, a light crossbow with one hand at a \u20132 penalty on attack rolls.",aura:"-",price:"35gp",weight:4,activatable:!1})}if("Maddox"===a){t.push({id:2002,name:"Quarterstaff",description:"A quarterstaff is a simple piece of wood, about 5 feet in length.",aura:"-",price:"-",weight:4,activatable:!1});t.push({id:2003,name:"Dagger",description:"A dagger has a blade that is about 1 foot in length. You get a +2 bonus on Sleight of Hand skill checks made to conceal a dagger on your body.",aura:"-",price:"2gp",weight:1,activatable:!1});t.push({id:2004,name:"+1 Flaming Cestus",description:"Considered armed is wielded.",aura:"moderate evocation",price:"8305gp",weight:1,activatable:!1});t.push({id:2005,name:"Augmented Shortsword AN-7f",description:"Polished shortsword that is made of individual inch-long blades. In between seeps out cold mist. Gives off a white-blue glow when the segments are slack.",aura:"faint necromancy",price:"2010gp",weight:2,activatable:!1})}if("Merg"===a){t.push({id:3002,name:"+3 unholy Orc Doubleaxe",description:"A cruel weapon with blades placed at opposite ends of a long haft, an orc double axe is a double weapon. An unholy weapon is imbued with unholy power. This power makes the weapon evil-aligned and thus bypasses the corresponding damage reduction. It deals an extra 2d6 points of damage against all creatures of good alignment. It bestows one permanent negative level on any good creature attempting to wield it. The negative level remains as long as the weapon is in hand and disappears when the weapon is no longer wielded. This negative level cannot be overcome in any way (including restoration spells) while the weapon is wielded.",aura:"moderate evocation (evil)",price:"50360gp",weight:15,activatable:!1});t.push({id:3003,name:"Dagger",description:"A dagger has a blade that is about 1 foot in length. You get a +2 bonus on Sleight of Hand skill checks made to conceal a dagger on your body.",aura:"-",price:"2gp",weight:1,activatable:!1});t.push({id:3004,name:"Bane (Construct) Morningstar",description:"A morningstar is a spiked metal ball, affixed to the top of a long handle. A bane weapon excels against certain foes. Against a designated foe, the weapon\u2019s enhancement bonus is +2 better than its actual bonus. It also deals an extra 2d6 points of damage against the foe.",aura:"moderate conjuration",price:"2308gp",weight:6,activatable:!1})}else if("Robby"===a){t.push({id:4e3,name:"Cane Sword",description:"This slender light blade lies within a wooden container that serves as both its scabbard and hiding place. An observer must make a DC 20 Perception check to realize an undrawn sword cane is a weapon rather than a walking stick; the DC decreases to 10 if the observer is able to handle the weapon. You can\u2019t wield a sword cane in two hands in order to apply 1-1/2 times your Strength modifier to damage.",price:"45gp",weight:4,activatable:!1});t.push({id:4001,name:"Longbow",description:"At almost 5 feet in height, a longbow is made up of one solid piece of carefully curved wood. You need two hands to use a bow, regardless of its size. A longbow is too unwieldy to use while you are mounted. If you have a penalty for low Strength, apply it to damage rolls when you use a longbow. If you have a Strength bonus, you can apply it to damage rolls when you use a composite longbow (see below), but not when you use a regular longbow.",price:"75gp",weight:3,activatable:!1});t.push({id:4002,name:"Harpoon",description:"A harpoon is a barbed spear with an attached rope 50 feet or less in length. Most harpoons have metal points, but some use ivory or are made entirely of wood. If you are proficient in the harpoon, it is a grappling weapon. A harpoon\u2019s weight includes 10 pounds for the weight of 50 feet of hemp rope. The weight can be reduced by using shorter or lighter rope. If you are not proficient with a harpoon, treat it like a spear.",price:"5gp",weight:16,activatable:!1});var n={id:4003,name:"Net",description:r.a.createElement("span",null,r.a.createElement("p",null,"When you throw a net, you make a ranged touch attack against your target. A net\u2019s maximum range is 10 feet. If you hit, the target is entangled."),r.a.createElement("p",null,"If you control the trailing rope by succeeding on an opposed Strength check while holding it, the entangled creature can move only within the limits that the rope allows. If the entangled creature attempts to cast a spell, it must make a concentration check with a DC of 15 + the spell\u2019s level or be unable to cast the spell."),r.a.createElement("p",null,"An entangled creature can escape with a DC 20 Escape Artist check (a full-round action). The net has 5 hit points and can be burst with a DC 25 Strength check (also a full-round action). A net is useful only against creatures within one size category of you."),r.a.createElement("p",null,"A net must be folded to be thrown effectively. The first time you throw your net in a fight, you make a normal ranged touch attack roll. After the net is unfolded, you take a \u20134 penalty on attack rolls with it. It takes 2 rounds for a proficient user to fold a net and twice that long for a non-proficient one to do so.")),price:"20gp",weight:6,activatable:!1};t.push(n);var l={id:4004,name:"Lasso",description:r.a.createElement("span",null,r.a.createElement("p",null,"This thrown weapon is a length of rope with a simple open knot on one end that allows you to entangle a foe like you would using a net."),r.a.createElement("p",null,"On a successful hit, the lasso tightens; to use it again you must spend a standard action sliding the knot to enlarge the loop."),r.a.createElement("p",null,"The DC to cast a spell while entangled with a lasso is 10 + the spell level being cast. An entangled creature can slip free with a successful DC 15 Escape Artist check as a full-round action. The lasso has 2 hit points and AC 10, and requires a DC 23 Strength check to break.")),price:"1sp",weight:5,activatable:!1};t.push(l);t.push({id:4005,name:"Revolver",description:"A revolver is a pistol with a revolving cylinder containing six chambers. Each chamber can hold a metal cartridge, and when one cartridge is shot, the cylinder automatically rotates (no extra hand or action required), readying the next chamber for firing. A revolver uses metal cartridges as ammunition.",price:"4000gp",weight:4,activatable:!1})}var i=function(e){return e%2===0?"even-row-weapons":"odd-row"};return r.a.createElement(r.a.Fragment,null,t.map((function(e,t){return r.a.createElement("tr",{className:i(t),key:3*e.id-1},r.a.createElement("td",null,e.activatable?r.a.createElement("button",{onClick:function(){e.name}},"View"):null),r.a.createElement("td",null,r.a.createElement("strong",null,e.name)),r.a.createElement("td",null,e.weight," lb",e.weight>1||0===e.weight?"s":null),r.a.createElement("td",null,e.price),r.a.createElement("td",null,e.description))})))})),qi=Object(h.b)((function(e){return{character:e.character,character_info:e.character_info}}))((function(e){var t=[],a=e.character.name;if("Persephone"===a){var n={id:1e3,name:"Bag of Tricks (Grey)",description:r.a.createElement("span",null,"This small sack appears empty. Anyone reaching into the bag feels a small, fuzzy ball. If the ball is removed and tossed up to 20 feet away, it turns into an animal. The animal serves the character who drew it from the bag for 10 minutes (or until slain or ordered back into the bag), at which point it disappears. It can follow any of the commands described in the Handle Animal skill. ",r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"d%"),r.a.createElement("th",null,"Animal"))),r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,"01-30"),r.a.createElement("td",null,"Bat")),r.a.createElement("tr",null,r.a.createElement("td",null,"31-60"),r.a.createElement("td",null,"Rat")),r.a.createElement("tr",null,r.a.createElement("td",null,"61-75"),r.a.createElement("td",null,"Cat")),r.a.createElement("tr",null,r.a.createElement("td",null,"76-90"),r.a.createElement("td",null,"Weasel")),r.a.createElement("tr",null,r.a.createElement("td",null,"91-100"),r.a.createElement("td",null,"Riding Dog"))))," ",r.a.createElement("span",null,"Animals produced are always random, and only one may exist at a time. Up to 10 Animals can be drawn from the bag each week, but no more than two per day.")),aura:"faint conjuration",price:"3400 gp",weight:0,activatable:!0,action:"standard"};t.push(n);t.push({id:1001,name:"Rod of Grasping Hexes",description:"This rod is crafted from a gnarled branch covered in sharp thorns. Three times per day when a wielder of this rod uses a hex (but not an advanced hex or grand hex), she can use this rod\u2019s power to double the range of the hex, so long as the hex has a range measured in feet.",aura:"strong (no school)",price:"11000 gp",weight:5,activatable:!0,limit:3,action:"free"});var l={id:1002,name:"Quick-Change Mask",description:r.a.createElement("span",null,"A wearer can remove this mask as a move action to change his appearance as if using ",r.a.createElement("em",{className:"underline-hover",onClick:function(){return e.editModal("spell",null,55)}},"disguise self"),". The effect persists for 10 minutes. A vigilante can instead remove a quick-change mask to switch his identity as a move action. If the mask is used in this way, the effect functions just like changing identities normally (except faster), and doesn\u2019t have a limited duration. Regardless of which way he is using a quick-change mask, the user can attempt a Bluff check to create a diversion so he can use Stealth as part of the same move action he uses to activate the mask. The mask dissolves when used."),aura:"faint illusion",price:"650 gp",weight:"-",activatable:!0,action:"move",expendable:!0};t.push(l);var i={id:1003,name:"Headband of Vast Intelligence +2",description:r.a.createElement("span",null,"This intricate gold headband is decorated with several small blue and deep purple gemstones.The headband grants the wearer an enhancement bonus to Intelligence of +2. A ",r.a.createElement("em",null,"headband of vast intelligence")," has one skill associated with it: ",r.a.createElement("strong",null,"Religion"),". The headband grants a number of skill ranks in Religion equal to the wearer\u2019s total Hit Dice (",r.a.createElement("strong",null,"7 skill ranks"),"). These ranks ",r.a.createElement("strong",null,"do not")," stack with the ranks a creature already possesses."),aura:"moderate transmutation",price:"4000 gp",weight:"1",activatable:!1};t.push(i);var o={id:1004,name:"Wand of Unseen Servant",description:r.a.createElement("span",null,"Cast ",r.a.createElement("em",{className:"underline-hover",onClick:function(){return e.editModal("spell",null,62)}},"unseen servant")," 50 times"),aura:"faint conjuration",price:"750 gp",weight:"-",activatable:!0,action:"standard",limit:50,starting:49};t.push(o)}else if("Cedrick"===a){t.push({id:22e3,name:"Slippers of Spider Climb",description:"When worn, a pair of these slippers enables movement on vertical surfaces or even upside down along ceilings, leaving the wearer\u2019s hands free. Her climb speed is 20 feet. Severely slippery surfaces\u2014icy, oiled, or greased surfaces\u2014make these slippers useless. The slippers can be used for 10 minutes per day, split up as the wearer chooses (minimum 1 minute per use).",aura:"faint transmutation",price:"4800 gp",weight:".5",activatable:!1});t.push({id:22022,name:"Potion of Cure Moderate Wounds",description:"Heal 2d8+3",aura:"faint conjuration",price:"300 gp",weight:"-",activatable:!0,action:"standard",expendable:!0});t.push({id:22023,name:"Pint of Eek",description:"After consuming, you immediately breath out a blast of sonic energy in a 30 ft line. All affected creatures take 3d6 sonic damage, or half that if they succeed at a DC 15 Reflex save.",aura:"moderate evocation",price:"???",weight:"-",activatable:!0,action:"standard",expendable:!0})}else if("Maddox"===a){var c={id:3010,name:"Staff of Size Alteration",description:r.a.createElement("span",null,"This staff of dark wood is stouter and sturdier than most magical staves, with a gnarled and twisted knot of wood at the top end. It allows use of the following spells: ",r.a.createElement("em",{className:"underline-hover",onClick:function(){return e.editModal("spell",null,64)}},"enlarge person")," (1 charge), ",r.a.createElement("em",{className:"underline-hover",onClick:function(){return e.editModal("spell",null,65)}},"reduce person")," (1 charge), ",r.a.createElement("em",{className:"underline-hover",onClick:function(){return e.editModal("spell",null,66)}},"shrink item")," (2 charges), ",r.a.createElement("em",{className:"underline-hover",onClick:function(){return e.editModal("spell",null,67)}},"mass enlarge person")," (3 charges), ",r.a.createElement("em",{className:"underline-hover",onClick:function(){return e.editModal("spell",null,67)}},"mass reduce person")," (3 charges)"),aura:"moderate transmutation",price:"26150 gp",weight:"5",limit:10,redux:"sizeStaff"};t.push(c);var s={id:3011,name:"Necklace of Fireballs III",description:r.a.createElement("span",null,r.a.createElement("p",null,"This item appears to be a string or cluster of spherical beads, sometimes with the ends tied together to form a necklace."),r.a.createElement("p",null,"(It does not count as an item worn around the neck for the purpose of determining which of a character\u2019s worn magic items is effective.) If a character holds it, however, all can see the strand as it really is\u2014a golden chain from which hang a number of golden spheres. The spheres are detachable by the wearer (and only by the wearer), who can easily hurl one of them up to 70 feet. When a sphere arrives at the end of its trajectory, it detonates as a ",r.a.createElement("em",{className:"underline-hover",onClick:function(){return e.editModal("spell",null,66)}},"fireball")," spell (Reflex DC 14 half)."),r.a.createElement("p",null,"Spheres come in different strengths, ranging from those that deal 2d6 points of fire damage to those that deal 10d6. The market price of a sphere is 150 gp for each die of damage it deals."),r.a.createElement("p",null,"Each necklace of fireballs contains a combination of spheres of various strengths. Some traditional combinations, designated types I through VII, are detailed above."),r.a.createElement("p",null,"If the necklace is being worn or carried by a character who fails her saving throw against a magical fire attack, the item must make a saving throw as well (with a save bonus of +7). If the necklace fails to save, all its remaining spheres detonate simultaneously, often with regrettable consequences for the wearer.")),aura:"moderate evocation",price:"4350 gp",weight:1};t.push(s);t.push({id:3012,name:"Handy Haversack",description:"A backpack of this sort appears to be well made, well used, and quite ordinary. It is constructed of finely tanned leather, and the straps have brass hardware and buckles. It has two side pouches, each of which appears large enough to hold about a quart of material. In fact, each is like a bag of holding and can actually hold material of as much as 2 cubic feet in volume or 20 pounds in weight. The large central portion of the pack can contain up to 8 cubic feet or 80 pounds of material. Even when so filled, the backpack always weighs only 5 pounds. While such storage is useful enough, the pack has an even greater power. When the wearer reaches into it for a specific item, that item is always on top. Thus, no digging around and fumbling is ever necessary to find what a haversack contains. Retrieving any specific item from a haversack is a move action, but it does not provoke the attacks of opportunity that retrieving a stored item usually does.",aura:"moderate conjuration",price:"2000 gp",weight:5,activatable:!0,action:"move",modal:"handy"});var u={id:3013,name:"Monster Almanac",description:r.a.createElement("span",null,"This sketchbook has up to 100 pages full of scribbled notes and hasty sketches about monsters. When the user focuses on a particular page, the text and pictures start moving, revealing more details about the creature. The user must spend 10 minutes researching a particular type of monster to get any benefit from the almanac. If the user is trained in the appropriate Knowledge skill to identify a monster, he gets a +2 circumstance bonus on his check. He can attempt a Knowledge check to identify a creature despite being untrained in the appropriate skill (but without the +2 bonus) as long as the check\u2019s DC is no higher than 15."),aura:"faint divination",price:"4000 gp",weight:.5,activatable:!0,action:"long"};t.push(u);var d={id:3014,name:"Astrolabe",description:r.a.createElement("span",null,r.a.createElement("p",null,"An astralabe is essentially an extraplanar compass: a device that explorers of the planes can use to orient themselves in realms without shared cardinal directions or physical laws."),r.a.createElement("p",null,"The device creates an abstraction of north, east, south, and west, as well as up, down, in, out, back, forward, past, future, and a variety of other directions that can prove helpful in navigating the planes. Despite diverse cosmetic differences, astralabes share a uniform internal design and, by and large, give consistent, shared directions. As such, many\u2014if not most\u2014 planar cartographers utilize astralabes when creating maps, allowing travelers to navigate lands without magnetic poles or with malleable terrains as though there were one consistent north. The device keeps a constant orientation, but it does not adjust or circumvent hazards or show particular paths. Any creature not on the Material Plane who employs an astralabe while attempting a Knowledge, Survival, or similar skill check to navigate gains a +4 bonus on that check."),r.a.createElement("p",null,"Additionally, an astralabe can aid a traveler in preparing to travel to another plane. The device can read emanations from portals, gates, and other connections between the planes and display them upon its surface. These displays can be interpreted with a successful Knowledge (planes) check. A user must typically succeed at a DC 25 Knowledge (planes) check to correctly read an astralabe, though demiplanes and stranger realms might require a higher DC or yield inconclusive results. Those who succeed learn the name of the plane beyond the portal, though not the portal\u2019s exact location upon that plane\u2014it doesn\u2019t reveal tiers, layers, or subrealms, in the case of planes divided into multiple parts. Those who fail the check are unable to tell what plane lies beyond."),r.a.createElement("p",null,"Those who fail the check by 10 or more incorrectly identify what plane lies beyond, with the details of this misinformation determined by the GM."),r.a.createElement("p",null,"Astralabes generally don\u2019t function on the Material Plane, shutting down and emanating an aura of only faint divination."),r.a.createElement("p",null,"However, should one be brought within 20 feet of a portal or similar passage to another plane, it becomes active for as long as it remains nearby. An astralabe operates continuously while on any plane other than the Material Plane.")),aura:"moderate divination",price:"16000 gp",weight:3};t.push(d)}else if("Merg"===a){t.push({id:2004,name:"Elixir of Fire Breath",description:"This strange bubbling elixir bestows upon the drinker the ability to spit gouts of flame. He can breathe fire up to three times, each time dealing 4d6 points of fire damage to a single target up to 25 feet away. The victim can attempt a DC 13 Reflex save for half damage. Unused blasts of fire dissipate 1 hour after the liquid is consumed.",aura:"moderate evocation",price:"1100 gp",weight:"-",activatable:!0,action:"standard",expendable:!0});t.push({id:2005,name:"Blind Man's Cask",description:"This black and red ceramic pot is about 5 ft tall, and does not change wieght if the only thing within it is alcohol. There is an an accompanying rubber gummy mouth guard. If the mouth guard is within 20 ft of the cask, anyone with the mouth guard in their mouth can drink from the cask as if the liquid inside was teleporting. Any liquid can be consumed this way, but the connection is lost if more than half of the container is filled with a non-liquid substance.",aura:"faint conjuration",price:"1500 gp",weight:20})}else if("Robby"===a){var m={id:3e3,name:"Pirate's Eye Patch",description:r.a.createElement("span",null,"This black silk eye patch is adorned by a skull and crossbones worked in silver thread. The wearer of this patch gains a +2 competence bonus on Swim and Climb checks. In addition, once per day, the wearer of this eye patch can gain the effects of either ",r.a.createElement("em",{className:"underline-hover",onClick:function(){return e.editModal("spell",null,70)}},"touch of the sea")," or ",r.a.createElement("em",{className:"underline-hover",onClick:function(){return e.editModal("spell",null,52)}},"expeditious retreat")," on command (wearer\u2019s choice)."),aura:"faint transmutation",price:"2600 gp",weight:"-"};t.push(m);var h={id:3001,name:"Quick Runner's Shirt",description:"This shirt is made of light, gossamer-thin fabric embroidered with arrangements of winged feet. Once per day as a swift action, the wearer can take an additional move action to move (".concat(e.character_info.hardcode.speed," ft) and then immediately end his turn, losing any unspent actions. A character must wear this shirt continuously for 24 hours before he can activate this ability."),aura:"faint transmutation",price:"1000 gp",weight:"-",activatable:!0,action:"swift",limit:1};t.push(h);t.push({id:3002,name:"Jabberjaw Gems",description:"When a gem is held, your spokemon language (heard and mouthed) appear as if you were speaking the gem's associated language. Whoever is wielding the gem or touching the wielder can hear the actual language spoken. If you hold multiple gems, your language is an amalgam of all the gems. For listeners who know all of the languages spoken, they must make a DC 15 Linguistics check to comprehend the speaker. For each language a listener doesn't know, increase the DC by 5.",aura:"moderate transmutation",price:"6000 gp",weight:"-"});t.push({id:3003,name:"Origami Boat",description:"If this makes contact with water, it gradually (over the course of 5 minutes) increase its size until it becomes a row boat with a space of 20 ft by 10 ft in the same shape as the paper. After 2 hours, the boat gradually (over the course of 10 minutes) shrinks back to its smaller form. This transmation resets after 12 hours.",aura:"moderate transmutation",price:"6000 gp",weight:"-"});var f={id:3004,name:"Brass Griffin Cloak",description:r.a.createElement("span",null,"While wearing this cloak, if the wearer is damaged by fire damage, they are not affected by it; the cloak draws the energy towards it. Once the clock has absorbed 50 damage this way, the cloak bruns up and is destroyed, and any excess damage is dealt to the wearer. Once a day, as a move action, you may be affected by the spell ",r.a.createElement("em",{className:"underline-hover",onClick:function(){return e.editModal("spell",null,75)}},"endure elements"),". The duration of this effect is 1 hour."),aura:"moderate transmutation",price:"6000 gp",weight:"-"};t.push(f)}var g=function(e){return e%2===0?"even-row-magic":"odd-row"},b=function(t,a,n){var r=!e.character_info.actions[t],l=a.usage;if(l){var i=n.character_magic_item_feature_usages.find((function(e){return e.feature_usage_id===l.id})),o=l.limit;if((i.current_usage||0)>=o)return"cannot-cast"}return r?t:"cannot-cast"};return r.a.createElement(r.a.Fragment,null,e.character.character_magic_items.map((function(t,a){return t.magic_item.features.filter((function(e){var t=!1;return t=!!e.action||t,t=e.usage&&!!e.usage.toggleable||t})).map((function(n){var l=n.action?function(e){switch(e){case"Standard Action":return"standard";case"Swift Action":return"swift";case"Move Action":return"move";case"Full-Round Action":return"full";case"Immediate Action":return"immediate";case"Free Action":return"free";default:return e}}(n.action.name):"use",i="use"===l?"use":b(l,n,t),o=n.usage,c=!!o&&o.toggleable;return r.a.createElement("tr",{className:g(a),key:3*t.id-1},r.a.createElement("td",null,r.a.createElement("button",{className:i,onClick:function(){return function(t,a,n,r){if("cannot-cast"===n)return null;if(!e.character_info.actions[n]||"use"===n){"use"!==n&&e.dispatch({type:"TRIGGER ACTION",action:n});var l=a.usage;if(l){var i=t.character_magic_item_feature_usages.find((function(e){return e.feature_usage_id===a.usage.id}));l.limit-i.current_usage<=1&&l.destroy_after_use?(console.log("delete"),fetch("".concat(p,"/api/v1/character_magic_items/").concat(t.id),{method:"DELETE"}).then((function(e){return e.json()})).then((function(t){404===t.status||500===t.status?console.log(t):e.dispatch({type:"CHARACTER",character:t.character})}))):r?(console.log(r),e.editModal("cFeature",null,t.id,"character_magic_items")):(console.log("patch"),fetch("".concat(p,"/api/v1/character_magic_items/").concat(i.id),{method:"PATCH",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({count:1})}).then((function(e){return e.json()})).then((function(t){404===t.status||500===t.status?console.log(t):e.dispatch({type:"CHARACTER",character:t.character})})))}}}(t,n,i,c)}},"Use")),r.a.createElement("td",{className:"underline-hover",onClick:function(){return e.editModal("magic item",null,t.id)}},r.a.createElement("strong",null,t.magic_item.name),t.magic_item.redux?"(".concat(t.magic_item.limit-e.character_info.hardcode[t.magic_item.redux]||10,"/").concat(t.magic_item.limit,")"):null))}))})))})),zi=Object(h.b)((function(e){return{character:e.character,character_info:e.character_info}}))((function(e){var t=[];if("Persephone"===e.character.name){t.push({id:300,name:"Dark Reaver Powder",price:"800 gp",type:"ingested",save:"Fort DC 18",onset:"10 minutes",frequency:"1/minute for 6 minutes",cure:"2 consecutive saves",effect:"1d3 Con damage and 1 Str damage",activatable:!1,limit:"2"});t.push({id:301,name:"Purple Worm Poison",price:"700 gp",type:"injury",save:"Fort DC 24",onset:"-",frequency:"1/round for 6 rounds",cure:"2 consecutive saves",effect:"1d3 Str damage",activatable:!1,limit:"8"});t.push({id:302,name:"Insanity Mist",price:"1500 gp",type:"inhaled",save:"Fort DC 15",onset:"-",frequency:"1/round for 6 rounds",cure:"1 save",effect:"1d3 Wis damage",activatable:!1,limit:"1"});t.push({id:303,name:"Wyvern Poison",price:"3000 gp",type:"injury",save:"Fort DC 17",onset:"-",frequency:"1/round for 6 rounds",cure:"2 consecutive saves",effect:"1d4 Con damage",activatable:!1,limit:"1"})}var a=function(e){return e%2===0?"even-row-poisons":"odd-row"};return r.a.createElement(r.a.Fragment,null,t.length?r.a.createElement("h5",{className:"underline-hover",onClick:function(){return e.editModal("poisons")}},"Poisons"):null,t.length?r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Amount"),r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"Price"),r.a.createElement("th",null,"Type"),r.a.createElement("th",null,"Save"),r.a.createElement("th",null,"Effect"),r.a.createElement("th",null,"Onset"),r.a.createElement("th",null,"Frequency"),r.a.createElement("th",null,"Cure"))),r.a.createElement("tbody",null,t.map((function(e,t){return r.a.createElement("tr",{className:a(t),key:3*e.id-1},r.a.createElement("td",null,"(",e.limit,")"),r.a.createElement("td",null,r.a.createElement("strong",null,e.name)),r.a.createElement("td",null,e.price),r.a.createElement("td",null,e.type),r.a.createElement("td",null,e.save),r.a.createElement("td",null,e.effect),r.a.createElement("td",null,e.onset),r.a.createElement("td",null,e.frequency),r.a.createElement("td",null,e.cure))})))):null)})),Ui=Object(h.b)((function(e){return{character:e.character,character_info:e.character_info}}))((function(e){var t=[],a=e.character.name;if("Cedrick"===a){t.push({id:150,name:"Wooden",description:"No ACP for swim checks",type:"Light",price:"20 gp",weight:25,armorBonus:3,maxDex:3,acp:1,arcane:15,speed:"30 ft/20 ft"})}else if("Maddox"===a){t.push({id:160,name:"+1 bolstering full-plate",description:"This metal suit comprises multiple pieces of interconnected and overlaying metal plates, incorporating the benefits of numerous types of lesser armor. A complete suit of full plate (or platemail, as it is often called) includes gauntlets, heavy leather boots, a visored helmet, and a thick layer of padding that is worn underneath the armor. Bolstering: Anytime the wearer of bolstering armor damages a creature with a melee or ranged attack, he gains a +2 competence bonus on saving throws against that creature\u2019s abilities until the start of his next turn.",type:"Heavy",price:"5500 gp",weight:50,armorBonus:9,maxDex:1,acp:5,arcane:35,speed:"20 ft/15 ft"})}else if("Merg"===a){t.push({id:171,name:"+1 chain shirt",description:"Covering the torso, this shirt is made up of thousands of interlocking metal rings.",type:"Light",price:"1250 gp",weight:25,armorBonus:5,maxDex:4,acp:1,arcane:20,speed:"30 ft/20 ft"})}else if("Robby"===a){t.push({id:180,name:"Padded",description:"More than simple clothing, padded armor combines heavy, quilted cloth and layers of densely packed stuffing to create a cheap and basic protection. It is typically worn by those not intending to face lethal combat or those who wish their maneuverability to be impacted as little as possible.",type:"Light",price:"5 gp",weight:10,armorBonus:1,maxDex:8,acp:0,arcane:5,speed:"30 ft/20 ft"})}var n=function(e){return e%2===0?"even-row-armor":"odd-row"},l=function(t,a){var n="";"Dex"===a&&(n="Your maximum bonus to Dexterity applied to your AC, even if you have a higher bonus."),"ACP"===a&&(n="Armor Check Penalty: This is a penalty that applies to all Strength and Dexterity checks and skill checks."),"Arcane"===a&&(n="When you cast an Arcane Spell that require a Somatic component, roll a d100. If you roll within the total Spell Failure Percentage, your spell fails and your action is wasted."),e.renderTooltip(t,n)};return r.a.createElement(r.a.Fragment,null,t.length?r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Worn"),r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"Type"),r.a.createElement("th",null,"Armor Bonus"),r.a.createElement("th",{onMouseOver:function(e){return l(e,"Dex")},onMouseOut:e.mouseOut},"Max Dex.*"),r.a.createElement("th",{onMouseOver:function(e){return l(e,"ACP")},onMouseOut:e.mouseOut},"ACP*"),r.a.createElement("th",{onMouseOver:function(e){return l(e,"Arcane")},onMouseOut:e.mouseOut},"Arcane Failure*"),r.a.createElement("th",null,"Speed"),r.a.createElement("th",null,"Desc"),r.a.createElement("th",null,"Weight"),r.a.createElement("th",null,"Price"))),r.a.createElement("tbody",null,t.map((function(t,a){var l=e.character_info.hardcode.armor;return r.a.createElement("tr",{className:n(a),key:3*t.id-1},r.a.createElement("td",null,r.a.createElement("button",{className:"long",onClick:function(){return e.dispatch({type:"ACTIVE ARMOR",name:t.name})}},l===t.name?"Doff":"Don")),r.a.createElement("td",null,r.a.createElement("strong",null,t.name)),r.a.createElement("td",null,t.type),r.a.createElement("td",null,"+",t.armorBonus),r.a.createElement("td",null,"+",t.maxDex),r.a.createElement("td",null,"-",t.acp),r.a.createElement("td",null,t.arcane,"%"),r.a.createElement("td",null,t.speed),r.a.createElement("td",null,t.description),r.a.createElement("td",null,t.weight," lb",t.weight>1||0===t.weight?"s":null),r.a.createElement("td",null,t.price))})))):null)})),Gi=Object(h.b)((function(e){return{character:e.character,character_info:e.character_info}}))((function(e){return r.a.createElement("section",null,r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Action"),r.a.createElement("th",null,"Name"))),r.a.createElement("tbody",null,r.a.createElement(Hi,{editModal:e.editModal}),r.a.createElement(qi,{editModal:e.editModal}),r.a.createElement(Bi,{editModal:e.editModal}),r.a.createElement(Wi,{editModal:e.editModal}))),r.a.createElement(Ui,{editModal:e.editModal,renderTooltip:e.renderTooltip,mouseOut:e.mouseOut}),r.a.createElement(zi,{editModal:e.editModal}))})),Yi=(Object(h.b)((function(e){return{character:e.character,character_info:e.character_info}}))((function(e){var t=e.character.name,a=function(){return[{id:5999,name:"Dragon Egg",weight:10,price:"priceless",description:"Glossy and smooth, this appear to made of solid gold."},{id:6e3,name:"Rope, Hempen (50 ft.)",weight:10,price:"1 gp",description:"The DC to escape hemp rope bonds is equal to 20 + the CMB of the creature that tied the bonds. Ropes do not need to make a check every round to maintain the pin. If the DC to escape is higher than 20 + the tying creatures CMB, the tied up creature cannot escape from the bonds, even with a natural 20 on the check. This rope has 2 hit points and can be burst with a DC 23 Strength check."},{id:6001,name:"Grappling Hook",weight:4,price:"1 gp",description:"Throwing a grappling hook requires a ranged Attack Roll, treating the hook as a thrown weapon with a range increment of 10 feet. Objects with ample places to catch the hook are AC 5."},{id:6002,name:"Bandana",weight:0,price:"-",description:""},{id:6003,name:"Boots",weight:0,price:"-",description:""},{id:6004,name:"Tan Pants",weight:0,price:"-",description:""},{id:6005,name:"Burgundy Ragged Naval Coat",weight:2,price:"-",description:""},{id:6006,name:"Pirate Flowey Shirt",weight:0,price:"-",description:""},{id:6007,name:"Sulfur",weight:0,price:"5 sp",description:"Sulfur has a distinctive odor and caustic properties."},{id:6008,name:"Thieves Tool, Common",weight:1,price:"30 gp",description:"This kit contains lockpicks and other tools you need to use the Disable Device skill. Without these tools, you must use improvised tools, and you take a \u20132 circumstance penalty on Disable Device checks."},{id:6009,name:"Asmodeus Pendants (12)",weight:1,price:"5 sp",description:"Asmodeus' symbol: a downward pointing pentagram"},{id:6010,name:"Ball Bearings",weight:2,price:"1 gp",description:"As a standard action, you can spill these tiny metal balls from their pouch to cover a level, 10 ft square. A creature moving across the covered area must succeed on a DC 10 Reflex saving throw or fall prone. A creature moving through the area at half speed doesn't need to make the save."},{id:6011,name:"Dynamite",weight:1,price:"100 gp",description:"This hollow clay container holds a small charge of black powder and a slow-burning fuse. Lighting the fuse is move action; 1d3 rounds later the dynamite explodes, dealing 2d6 points of bludgeoning damage and 1d6 points of fire damage in a 10-foot-radius burst (Reflex DC 15 halves). You throw dynamite as if it were a splash weapon."},{id:6012,name:"Purple Dust",weight:0,price:"-",description:""},{id:6013,name:"Blue & White Mushroom",weight:0,price:"-",description:""}]},n=function(){return[{id:2e3,name:"Sunrod",weight:1,price:"2 gp",description:"This 1-foot-long, gold-tipped, iron rod glows brightly when struck as a standard action. It sheds normal light in a 30-foot radius and increases the light level by one step for an additional 30 feet beyond that area (darkness becomes dim light and dim light becomes normal light). A sunrod does not increase the light level in normal light or bright light. It glows for 6 hours, after which the gold tip is burned out and worthless."},{id:2001,name:"Holy Water",weight:1,price:"25 gp",description:"Holy water damages undead creatures and evil outsiders almost as if it were acid. A flask of holy water can be thrown as a splash weapon. Treat this attack as a ranged touch attack with a range increment of 10 feet. A flask breaks if thrown against the body of a corporeal creature, but to use it against an incorporeal creature, you must open the flask and pour the holy water out onto the target. Thus, you can douse an incorporeal creature with holy water only if you are adjacent to it. Doing so is a ranged touch attack that does not provoke attacks of opportunity. A direct hit by a flask of holy water deals 2d4 points of damage to an undead creature or an evil outsider. Each such creature within 5 feet of the point where the flask hits takes 1 point of damage from the splash. Temples to good deities sell holy water at cost (making no profit). Holy water is made using the bless water spell."},{id:2002,name:"Acid Flask",weight:1,price:"10 gp",description:"You can throw a flask of acid as a splash weapon. Treat this attack as a ranged touch attack with a range increment of 10 feet. A direct hit deals 1d6 points of acid damage. Every creature within 5 feet of the point where the acid hits takes 1 point of acid damage from the splash."},{id:2003,name:"10 Torches",weight:10,price:"10 cp",description:"A torch burns for 1 hour, shedding normal light in a 20-foot radius and increasing the light level by one step for an additional 20 feet beyond that area (darkness becomes dim light and dim light becomes normal light). A torch does not increase the light level in normal light or bright light. If a torch is used in combat, treat it as a one-handed improvised weapon that deals bludgeoning damage equal to that of a gauntlet of its size, plus 1 point of fire damage."},{id:2004,name:"Tindertwig",weight:0,price:"1 gp",description:"The alchemical substance on the end of this small, wooden stick ignites when struck against a rough surface. Creating a flame with a tindertwig is much faster than creating a flame with Flint and Steel (or a magnifying glass) and tinder. Lighting a torch with a tindertwig is a Standard Action (rather than a full-round action), and lighting any other fire with one is at least a Standard Action."},{id:2005,name:"5 Lamp Oil Flasks",weight:5,price:"5 sp",description:"A pint of lamp oil burns for 6 hours in a common lantern or lamp. You can also use a flask of lamp oil as a splash weapon. Use the rules for alchemist\u2019s fire, except that it takes a full-round action to prepare a flask with a fuse. Once it is thrown, there is a 50% chance of the flask igniting successfully. You can pour a pint of oil on the ground to cover an area 5 feet square, provided that the surface is smooth. If lit, the oil burns for 2 rounds and deals 1d3 points of fire damage to each creature in the area."},{id:2006,name:"Robe",weight:6,price:"12 gp",description:"A glamorous red robe with white mink and gold thread trim. Has seen better days."},{id:2007,name:"Common Backpack",weight:2,price:"2 gp",description:"This leather knapsack has one large pocket that closes with a buckled strap and holds about 2 cubic feet of material. Some may have one or more smaller pockets on the sides."}]},l=function(){return[{id:3e3,name:"Dragon Egg",weight:10,price:"priceless",description:"Made of, or covered with, broad green leaves."}]},i=function(){return[{id:5010,name:"Books",weight:18,price:"-",description:r.a.createElement("p",null,"Titles:",r.a.createElement("ul",null,r.a.createElement("li",null,"Rarity of Antiques in Antiquity"),r.a.createElement("li",null,"Connection of Ley and Fey"),r.a.createElement("li",null,"The Ruins of the 2nd Age, v3"),r.a.createElement("li",null,"Thynne's Travels, v11"),r.a.createElement("li",null,"Imbuing with Natural Magics, v1"),r.a.createElement("li",null,"History of Trans-Planar Portals"),r.a.createElement("li",null,"Early Catrography of 3rd Age, v3"),r.a.createElement("li",null,"1st and 2nd Age Written Secrets")))}]},o=function(e){return e%2===0?"even-row-misc":"odd-row"};return r.a.createElement("section",null,r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"Weight"),r.a.createElement("th",null,"Price"),r.a.createElement("th",null,"Description"))),r.a.createElement("tbody",null,function(){var e=[];switch(t){case"Merg":e=n();break;case"Cedrick":e=l();break;case"Maddox":e=i();break;case"Robby":e=a()}return e}().map((function(e,t){return r.a.createElement("tr",{className:o(t),key:e.key*t*3-1},r.a.createElement("td",null,e.name),r.a.createElement("td",null,e.weight," lb",e.weight>1||0===e.weight?"s":null),r.a.createElement("td",null,e.price),r.a.createElement("td",null,e.description))})))))})),function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,l=new Array(n),i=0;i<n;i++)l[i]=arguments[i];return(e=t.call.apply(t,[this].concat(l))).state={activeTab:"Attacks"},e.renderTabClick=function(t){"false"===localStorage.computer&&t===e.state.activeTab?e.setState({activeTab:"none"}):e.setState({activeTab:t})},e.renderMobileTabClassNames=function(t){var a="";return t===e.state.activeTab?a+="mobile-feature-selected-tab":a+="mobile-feature-tab",a="Attacks"===t?a+" mobile-tab-top":a,a="Equipment"===t&&t!==e.state.activeTab?a+" mobile-tab-bottom":a,a+=" shadow"},e.renderAttackDetails=function(){var t=qe(li(e.props.characterInfo.classes,e.props.character.uniq_klasses)),a=ri(e.props.character,e.props.characterInfo,"melee"),n=ri(e.props.character,e.props.characterInfo,"range"),l=ci(e.props.character,e.props.characterInfo),i=qe(l.bonus),o=l.defense,c=function(e,t){var a=e.target;H(t,a)};if(["Attacks","Tactics","Combat Maneuvers"].includes(e.state.activeTab)){var s=e.calcInit();return r.a.createElement("div",null,r.a.createElement("strong",{onMouseOver:function(e){return c(e,"Base Attack Bonus")},onMouseOut:function(e){return c(e,"Base Attack Bonus")}},"BAB:")," ",t," | ",r.a.createElement("strong",null,"Melee AB")," ",r.a.createElement("span",{style:{border:"1px solid #".concat(e.props.settings.borderColor),borderRadius:"0.3em",cursor:"default",padding:"1px 2px"},onClick:function(){return e.rollDice("Melee Attack Roll",a)}},a)," | ",r.a.createElement("strong",null,"Ranged AB")," ",r.a.createElement("span",{style:{border:"1px solid #".concat(e.props.settings.borderColor),borderRadius:"0.3em",cursor:"default",padding:"1px 2px"},onClick:function(){return e.rollDice("Ranged Attack Roll",n)}},n)," | ",r.a.createElement("strong",null,"Initiative:")," ",r.a.createElement("span",{style:{border:"1px solid #".concat(e.props.settings.borderColor),borderRadius:"0.3em",cursor:"default",padding:"1px 2px"},onClick:function(){return e.rollDice("Initiative",s)}},s),r.a.createElement("br",null),r.a.createElement("strong",{onMouseOver:function(e){return c(e,"Combat Maneuver Bonus")},onMouseOut:function(e){return c(e,"Combat Maneuver Bonus")}},"CMB")," ",r.a.createElement("span",{style:{border:"1px solid #".concat(e.props.settings.borderColor),borderRadius:"0.3em",cursor:"default",padding:"1px 2px"},onClick:function(){return e.rollDice("Combat Maneuver Check",i)}},i)," | ",r.a.createElement("strong",{onMouseOver:function(e){return c(e,"Combat Maneuver Defense")},onMouseOut:function(e){return c(e,"Combat Maneuver Defense")}},"CMD")," ",o)}return null},e.calcInit=function(){return function(){var t=function(){var t=[],a=0,n=0,r=ea("dexterity"),l=ea("dexterity",!0);return l!==r?(n+=r-l,a+=l):a+=r,"Dink Weatherbyrst"===e.props.character.name&&(a+=4),"Iyugi"===e.props.character.name&&(a+=2),t.push(a),t.push(n),t}();return qe(t[0]+t[1])}()},e.rollDice=function(e,t){var a={rollName:e,modifier:parseInt(t),die:20,count:1};W(a)},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){"false"===localStorage.computer&&this.setState({activeTab:"none"})}},{key:"render",value:function(){var e=this;return"true"===localStorage.computer?r.a.createElement("div",{className:"actions shadow",style:{boxShadow:"5px 4px 2px #".concat(this.props.settings.shadeColor),opacity:"0.95",backgroundColor:"#".concat(this.props.settings.bubbleColor),borderColor:"#".concat(this.props.settings.borderColor)}},r.a.createElement(Ii,{renderTabClick:this.renderTabClick,activeTab:this.state.activeTab}),r.a.createElement("div",{className:"dynamic-size",style:{height:"90%"}},this.renderAttackDetails(),"Attacks"===this.state.activeTab&&r.a.createElement(xi,{editModal:this.props.editModal,renderTooltip:this.props.renderTooltip,mouseOut:this.props.mouseOut}),"Tactics"===this.state.activeTab&&r.a.createElement(Li,{renderTooltip:this.props.renderTooltip,mouseOut:this.props.mouseOut}),"Combat Maneuvers"===this.state.activeTab&&r.a.createElement(Fi,null),"Spells"===this.state.activeTab&&r.a.createElement(Ni,null),"Abilities"===this.state.activeTab&&r.a.createElement(Mi,{editModal:this.props.editModal}))):"false"===localStorage.computer?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:this.renderMobileTabClassNames("Attacks"),onClick:function(){return e.renderTabClick("Attacks")}},"Attacks ","Attacks"===this.state.activeTab?r.a.createElement(w.a,{icon:_.e}):r.a.createElement(w.a,{icon:_.n})),"Attacks"===this.state.activeTab&&r.a.createElement(xi,{editModal:this.props.editModal,renderTooltip:this.props.renderTooltip,mouseOut:this.props.mouseOut,editSidebar:this.props.editSidebar}),r.a.createElement("div",{className:this.renderMobileTabClassNames("Basics"),onClick:function(){return e.renderTabClick("Basics")}},"Basics ","Basics"===this.state.activeTab?r.a.createElement(w.a,{icon:_.e}):r.a.createElement(w.a,{icon:_.n})),"Tactics"===this.state.activeTab&&r.a.createElement(Li,{renderTooltip:this.props.renderTooltip,mouseOut:this.props.mouseOut}),r.a.createElement("div",{className:this.renderMobileTabClassNames("Spells"),onClick:function(){return e.renderTabClick("Spells")}},"Spells ","Spells"===this.state.activeTab?r.a.createElement(w.a,{icon:_.e}):r.a.createElement(w.a,{icon:_.n})),"Spells"===this.state.activeTab&&r.a.createElement(Ni,{editModal:this.props.editModal,clickOut:this.props.clickOut}),r.a.createElement("div",{className:this.renderMobileTabClassNames("Abilities"),onClick:function(){return e.renderTabClick("Abilities")}},"Abilities ","Abilities"===this.state.activeTab?r.a.createElement(w.a,{icon:_.e}):r.a.createElement(w.a,{icon:_.n})),"Abilities"===this.state.activeTab&&r.a.createElement(Mi,{editModal:this.props.editModal}),r.a.createElement("div",{className:this.renderMobileTabClassNames("Equipment"),onClick:function(){return e.renderTabClick("Equipment")}},"Equipment ","Equipment"===this.state.activeTab?r.a.createElement(w.a,{icon:_.e}):r.a.createElement(w.a,{icon:_.n})),"Equipment"===this.state.activeTab&&r.a.createElement(Gi,{editModal:this.props.editModal,renderTooltip:this.props.renderTooltip,mouseOut:this.props.mouseOut})):void 0}}]),a}(r.a.Component)),Ki=Object(h.b)((function(e){return{currentUser:e.currentUser,admin:e.admin,characterInfo:e.character_info,character:e.character,settings:e.settings}}))(Yi),Vi=Object(h.b)((function(e){return{character:e.character,character_info:e.character_info}}))((function(e){var t=function(){var t=[],a=0,n=0,r=Ca("dexterity"),l=Ca("dexterity",!0);return l!==r?(n+=r-l,a+=l):a+=r,"Ildre"===e.character.name&&(a+=4),t.push(a),t.push(n),t},a=function(){var e=t();return ee(e[0]+e[1])},n=function(){var e=t()[1],a="black";return e>0&&(a="green"),e<0&&(a="maroon"),a}();return"true"===localStorage.computer?r.a.createElement("div",{id:"init",className:"shadow shrink"},r.a.createElement("span",{className:"centered"},r.a.createElement("div",{className:"dull"},r.a.createElement("strong",null,"Init")),r.a.createElement("div",{className:"enhanced",style:{color:n}},a()))):"false"===localStorage.computer?r.a.createElement("div",{id:"init",className:"shadow",style:{padding:"2%"}},r.a.createElement("span",{className:"centered"},r.a.createElement("div",{className:"enhanced",style:{color:n}},a()),r.a.createElement("div",{className:"dull"},r.a.createElement("strong",null,"Init")))):void 0})),Ji=function(){var e=Object(be.a)(ge.a.mark((function e(){var t,a,n;return ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=F.getState(),a=t.character,n=t.character_info,a.applicable_klass_features.forEach((function(e){e.features.forEach(function(){var t=Object(be.a)(ge.a.mark((function t(r){var l,i,o,c,s;return ge.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!((null===(l=r.usage)||void 0===l?void 0:l.limit)||(null===(i=r.usage)||void 0===i?void 0:i.limit_frequency)&&!(null===(o=r.usage)||void 0===o?void 0:o.destroy_after_use))){t.next=7;break}if(s=a.character_klass_feature_usages.filter((function(t){return t.klass_feature_id===e.id})),!n.activeFeatures.find((function(t){return t.sourceId===e.id&&"applicable_klass_features"===t.source&&t.featureId===r.id}))){t.next=5;break}return t.next=5,ut(Object(j.a)(Object(j.a)({},r),{},{sourceId:e.id,klassFeatureName:e.name,klassId:e.klass_id,character_klass_feature_usages:s,source:"applicable_klass_features"}));case 5:((null===(c=r.usage)||void 0===c?void 0:c.all_feature_usage_options)||[]).forEach(function(){var t=Object(be.a)(ge.a.mark((function t(a){return ge.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n.activeFeatures.find((function(e){return e.featureId===a.optionSource.featureId&e.sourceId===a.optionSource.sourceId&&e.source===a.optionSource.source}))){t.next=3;break}return t.next=3,ut(Object(j.a)(Object(j.a)({},r),{},{sourceId:e.id,klassFeatureName:e.name,klassId:e.klass_id,character_klass_feature_usages:s,source:"applicable_klass_features"}));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())})),a.character_klasses.forEach((function(e){e.feat&&e.feat.features.forEach((function(t){t.usage&&n.activeFeatures.find((function(a){return a.sourceId===e.id&&a.featureId===t.id&&"character_klasses"===a.source}))&&"Round"===t.usage.limit_frequency&&Qe(Object(j.a)(Object(j.a)({},t),{},{source:"character_klasses",sourceId:e.id,featName:e.feat.name}))}))})),ce({type:"NEW TURN"});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Qi=Object(h.b)((function(e){return{character:e.character,character_info:e.character_info,settings:e.settings}}))((function(e){var t=function(t){var a=e.character_info.actions,n=a.full,r=a.standard,l=a.move;return"full"===t&&(n||r||l)?"cast-full":e.character_info.actions[t]?"cast-".concat(t):t},a=function(t){e.dispatch({type:"TRIGGER ACTION",action:t})};return"false"===localStorage.computer?r.a.createElement("section",{id:"actions",className:"character-show shadow action-container"},r.a.createElement("section",{style:{padding:".15em"}},r.a.createElement("span",{id:"full-action",className:t("full"),onClick:function(){return a("full")}},"Full-Round")),r.a.createElement("section",{style:{padding:".15em",paddingLeft:"0em"}},r.a.createElement("span",{id:"immediate-action",className:t("immediate"),onClick:function(){return a("immediate")}},"Immediate")),r.a.createElement("section",{style:{padding:".15em",paddingTop:"0em"}},r.a.createElement("span",{id:"standard-action",className:t("standard"),onClick:function(){return a("standard")}},"Standard"),r.a.createElement("span",{id:"move-action",className:t("move"),onClick:function(){return a("move")}},"Move"),r.a.createElement("span",{id:"swift-action",className:t("swift"),onClick:function(){return a("swift")}},"Swift")),r.a.createElement("section",{style:{padding:".15em",paddingTop:"0em",paddingLeft:"0em"}},r.a.createElement("span",{id:"free-action",className:"free"},"Free"),r.a.createElement("span",{id:"start-turn",className:"start",onClick:Ji},"Start Turn"))):r.a.createElement("section",{id:"actions",className:"character-show shadow action-container dynamic-size-smaller",style:{boxShadow:"5px 4px 2px #".concat(e.settings.shadeColor),opacity:"0.95",backgroundColor:"#".concat(e.settings.bubbleColor),borderColor:"#".concat(e.settings.borderColor)}},r.a.createElement("li",{id:"full-action",className:t("full"),style:{lineHeight:"normal",padding:"inherit",display:"flex"},onClick:function(){return a("full")}},r.a.createElement("div",{style:{margin:"auto"}},"Full-Round Action")),r.a.createElement("li",{id:"immediate-action",className:t("immediate"),style:{lineHeight:"normal",padding:"inherit",display:"flex"},onClick:function(){return a("immediate")}},r.a.createElement("div",{style:{margin:"auto"}},"Immediate Action")),r.a.createElement("li",{id:"standard-action",className:t("standard"),style:{lineHeight:"normal",padding:"inherit",display:"flex"},onClick:function(){return a("standard")}},r.a.createElement("div",{style:{margin:"auto"}},"Standard Action")),r.a.createElement("li",{id:"move-action",className:t("move"),style:{lineHeight:"normal",padding:"inherit",display:"flex"},onClick:function(){return a("move")}},r.a.createElement("div",{style:{margin:"auto"}},"Move Action")),r.a.createElement("li",{id:"swift-action",className:t("swift"),style:{lineHeight:"normal",padding:"inherit",display:"flex"},onClick:function(){return a("swift")}},r.a.createElement("div",{style:{margin:"auto"}},"Swift Action")),r.a.createElement("li",{id:"free-action",className:"free",style:{lineHeight:"normal",padding:"inherit",display:"flex"}},r.a.createElement("div",{style:{margin:"auto"}},"Free Action")),r.a.createElement("li",{id:"start-turn",className:"start",style:{lineHeight:"normal",padding:"inherit",display:"flex"},onClick:Ji},r.a.createElement("div",{style:{margin:"auto"}},"Start Turn")))})),Zi=Object(h.b)((function(e){return{character:e.character,character_info:e.character_info}}))((function(e){var t=r.a.useState(""),a=Object(U.a)(t,2),n=a[0],l=a[1],i=r.a.useState(""),o=Object(U.a)(i,2),c=o[0],s=o[1],u=r.a.useState(""),d=Object(U.a)(u,2),m=d[0],h=d[1],f=r.a.useState(""),g=Object(U.a)(f,2),b=g[0],v=g[1],y=r.a.useState(!1),E=Object(U.a)(y,2),k=(E[0],E[1]),w=r.a.useState(!1),_=Object(U.a)(w,2),C=(_[0],_[1]);r.a.useEffect((function(){var t=ae(e.character.campaign);h(t),e.note&&(s(e.note.title),l(e.note.details),h(ae(e.note))),e.create&&s("New Note ".concat(e.character.notes.length+1));v(Z.a.sample(["What would you like to say?","Have any news?","What did he do this time?","Anything exciting?"]))}),[e.character]);var S=function(t){if(n.length){console.log("how many fetches did i make?");var a=e.character.campaign,r=a.weekday,l=a.month,i=a.day,o=a.age,s=a.year;t.preventDefault();var u="PATCH"===e.method?"".concat(p,"/api/v1/notes/").concat(e.note.id):"".concat(p,"/api/v1/notes");fetch(u,{method:e.method,headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({title:c,weekday:r,month:l,day:i,age:o,year:s,details:n,character_id:e.character.id})}).then((function(e){return e.json()})).then((function(t){t.error?console.log(t):(k(!1),C(!0),e.dispatch({type:"NEW NOTE",note:t}),e.finishFetch())}))}};Z.a.debounce(S,800);return r.a.createElement("section",null,r.a.createElement("form",null,r.a.createElement("label",{htmlFor:"newnote"},r.a.createElement("input",{className:"new-note-input",type:"text",name:"new note title",value:c,onChange:function(e){s(e.target.value)}}),r.a.createElement("span",null,m),r.a.createElement("button",{className:"note-form-edit",onClick:S},"Save"),r.a.createElement("button",{className:"note-form-cancel",onClick:e.finishFetch},"X"),r.a.createElement("textarea",{className:"new-note-input",type:"text",name:"new note",value:n,placeholder:b,onChange:function(e){l(e.target.value)},rows:"14"}))))})),Xi=Object(h.b)((function(e){return{character:e.character,character_info:e.character_info}}))((function(e){var t=e.note,a=t.title,n=t.id,l=t.details,i=r.a.useState(!1),o=Object(U.a)(i,2),c=o[0],s=o[1],u=function(t){fetch("".concat(p,"/api/v1/notes/").concat(n),{method:"DELETE",headers:{"Content-Type":"application/json",Accept:"application/json"}}).then((function(e){return e.json()})).then((function(t){t.error?console.log(t):(e.dispatch({type:"REMOVE NOTE",note:t}),s(!1))}))};return r.a.createElement(r.a.Fragment,null,c?r.a.createElement(Zi,{note:e.note,method:"PATCH",finishFetch:function(){return s(!1)}}):r.a.createElement("div",{className:"note-list-item",onClick:function(){return e.makeActive(n)}},r.a.createElement("p",null,r.a.createElement("strong",null,a)," ",e.activeNote!==n?r.a.createElement("small",null,e.truncatedDate):r.a.createElement("div",null,r.a.createElement("small",null,e.date))),e.activeNote===n&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{id:"white-space"},l),r.a.createElement("br",null),r.a.createElement("button",{onClick:function(){return s(!0)}},"Edit"),r.a.createElement("button",{onClick:u},"Delete"))))})),$i=Object(h.b)((function(e){return{character:e.character,character_info:e.character_info}}))((function(e){var t=r.a.useState(!1),a=Object(U.a)(t,2),n=a[0],l=a[1],i=r.a.useState(0),o=Object(U.a)(i,2),c=o[0],s=o[1],u=function(e){s(c===e?0:e)};return r.a.createElement("div",null,r.a.createElement("ul",{className:"note-list"},!n&&r.a.createElement("li",{className:"note-list-item"},r.a.createElement("p",{onClick:function(){return l(!0)}},"Create New Note")),n&&r.a.createElement(Zi,{finishFetch:function(){l(!1)},method:"POST",create:!0}),Object(S.a)(e.character.notes).sort((function(e,t){return t.updated_at>e.updated_at?1:-1})).map((function(e){return r.a.createElement(Xi,{note:e,makeActive:u,activeNote:c,date:ae(e),truncatedDate:ne(e)})}))))})),eo=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("span",{className:"tab-list"},r.a.createElement(il,{label:"Details",renderTabClick:this.props.renderTabClick,activeTab:this.props.activeTab}),r.a.createElement(il,{label:"Notes",renderTabClick:this.props.renderTabClick,activeTab:this.props.activeTab}))}}]),a}(r.a.Component),to=eo,ao=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={activeTab:"Details"},e.renderTabClick=function(t){e.setState({activeTab:t})},e}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{id:"details",className:"shadow character-show"},r.a.createElement(to,{renderTabClick:this.renderTabClick,activeTab:this.state.activeTab}),r.a.createElement("div",{style:{height:"100%"}},"Details"===this.state.activeTab&&r.a.createElement(ui,{editModal:this.props.editModal}),"Notes"===this.state.activeTab&&r.a.createElement($i,{character:this.props.character})))}}]),a}(r.a.Component),no=ao,ro=Object(h.b)((function(e){return{character:e.character,character_info:e.character_info}}))((function(e){return r.a.createElement("div",null,e.character.campaign?r.a.createElement("p",null,r.a.createElement("strong",null,"Date"),": ",ae(e.character.campaign)):null,r.a.createElement("ul",null,void 0))})),lo=function(e){return r.a.createElement("span",{className:"tab-list"},function(){if(e.allies)return e.allies.map((function(t,a){return r.a.createElement(il,{label:Z.a.startCase(t),renderTabClick:e.renderTabClick,activeTab:e.activeAlly,allies:!0,character:e.character,removeAlly:e.removeAlly,index:a})}))}())},io=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,l=new Array(n),i=0;i<n;i++)l[i]=arguments[i];return(e=t.call.apply(t,[this].concat(l))).state={activeAlly:null},e.collectMonsters=function(){var t=[];switch(e.props.character.name){case"Nettie":t=e.nettie();break;case"Persephone":t=e.pepper();break;case"Cedrick":t=e.cedrick();break;case"Maddox":t=e.maddox()}return t},e.renderTabClick=function(t,a){e.setState({activeAlly:a})},e.removeAlly=function(t){e.setState({activeAlly:null},(function(){return e.props.dispatch({type:"REMOVE ALLY",monster:t})}))},e.renderAlly=function(){var t=e.collectMonsters()[e.state.activeAlly];return t||"Persephone"===e.props.character.name||"Cedrick"===e.props.character.name||"Maddox"===e.props.character.name?(t||(t=e.collectMonsters()[0]),r.a.createElement("section",null,r.a.createElement("h4",null,t.name),r.a.createElement("div",{style:{marginBottom:"1%",paddingBottom:".8%",borderBottom:"double"}},r.a.createElement("div",null,t.alignment," ",t.size," ",t.type," "),r.a.createElement("div",null,r.a.createElement("u",null,"Init"),":",t.init," ",t.senses.join("; ")," ")),r.a.createElement("div",{style:{marginBottom:"1%",paddingBottom:".8%",borderBottom:"double"}},r.a.createElement("div",null,r.a.createElement("strong",null,"AC")," ",t.ac.base,", touch ",t.ac.touch,", flat-footed ",t.ac.ff," (",t.ac.details,")"),r.a.createElement("div",null,r.a.createElement("strong",null,"hp")," ",t.hp),r.a.createElement("div",null,r.a.createElement("strong",null,"Fort")," ",t.fort,", ",r.a.createElement("strong",null,"Ref")," ",t.ref,", ",r.a.createElement("strong",null,"Will")," ",t.will),r.a.createElement("div",null,!!t.def.length&&r.a.createElement("span",null,r.a.createElement("u",null,"Defensive Abilities")," ",t.def.join(", ")," "),!!t.dr.length&&r.a.createElement("span",null,r.a.createElement("u",null,"DR")," ",t.dr.join(", ")," "),!!t.immune.length&&r.a.createElement("span",null,r.a.createElement("u",null,"Immune")," ",t.immune.join(", ")," "),!!t.resist.length&&r.a.createElement("span",null,r.a.createElement("u",null,"Resist")," ",t.resist.join(", ")," "),!!t.weaknesses.length&&r.a.createElement("span",null,r.a.createElement("u",null,"Weaknesses")," ",t.weaknesses.join(", ")," "))),r.a.createElement("div",{style:{marginBottom:"1%",paddingBottom:".8%",borderBottom:"double"}},r.a.createElement("div",null,r.a.createElement("strong",null,"Speed")," ",t.speed.join(", ")),r.a.createElement("div",null,"Melee ",t.melee.join("\n\n")),r.a.createElement("div",null,!!t.range.length&&"Range ".concat(t.range.join("\n\n"))),r.a.createElement("div",null,!!t.space&&r.a.createElement("span",null,r.a.createElement("strong",null,"Space")," ",t.space," "),!!t.reach&&r.a.createElement("span",null,r.a.createElement("strong",null,"Reach")," ",t.reach," ")),r.a.createElement("div",null,!!t.spAtt.length&&"Special Attacks ".concat(t.spAtt.join("\n\n"))),r.a.createElement("div",null)),r.a.createElement("div",{style:{marginBottom:"1%",paddingBottom:".8%",borderBottom:"double"}},r.a.createElement("div",null,"Str ",t.stats.str?t.stats.str:"-",", Dex ",t.stats.dex?t.stats.dex:"-",", Con ",t.stats.con?t.stats.con:"-",", Int ",t.stats.int?t.stats.int:"-",", Wis ",t.stats.wis?t.stats.wis:"-",", Cha ",t.stats.cha?t.stats.cha:"-"),r.a.createElement("div",null,"Base Atk ",t.bab>0?"+".concat(t.bab):t.bab,"; CMB ",t.cmb,"; CMD ",t.cmd),r.a.createElement("div",null,!!t.feats.length&&r.a.createElement("span",null,r.a.createElement("u",null,"Feats")," ",t.feats.join(", "))),r.a.createElement("div",null,!!t.skills.length&&r.a.createElement("span",null,r.a.createElement("u",null,"Skills")," ",t.skills.join(", "))),r.a.createElement("div",null,!!t.languages.length&&r.a.createElement("span",null,r.a.createElement("u",null,"Languages")," ",t.languages.join(", ")))),r.a.createElement("div",{style:{marginBottom:"1%",paddingBottom:".8%",borderBottom:"double"}},r.a.createElement("div",null,t.special.map((function(e){return r.a.createElement("section",null,r.a.createElement("div",null,r.a.createElement("strong",null,e.name)," (",e.type,")"),r.a.createElement("p",null,e.description))})))))):r.a.createElement("h3",null,"Select an Ally from the Menu!")},e.nettie=function(){var t=[];return(e.props.character_info.hardcode.monsters||[]).forEach((function(e){switch(e){case"air elemental":t.push({name:"Air Elemental",alignment:"N",size:"Small",type:"outsider (air)",init:"+7",senses:["darkvision 60 ft","Perception +4"],ac:{base:17,touch:14,ff:14,details:"+3 Dex, +3 natural, +1 size"},hp:13,fort:"+4",ref:"+6",will:"+0",def:["air mastery"],dr:[],immune:["bleed","paralysis","poison","sleep","stun","critical hits","flanking","precision damage"],resist:[],weaknesses:[],speed:["fly 100 ft (perfect)"],melee:["slam +6 (1d4+1)"],range:[],space:null,reach:null,spAtt:["whirlwind (DC 12, 10-20 ft.)"],stats:{str:12,dex:17,con:12,int:4,wis:11,cha:11},bab:2,cmb:"+2",cmd:"15",feats:["Flyby Attack","Improved Initiative","Weapon Finesse"],skills:["Acrobatics +7","Finesse +7","Perception +4","Religion +1","Stealth +11"],languages:["Auran"],special:[{name:"Air Mastery",description:"Airborne creatures take a \u20131 penalty on attack and damage rolls against an air elemental.",type:"Ex"},{name:"Whirlwind",description:"The whirlwind is always 5 feet wide at its base, but its height and width at the top vary from creature to creature (minimum 10 feet high). A whirlwind\u2019s width at its peak is always equal to half of its height. The creature controls the exact height, but it must be at least 10 feet high.\n\nThe whirlwind form does not provoke attacks of opportunity, even if the creature enters the space another creature occupies. Another creature might be caught in the whirlwind if it touches or enters the whirlwind, or if the whirlwind moves into or through the creature\u2019s space. A creature in whirlwind form cannot make its normal attacks and does not threaten the area around it.\n\nCreatures one or more size categories smaller than the whirlwind might take damage when caught in the whirlwind (generally damage equal to the monster\u2019s slam attack for a creature of its size) and may be lifted into the air. An affected creature must succeed on a Reflex save (DC 10 + half monster\u2019s HD + the monster\u2019s Strength modifier) when it comes into contact with the whirlwind or take damage as if it were hit by the whirlwind creature\u2019s slam attack. It must also succeed on a second Reflex save or be picked up bodily and held suspended in the powerful winds, automatically taking the indicated damage each round. A creature that can fly is allowed a Reflex save each round to escape the whirlwind. The creature still takes damage but can leave if the save is successful.\n\nCreatures trapped in the whirlwind cannot move except to go where the whirlwind carries them or to escape the whirlwind. Trapped creatures can otherwise act normally, but must succeed on a concentration check (DC 15 + spell level) to cast a spell. Creatures caught in the whirlwind take a \u20134 penalty to Dexterity and a \u20132 penalty on attack rolls. The whirlwind can have only as many creatures trapped inside at one time as will fit inside the whirlwind\u2019s volume. The whirlwind can eject any carried creatures whenever it wishes as a free action, depositing them in its space.\n\nIf the whirlwind\u2019s base touches the ground, it creates a swirling cloud of debris. This cloud is centered on the creature and has a diameter equal to half the whirlwind\u2019s height. The cloud obscures all vision, including darkvision, beyond 5 feet. Creatures 5 feet away have concealment, while those farther away have total concealment. Those caught in the cloud of debris must succeed on a concentration check (DC 15 + spell level) to cast a spell.",type:"Su"}]});break;case"lemure":t.push({name:"Lemure",alignment:"LE",size:"Medium",type:"outsider (devil, evil, extraplanar, lawful)",init:"+0",senses:["darkvision 60 ft","see in darkness","Perception +4"],ac:{base:14,touch:10,ff:14,details:"+4 natural"},hp:13,fort:"+4",ref:"+3",will:"+0",def:[],dr:["5/good or silver"],immune:["fire","mind-affecting effects","poison"],resist:["acid 10","cold 10"],weaknesses:[],speed:["20 ft"],melee:["2 claws +2 (1d4)"],range:[],space:null,reach:null,spAtt:[],stats:{str:11,dex:10,con:12,int:null,wis:11,cha:5},bab:2,cmb:"+2",cmd:"12",feats:[],skills:[],languages:["Celestial","Infernal","Draconic","Telepathy"],special:[{name:"See in Darkness",description:"Some devils can see perfectly in darkness of any kind, even that created by a deeper darkness spell.",type:"Su"},{name:"Telepathy",description:"The creature can mentally communicate with any other creature within a certain range (specified in the creature\u2019s entry, usually 100 feet) that has a language. It is possible to address multiple creatures at once telepathically, although maintaining a telepathic conversation with more than one creature at a time is just as difficult as simultaneously speaking and listening to multiple people at the same time",type:"Su"}]});break;case"fire elemental":t.push({});break;case"water elemental":t.push({})}})),t},e.pepper=function(){var e=[];return e.push({name:"Chubbs",alignment:"N",size:"Diminutive",type:"magical beast",init:"+4",senses:["low-light vision","Perception +1"],ac:{base:22,touch:18,ff:18,details:"+4 Dex, +4 size, +4 natural"},hp:"CALCULATE: HALF OF PEPPER'S HP",fort:"CALCULATE: PEPPERS SAVES",ref:"CALCULATE: PEPPERS SAVES",will:"CALCULATE: PEPPERS SAVES",def:[],dr:["In Vigilante Form, DR 2/magic"],immune:[],resist:[],weaknesses:[],speed:["20 ft","climb 20 ft."],melee:["bite +8 (1d2\u20134)"],range:[],space:"1 ft",reach:"0 ft",spAtt:[],stats:{str:2,dex:19,con:9,int:9,wis:12,cha:9},bab:"CALCULATE: PEPPER'S BAB",cmb:"+0",cmd:"6 (10 vs. trip)",feats:["Weapon Finesse"],skills:["Acrobatics +8","Climb +12","For each skill in which either the master or the familiar has ranks, use either the normal skill ranks for an animal of that type or the master\u2019s skill ranks, whichever is better. In either case, the familiar uses its own ability modifiers. Regardless of a familiar\u2019s total skill modifiers, some skills may remain beyond the familiar\u2019s ability to use. Familiars treat Acrobatics, Climb, Fly, Perception, Perform, Stealth, and Swim as class skills."],languages:[],special:[{name:"Affinity for My Team",description:"A mascot is the heart and soul of its team. At first, the team consists of only the familiar and its master, but at 3rd level and every 3 levels thereafter, a mascot can add an additional member to its team. A mascot\u2019s empathic link extends to all members of its team. A mascot can add or remove one team member over the course of a day.",type:"Su"},{name:"Lucky Mascot",description:"Whenever a mascot uses the aid another action to improve a team member\u2019s attack roll or AC, that team member also gains a +1 luck bonus to AC for 1 round.",type:"Su"},{name:"Share Spells",description:"The witch may cast a spell with a target of \u201cYou\u201d on her familiar (as a touch spell) instead of on herself. A witch may cast spells on her familiar even if the spells do not normally affect creatures of the familiar\u2019s type (magical beast). Spells that target a mascot via its share spells ability function at its master\u2019s caster level \u2013 2. The mascot also benefit from the spells of any team member when it is using share spells.",type:"Ex"},{name:"Deliver Touch Spells",description:"If the master and the familiar are in contact at the time the master casts a touch spell, she can designate his familiar as the \u201ctoucher.\u201d The familiar can then deliver the touch spell just as the master would. As usual, if the master casts another spell before the touch is delivered, the touch spell dissipates. Spells delivered by a mascot\u2019s deliver touch spells ability function at its master\u2019s caster level \u2013 2. The mascot can deliver the touch spells of any of its team members.",type:"Su"},{name:"Speak with Team",description:"A mascot gains the ability to speak with all members of its team verbally as if using speak with master.",type:"Ex"}]}),e},e.cedrick=function(){var e=[];return e.push({name:"Hoo",alignment:"N",size:"Medium",type:"outsider (air, cold, elemental, extraplanar, water)",init:"+0",senses:["darkvision 60 ft.","snow vision","Perception +7"],ac:{base:16,touch:10,ff:16,details:"+6 natural"},hp:30,fort:"+6",ref:"+4",will:"+1",def:[],dr:[],immune:["cold","bleed","paralysis","poison","sleep","stun","critical hits","flanking","precision damage"],weaknesses:["vulnerable to fire"],resist:[],speed:["20 ft","burrow (snow and ice only) 20 ft.","swim 60 ft."],melee:["slam +7 (1d6+4 plus 1d4 cold)"],range:[],space:null,reach:null,spAtt:["numbing cold (DC 14)"],stats:{str:16,dex:10,con:15,int:4,wis:11,cha:11},bab:"+4",cmb:"+7",cmd:"17 (can't be tripped)",feats:["Power Attack","Cleave"],skills:["Religion +4","Perception +7","Stealth +7","Swim +11"],languages:["Aquan"],special:[{name:"Snow Vision",description:"Hoo can see perfectly well in snowy conditions and does not take any penalties on Perception checks while in snow.",type:"Ex"},{name:"Numbing Cold",description:"When Hoo deals cold damage to a creature, that creature must succeed on a Fortitude save or be staggered for 1 round. The save DC is listed in the elemental\u2019s stat block and is Constitution-based.",type:"Su"},{name:"Ice Gliding",description:"A burrowing Hoo can pass through nonmagical ice and snow as easily as a fish swims through water. Its burrowing leaves behind no tunnel or hole, nor does it create any ripple or other sign of its presence. A control water spell cast on an area containing a burrowing Hoo flings the elemental back 30 feet, stunning Hoo for 1 round unless it succeeds on a DC 15 Fortitude save.",type:"Su"},{name:"Ice Walking",description:"This ability works like the spider climb spell, but the surfaces the elemental climbs must be icy. The elemental can move across icy surfaces without penalty and does not need to make Acrobatics checks to run or charge on ice.",type:"Ex"}]}),e},e.maddox=function(){var t=[],a={name:"B8-triX",alignment:"N",size:"Tiny",type:"construct",init:"+2",senses:["blindsight 30 ft.","Perception +2"],ac:{base:19,touch:15,ff:16,details:"+2 Dex, +1 dodge, +2 size, +4 natural"},hp:"HALF OF MADDOX HP",fort:"MADDOX FORTITUDE",ref:"MADDOX REFLEX",will:"MADDOX WILL",def:[],dr:[],immune:["mind-affecting effects","disease","death effects","necromancy effects","paralysis","poison","sleep","stunning","ability damage","ability drain","fatigue","exhaustion","energy drain","nonlethal damage","any effect that requires a Fortitude save (unless the effect also works on objects, or is harmless)"],weaknesses:[],resist:[],speed:["0 ft","fly 30 ft."],melee:["slam +0 (1d4-3)"],range:[],space:"2 1/2 ft",reach:"0 ft",spAtt:[],stats:{str:4,dex:15,con:"-",int:9,wis:14,cha:5},bab:"MADDOX BAB",cmb:"+1",cmd:"9",feats:["Dodge"],skills:["Fly +10","Acrobatics +8","Heal +7","Investigation +5","Linguistics +5","Nature +5","Perception +10","Religion +5","Spellcraft +5","Survival +5"],languages:["Common (can't speak)"],special:[{name:"Ioun Affinity",description:"An ioun wyrd can integrate a number of ioun stones into its body equal to 1 + half its Hit Dice. Because an ioun wyrd sees all ioun stones as equal and gains no bene ts from them, the wyrd\u2019s ioun stones can be swapped out by any creature the wyrd trusts.",type:"Su"},{name:"Share Iouns",description:"A character with an ioun wyrd familiar gains the bene t of the wyrd\u2019s ioun stones as long as the character is within 30 feet of the ioun wyrd.",type:"Su"},{name:"Echo",description:r.a.createElement("span",null,"Once per day when delivering a touch spell, an arcane amplifier can apply the ",r.a.createElement("span",{className:"underline-hover",onClick:function(){return e.props.editModal("metamagic")}},"Extend Spell metamagic feat")," to the spell."),type:"Su"},{name:"Share Spells",description:"You may cast a spell with a target of \u201cYou\u201d on his familiar (as a touch spell) instead of on yourself. You may cast spells on your familiar even if the spells do not normally affect creatures of the familiar\u2019s type.",type:"Su"},{name:"Empathic Link",description:"You have an empathic link with your familiar to a 1 mile distance. You can communicate empathically with the familiar, but cannot see through its eyes. Because of the link\u2019s limited nature, only general emotions can be shared. You have the same connection to an item or place that his familiar does.",type:"Su"},{name:"Deliver Touch Spells",description:"Your familiar can deliver touch spells for you. If you and the familiar are in contact at the time you cast a touch spell, you can designate your familiar as the \u201ctoucher.\u201d The familiar can then deliver the touch spell just as you would. As usual, if you cast another spell before the touch is delivered, the touch spell dissipates.",type:"Su"},{name:"Speak with Master",description:"You and your familiar can communicate verbally as if you were using a common language. Other creatures do not understand the communication without magical help.",type:"Ex"},{name:"Reverberate",description:r.a.createElement("span",null,"Once per day when delivering a touch spell, an arcane amplifier can apply either the ",r.a.createElement("span",{className:"underline-hover",onClick:function(){return e.props.editModal("metamagic")}},"Empower Spell metamagic feat")," to the spell or use the ",r.a.createElement("span",{className:"underline-hover",onClick:function(){return e.props.editModal("metamagic")}},"Heighten Spell metamagic feat")," to increase its spell level by 2."),type:"Su"}]};return t.push(a),t},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return console.log(this.state.activeAlly),r.a.createElement("div",null,r.a.createElement(lo,{renderTabClick:this.renderTabClick,allies:this.props.character_info.hardcode.monsters,activeAlly:this.state.activeAlly,character:this.props.character.name,removeAlly:this.removeAlly}),this.renderAlly())}}]),a}(r.a.Component),oo=Object(h.b)((function(e){return{character:e.character,character_info:e.character_info}}))(io),co=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("span",{className:"tab-list"},r.a.createElement(il,{label:"Campaign",renderTabClick:this.props.renderTabClick,activeTab:this.props.activeTab}),r.a.createElement(il,{label:"Allies",renderTabClick:this.props.renderTabClick,activeTab:this.props.activeTab}))}}]),a}(r.a.Component),so=co,uo=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={activeTab:"Campaign"},e.renderTabClick=function(t){e.setState({activeTab:t})},e}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{id:"campaign",className:"shadow character-show"},r.a.createElement(so,{renderTabClick:this.renderTabClick,activeTab:this.state.activeTab}),r.a.createElement("div",{style:{height:"100%"}},"Campaign"===this.state.activeTab&&r.a.createElement(ro,{editModal:this.props.editModal}),"Allies"===this.state.activeTab&&r.a.createElement(oo,{character:this.props.character})))}}]),a}(r.a.Component),mo=uo,ho=function(){var e=[],t=F.getState().character,a=Object(j.a)({},t),n=a.applicable_klass_features,r=a.character_choices;return n.forEach((function(a){var n=t.uniq_klasses.find((function(e){if(a.klass_id)return e.id===a.klass_id;if(a.klass_archetype_id){var n=t.archetypes.find((function(e){return e.id===a.klass_archetype_id}));return e.id===n.klass_id}})).name;a.features.forEach((function(t){if(t.character_choices.length){var l=!0;r.find((function(e){return e.feature_id===t.id}))&&(l=!1),e.push({feature:t,klassName:n,featureName:a.name,sourceId:a.id,specifics:t.character_choices[0].column,sub_feature:t.character_choices[0].sub_feature,isNew:l})}}))})),e},po=function(){var e=[],t=F.getState().character,a=Object(j.a)({},t),n=a.applicable_klass_features,r=a.klass_specializations;return n.forEach((function(a){if(a.specialization){var n=t.uniq_klasses.find((function(e){return e.id===a.klass_id})).name,l=a.choice_amount;r.forEach((function(e){e.klass_feature.id===a.id&&l--})),l=!l>0,e.push({klassFeature:a,klassName:n,hasSpecialization:l})}})),e},fo=function(e){return r.a.createElement("span",{style:{marginLeft:"1vw"}},r.a.createElement("div",{className:"notification"},function(){var t,a=!1;return((null===(t=e.character)||void 0===t?void 0:t.character_magic_items)||[]).forEach((function(e){e.discovered||(a=!0)})),a}()&&r.a.createElement("span",{className:"badge green-badge"}),function(){var e=!1;return ho().forEach((function(t){t.isNew&&(e=!0)})),e}()&&r.a.createElement("span",{className:"badge yellow-badge"}),function(){var e=!1;return po().forEach((function(t){t.hasSpecialization||(e=!0)})),e}()&&r.a.createElement("span",{className:"badge red-badge"}),r.a.createElement(w.a,{icon:_.h,size:"3x",onClick:function(){return e.editModal("notifications")}})))},go=Object(h.b)((function(e){return{currentUser:e.currentUser,admin:e.admin,character:e.character,character_info:e.character_info}}))((function(e){var t=r.a.useState(!0),a=Object(U.a)(t,2),n=a[0],l=a[1],i=r.a.useState(!1),o=Object(U.a)(i,2),c=o[0],s=o[1],u=r.a.useRef(null);r.a.useEffect((function(){n?l(!1):(s(!0),setTimeout((function(){s(!1)}),1100))}),[e.character.character_klass_feature_usages]);var d=function(){if(c){var e={position:"absolute"};if(u.current){var t=u.current,a=t.offsetLeft,n=t.offsetTop,l=t.offsetWidth,i=t.offsetHeight;e=Object(j.a)(Object(j.a)({},e),{},{left:a+l/3,top:n+i/2})}return r.a.createElement("span",{className:"minus-one",style:e},"-1")}};return r.a.createElement("div",{id:"points",className:"shadow shrink"},function(t){switch(t){case"Nettie":return r.a.createElement("span",{className:"centered",onClick:function(){return e.editModal("points")}},r.a.createElement("div",{className:"enhanced"},e.character_info.hardcode.points," / 19"),r.a.createElement("div",{className:"muted"},"Bardic Performance"));case"Merg":return r.a.createElement("span",{className:"centered",onClick:function(){return e.editModal("points")}},r.a.createElement("div",{className:"enhanced"},e.character_info.hardcode.points," / 18"),r.a.createElement("div",{className:"muted"},"Rage Rounds"));case"Cedrick":return r.a.createElement("span",{className:"centered",onClick:function(){return e.editModal("points")}},r.a.createElement("div",{className:"enhanced"},e.character_info.hardcode.points," / 7"),r.a.createElement("div",{className:"muted"},"Chimera Points"));case"Robby":return r.a.createElement("span",{className:"centered",onClick:function(){return e.editModal("points")}},r.a.createElement("div",{className:"enhanced"},e.character_info.hardcode.points,"/4"),r.a.createElement("div",{className:"muted"},"Panache Points"));case"Maddox":return r.a.createElement("span",{className:"centered",onClick:function(){return e.editModal("points")}},r.a.createElement("div",{className:"enhanced"},e.character_info.hardcode.points," / 10"),r.a.createElement("div",{className:"muted"},"Arcane Reservoir"));case"Grackle":return r.a.createElement("span",{className:"centered",onClick:function(){return e.editModal("points")}},r.a.createElement("div",{className:"enhanced"},e.character_info.hardcode.points," / 10"),r.a.createElement("div",{className:"muted"},"Bombs Used"));default:var a=[];return e.character.applicable_klass_features.forEach((function(t){t.features.forEach((function(n){var r,l,i;if((null===(r=n.usage)||void 0===r?void 0:r.limit)||(null===(l=n.usage)||void 0===l?void 0:l.limit_frequency)&&!(null===(i=n.usage)||void 0===i?void 0:i.destroy_after_use)){var o=e.character.character_klass_feature_usages.filter((function(e){return e.klass_feature_id===t.id}));a.push(Object(j.a)(Object(j.a)({},n),{},{sourceId:t.id,klassFeatureName:t.name,klassId:t.klass_id,usageSources:o,source:"applicable_klass_features"}))}}))})),a.map((function(t){return r.a.createElement("span",{className:"centered",onClick:function(){return a=t,void e.dispatch({type:"MODAL",detail:"adjust points",obj:a});var a}},r.a.createElement("div",{className:"enhanced",ref:u},Kt(t),d()),r.a.createElement("div",{className:"muted"},Z.a.capitalize(t.klassFeatureName)," ",Z.a.capitalize(t.usage.unit)))}))}}(e.character.name))})),bo=Object(h.b)((function(e){return{currentUser:e.currentUser,admin:e.admin,character:e.character,character_info:e.character_info}}))((function(e){return r.a.createElement(K,null,r.a.createElement("div",{className:"page-dimmer",onClick:e.clickOut},r.a.createElement("div",{className:"edit-form",name:"background"},r.a.createElement("h3",null,"Remaining: ",e.character_info.hardcode.points),function(){if("Robby"===e.character.name)return r.a.createElement(r.a.Fragment,null,r.a.createElement("h4",null,"Regain Panache"),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("em",null,r.a.createElement("u",null,"Critical Hit with a Light or One-Handed Piercing Melee Weapon:"))," Each time you confirm a critical hit with a light or one-handed piercing melee weapon, you regain 1 panache point. Confirming a critical hit on a helpless or unaware creature or a creature that has fewer Hit Dice than half your character level doesn\u2019t restore panache."),r.a.createElement("li",null,r.a.createElement("em",null,r.a.createElement("u",null,"Killing Blow with a Light or One-Handed Piercing Melee Weapon:"))," When you reduces a creature to 0 or fewer hit points with a light or one-handed piercing melee weapon attack while in combat, you regain 1 panache point. Destroying an unattended object, reducing a helpless or unaware creature to 0 or fewer hit points, or reducing a creature that has fewer Hit Dice than half your character level to 0 or fewer hit points doesn\u2019t restore panache.")))}(),r.a.createElement("button",{onClick:function(){return e.dispatch({type:"POINTS CHANGE",amount:"increase"})}},"+"),r.a.createElement("button",{onClick:function(){return e.dispatch({type:"POINTS CHANGE",amount:"decrease"})}},"-"))))})),vo=Object(h.b)((function(e){return{currentUser:e.currentUser,admin:e.admin,character:e.character,character_info:e.character_info}}))((function(e){var t=function(t){e.dispatch({type:"CHANGE PERFORMANCE",name:t}),e.exitModal()};return r.a.createElement(K,null,r.a.createElement("div",{className:"page-dimmer",onClick:e.clickOut},r.a.createElement("div",{className:"edit-form",name:"background"},r.a.createElement("div",null,"Active Performance: ",e.character_info.hardcode.performance?e.character_info.hardcode.performance:"none"),r.a.createElement("button",{style:{display:"block",margin:"auto"},onClick:function(){return t("Inspire Courage")}},"Inspire Courage"),r.a.createElement("button",{style:{display:"block",margin:"auto"},onClick:function(){return t("Inspire Competence")}},"Inspire Competence"),r.a.createElement("button",{style:{display:"block",margin:"auto"},onClick:function(){return t("Countersong")}},"Countersong"),r.a.createElement("button",{style:{display:"block",margin:"auto"},onClick:function(){return t("Distraction")}},"Distraction"),r.a.createElement("button",{style:{display:"block",margin:"auto"},onClick:function(){return t("Fascinate")}},"Fascinate"),r.a.createElement("button",{style:{display:"block",margin:"auto"},onClick:function(){return t("Suggestion")}},"Suggestion"),r.a.createElement("br",null),r.a.createElement("button",{style:{display:"block",margin:"auto"},onClick:function(){return t("none")}},"Cancel Performance"))))})),yo=Object(h.b)((function(e){return{currentUser:e.currentUser,admin:e.admin,character:e.character,character_info:e.character_info}}))((function(e){return r.a.createElement(K,null,r.a.createElement("div",{className:"page-dimmer",onClick:e.clickOut},r.a.createElement("div",{className:"edit-form",name:"background"},r.a.createElement("button",{style:{display:"block",margin:"auto"},onClick:function(){e.character_info.hardcode.rage||e.dispatch({type:"RAGE",change:"START"}),e.dispatch({type:"POINTS CHANGE",change:"decrease"}),e.exitModal()}},e.character_info.hardcode.rage?"Continue Rage":"Start Rage"),r.a.createElement("br",null),r.a.createElement("button",{style:{display:"block",margin:"auto"},onClick:function(){e.dispatch({type:"RAGE",change:"END"}),e.exitModal()}},"End Rage"))))})),Eo=Object(h.b)((function(e){return{currentUser:e.currentUser,admin:e.admin,character:e.character,character_info:e.character_info}}))((function(e){var t=e.character_info.hardcode,a=t.performance,n=e.activeEffects.map((function(e){return r.a.createElement("li",null,e)})),l=t.rage,i=t.power,o=t.eBloodActive,c=t.fd,s=t.charge,u=t.combat,d=t.minor,m=t.major;"Frog - Combat"===u&&(u+=" (".concat(t.frogCombat,")"));var h=t.age,p=t.augment?e.character.known_spells.find((function(e){return e.spell.id===t.augment.spellId})).spell.name:null,f=t.enlarge,g=t.reduce,b=t.expeditious,v=t.swim,y=t.swim20,E=t.land10,k=t.land20,w=t.quick,_=t.helmsman,C=t.crew,S=t.stealTime,O=!!t.activeMutagen&&t.mutagen,A=function(e){Mt(e)};return r.a.createElement("div",{id:"active",className:"shadow shrink"},r.a.createElement("ul",null,e.character_info.conditions.map((function(e){return r.a.createElement("li",null,e)})),_&&r.a.createElement("li",null,"Sasea Bitch Helmsman"),C&&r.a.createElement("li",null,"Sasea Bitch Crew"),a&&r.a.createElement("li",null,"Bardic Performance: ",a),n,l&&r.a.createElement("li",null,"Raging"),i&&r.a.createElement("li",null,"Power Attack"),o&&r.a.createElement("li",null,"Lesser Elemental Blood (electricity)"),c&&r.a.createElement("li",null,"Fighting Defensively"),s&&r.a.createElement("li",null,"Charging"),u&&r.a.createElement("li",null,u),d&&r.a.createElement("li",null,d),m&&r.a.createElement("li",null,m),h&&r.a.createElement("li",null,"Age Catergory: ",h),p&&r.a.createElement("li",null,"Augmented ",p,": ","dc"===t.augment.augment?"+1 DC":"+1 Caster Level"),f&&r.a.createElement("li",null,"Affected by ",r.a.createElement("em",{className:"underline-hover",onClick:function(){return e.editModal("spell",null,64)}},"enlarge person")),g&&r.a.createElement("li",null,"Affected by ",r.a.createElement("em",{className:"underline-hover",onClick:function(){return e.editModal("spell",null,65)}},"reduce person")),b&&r.a.createElement("li",null,"Expeditious Retreat"),v&&r.a.createElement("li",null,"Swim Speed 30 ft."),y&&r.a.createElement("li",null,"Swim Speed 20 ft."),E&&r.a.createElement("li",null,"Base Speed +10 ft."),k&&r.a.createElement("li",null,"Base Speed +20 ft."),w&&r.a.createElement("li",null,"Base Speed +10 ft., +2 AC, adv. on next attack, Reflex save, Dex or Charisma check"),S&&r.a.createElement("li",null,"+1 to AC, Reflex, +5 base speed"),O&&function(){var e,t;switch(O){case"strength":e="Strength",t="Intelligence";break;case"dexterity":e="Dexterity",t="Wisdom";break;case"constitution":e="Constitution",t="Charisma"}return r.a.createElement("li",null,"Mutagen: +4 to ",e,", -2 to ",t,", +2 to AC, 70 minutes")}(),e.character_info.features.filter((function(e){return"temporary"===e.duration})).map((function(e){var t="";return t="movement"===e.type?"".concat(e.movement," Speed: ").concat(e.feet," ft"):t,r.a.createElement("li",null,e.source,": ",t)})),e.character_info.activeFeatures.map((function(t){if(t.senderName)return r.a.createElement("li",null,t.sourceName," (",t.senderName,")");var a=e.character[t.source].find((function(e){return e.id===t.sourceId}));if(a){var n=a.features.find((function(e){return e.id===t.featureId})),l=n.name?n.name:a.name;return r.a.createElement("li",null,l," ",r.a.createElement("button",{onClick:function(){return A(Object(j.a)(Object(j.a)({},n),t))}},"X"))}return null}))))})),ko=Object(h.b)((function(e){return{character:e.character,character_info:e.character_info}}))((function(e){var t=function(t){e.dispatch({type:"FROG COMBAT",name:t}),e.exitModal()};return r.a.createElement(K,null,r.a.createElement("div",{className:"page-dimmer",onClick:e.clickOut},r.a.createElement("div",{className:"edit-form",name:"background"},r.a.createElement("div",null,"Active Combat Form Effect: ",e.character_info.hardcode.frogCombat?e.character_info.hardcode.frogCombat:"none"),r.a.createElement("button",{style:{display:"block",margin:"auto"},onClick:function(){return t("Sickened")}},"Sickened for 1 round"),r.a.createElement("button",{style:{display:"block",margin:"auto"},onClick:function(){return t("Acid Damage")}}," 1d3 Acid Damage"),r.a.createElement("button",{style:{display:"block",margin:"auto"},onClick:function(){return t("Silent Image")}},"Affected by ",r.a.createElement("em",null,"silent image")," for 1 round"),r.a.createElement("br",null),r.a.createElement("button",{style:{display:"block",margin:"auto"},onClick:function(){return t("none")}},"Cancel Combat Form"))))})),wo=Object(h.b)((function(e){return{character:e.character,character_info:e.character_info}}))((function(e){return r.a.createElement(K,null,r.a.createElement("div",{className:"page-dimmer",onClick:e.clickOut},r.a.createElement("div",{className:"edit-form",name:"background"},r.a.createElement("div",null,"Remaining: ",e.character_info.hardcode.ringPoints),r.a.createElement("button",{onClick:function(){return e.dispatch({type:"COMMAND POINTS CHANGE",amount:"increase"})}},"+"),r.a.createElement("button",{onClick:function(){return e.dispatch({type:"COMMAND POINTS CHANGE",amount:"decrease"})}},"-"))))})),_o=Object(h.b)((function(e){return{character:e.character,character_info:e.character_info}}))((function(e){var t=function(t){var a=e.character_info.hardcode.age;"Young"===t&&e.dispatch({type:"CHANGE SIZE",size:"Small"}),"Young"===a&&"Young"!==t&&e.dispatch({type:"CHANGE SIZE",size:"Medium"}),e.dispatch({type:"TIME TRAVEL",age:t}),e.exitModal()};return r.a.createElement(K,null,r.a.createElement("div",{className:"page-dimmer",onClick:e.clickOut},r.a.createElement("div",{className:"edit-form",name:"background"},r.a.createElement("div",null,"Current Age Catergory: ",e.character_info.hardcode.age),r.a.createElement("button",{onClick:function(){return t("Young")}},"Young (3-7)"),r.a.createElement("button",{onClick:function(){return t("Adult")}},"Adult (8-12)"),r.a.createElement("button",{onClick:function(){return t("Middle")}},"Middle Age (13-15)"),r.a.createElement("button",{onClick:function(){return t("Old")}},"Old (16-17)"),r.a.createElement("button",{onClick:function(){return t("Venerable")}},"Venerable (18)"))))})),Co=Object(h.b)((function(e){return{character:e.character,character_info:e.character_info}}))((function(e){var t=[];switch(e.character.name){case"Cedrick":t.push({name:"Ta'al'mon Ancestral Handwraps",description:"This thick woven bandages are off white, but unblemished. They are 4 inches by 10 ft, and are meant to be wrapped around a creature\u2019s limbs to provide a barrier and brace when fighting. There are faint relief carvings in the bandages themselves, large pictographs of martial arts poses and forms.",hp:"Hardness 12, Hit Points 30",effects:["This curio gives the wielder a +2 enhancement bonus to Dexterity.","This curio counts a +1 magic weapon, giving a +1 enhancement bonus to unarmed or natural weapons that it is wrapped around, affecting the attack rolls and damage rolls.",r.a.createElement("span",null,"This curio counts as having the ominous weapon enchantment ",r.a.createElement("small",null,"(An ominous weapon trails a shadowy haze behind every stroke, and moans a menacing dirge in battle. An ominous weapon adds its enhancement bonus on Intimidate checks made by the wielder. In addition, when an ominous weapon confirms a critical hit, the target is shaken for 1 minute (DC 13 Will negates); if the weapon\u2019s critical multiplier is greater than x2, this condition lasts 1 additional minute per multiple over x2. A creature that gains the shaken condition from an ominous weapon cannot gain that condition again from the same weapon for 24 hours.)")),"Once per day, as a swift action, the wielder can reroll their initiative check with an enhancement bonus equal to their dexterity modifier. This does not allow the weidler to act twice within a given round, their initiative takes effect during the following round.","Once a day, the wielder can make their next attack action, if it hits, deal twice the number of damage dice used instead of the normal amount. This feature does not affect precision damage, but it does count in additional to a critical hit\u2019s dice damage increase. This feature does not stack with the vital strike feat or similar abilities.","If the wielder makes a successful unarmed attack against a creature, if that creature\u2019s size is the same as theirs or smaller, the wielder can, as a swift action, teleport to the square opposite where they were relative to the damaged creature. This square is where an ally would be if the wielder was flanking the enemy. If that square is occupied, the wielder may teleport to an adjacent square, but still in a threat range of the enemy. If these squares are occupied, they cannot use this feature.",r.a.createElement("span",null,"Twice per day, the wielder can cast ",r.a.createElement("em",null,"force punch"),", using their class level as their caster level."),r.a.createElement("span",null,"When it breaks, the wielder can cast ",r.a.createElement("em",null,"greater magic fang")," - standard action (Caster Level is equal to the wielder\u2019s class level)")]});break;case"Robby":t.push({name:"Tempest Trishula",description:"Three-pointed trident, with the outer two tines curving out from the base, and back in towards the center tine, and curve the points back out. The shaft has multiple ridged bands spaced 6 inches apart. It has embossed runes all along it that give it grip and texture. Just at the top, under the points, are small three glowing gemstones, that glow on opposite sides of haft.",hp:"Hardness 12, Hit Points 30",effects:["Counts as a +1 magic weapon, so +1 enhancement bonus to Attack Rolls and Damage Rolls","Counts as having the shock weapon enchantment (+1d6 electricity damage)",r.a.createElement("span",null,"Counts as having the returning weapon enchantment ",r.a.createElement("small",null,"(A returning weapon flies through the air back to the creature that threw it. It returns to the thrower just before the creature\u2019s next turn (and is therefore ready to use again in that turn). Catching a returning weapon when it comes back is a free action. If the character can\u2019t catch it, or if the character has moved since throwing it, the weapon drops to the ground in the square from which it was thrown.)")),"While wielding, the user has a swim speed of 30 ft.",r.a.createElement("span",null,"The Trishula has three glowing teal gemstones along the shaft. This trident holds 3 spell level slots, which can be spent by casting spells. For each spell level the spell has, when cast, that many gems go dormant. You cannot cast a spell that has a higher spell level the number of glowing gems on the Trishula. The Tempest Trishula has a caster level equal to your class level, and Charisma has the spellcasting score. The number of glowing gems restore to 3 at the beginning of a new day. The spells available to cast are: ",r.a.createElement("em",null,"obscuring mist"),"(1), ",r.a.createElement("em",null,"hydraulic push"),"(1), ",r.a.createElement("em",null,"gust of wind"),"(2), ",r.a.createElement("em",null,"slipstream"),"(2)"),r.a.createElement("span",null,"When it breaks, the wielder can cast ",r.a.createElement("em",null,"lightning bolt")," - standard action (Caster Level is equal to the wielder\u2019s class level)")]});break;case"Maddox":t.push({name:"Zamantash Delta Chronometer",description:"This brass contraption fits into a palm comfortably, and is heavy for its size. Shaped like a flat disk, on one side is an engraving of concentric circles of different weights and locations within the larger circle. The front has a time face, with a 24 hour clock, and this is mirrored with a hologram of the face that is 2 inches above the clock face, glowing a transparent blue.",hp:"Hardness 12, Hit Points 8",effects:["Thrice a day, the wielder can add a +2 insight bonus to any roll involving a d20. You can add this bonus after rolling, but before knowing the result of the check.",r.a.createElement("span",null,"At will, the wielder can cast ",r.a.createElement("em",null,"augury"),", but the casting time increases to 10 minutes, using their class level as their caster level."),"Once every three days, as a move action, the wielder, and any companion, familiar, or mount within 5 ft of them, feels as though they received an 8-hour rest. This benefit applies towards healing HP and ability damage, removing conditions, and resetting spells and abilities.","Once a month, the wielder and all others can participate in a ritual that takes 20 minutes. The moment the ritual ends becomes a fixed point in time. Within 24 hours of completing this ritual, the wielder can trigger the Curio as a 3-round action that requires concentration, and provokes an attack of opportunity. Time is rewound back to the fixed point in time, which becomes no longer fixed, and all of the participants of the ritual are aware of the events that they experienced. Their spent spells, abilities, and hit points are what they were when the ritual was completed.","As a standard action, the wielder can select one creature within 30 ft of them. That target gains +10 to their speed, a +2 insight bonus to their AC, and on their next attack roll, Reflex saving throw, or Dexterity-based or Charisma-based skill check, they may roll twice and take the higher of the two results. This effect lasts until the beginning of the current wielder\u2019s next turn.",r.a.createElement("span",null,"When it breaks, the wielder can cast ",r.a.createElement("em",null,"hold person")," - standard action (Caster Level is equal to the wielder\u2019s class level)")]});break;case"Merg":t.push({name:"Fabric of Reality",description:"A glossy and sturdy cloth. It is only 2.5 ft by 3 ft wide, but it has a smooth silky side, and a rougher, course side. The course side is jet black, while the smooth side appears black, but is a shiny metallic silver, that up close, has rainbow reflections.",hp:"Hardness 12, Hit Points 20",effects:["Once every 1d10 rounds, as a swift action, the wielder swipe their curio can teleport to point within line of sight up to 30 ft away.","This curio provides the wielder with a +2 deflection bonus to AC and CMD.","Once a day, as a move action, the wielder select a willing ally within line of sight up to 30 ft away. The wielder and the target switch places. This effect counts as the teleport feature above, so the player must reroll the 1d10 to determine when they can next use that feature.","Once a day, as a standard action, the wielder can wrap the cloak around their whole body, changing their visage to a cloth whipping around in the air. 3 additional glamers appear in a line, in adjacent square, beside the wielder. If there is no space, the amount of glamer\u2019s created reduce to fill the number of adjacent empty squares. Theses glamers have an AC of the wielder\u2019s touch AC. A glamer can be disbelieved if a creature makes contact with it, then succeeds on a DC 20 Will saving throw. The DM rolls 1d4, which determines which of the cloths actually houses the wielder. If a creature successfully attacks a glamer, the glamer dissipates, and deals psychic damage equal to 1d6 per number of remaining existing whipping cloth + the wielder\u2019s Charisma bonus to the attacker (DC 15 Will save for half damage). While as a glamer, the wielder can only move (all glamers will follow the wielder at the same speed) and cast spell-like abilities (activating a spell-like ability will cause the wielder\u2019s glamer to flash and glow gold while casting). The wielder can dispel this effect and all active glamers as a free action.",r.a.createElement("span",null,"Twice a day, a wielder that has their arm covered by the curio gains a faint reading of a creature\u2019s connection to its plane. As a swift action, the wielder can make a Combat Maneuver check (bonus equal to highest mental ability score bonus + class level) against a creature to do one of the following:",r.a.createElement("ul",null,r.a.createElement("li",null,"One of the following combat maneuvers: trip, bull rush, disarm, dirty trick."),r.a.createElement("li",null,"Stand a creature up from being prone"),r.a.createElement("li",null,"Increase/decrease the elevation of the terrain the creature is standing on (5 ft square) by 5 ft, + 5ft for every 5 beyond their CMD."),r.a.createElement("li",null,"Reduce their speed by 10 ft"),r.a.createElement("li",null,"Impose a -4 penalty to the next attack roll/Dexterity check they make on their next round")))]})}e.character_info.hardcode.helmsman&&t.push({name:"Besmara's Honourable Emissary",description:"This ship is shallow bottom, with a chest high wall wrapped around the stern and bow only. It sits low in the water, allowing someone to sit off the edge and dip their legs in the water. The stern has a canopy with an ornately carved seat underneath, with a large helmet of sorts resting on the top of the seat. The wooden hull is smooth to touch, and the figurehead is made of mahogany, carved into the shape of a sturgeon with 6 wing-like fins.",hp:"Hardness 12, Hit Points 600",effects:["The helmsman that sits in the chair and dons the helmet controls the ship telepathically. They are considered to be concentrating, so they cannot do any other actions besides talk and move their limbs. The helmsman can move the ship up to a speed of 100 ft, accelerating by 30 ft every round.","This curio normally floats about 6 inches off the ground. A helmsman can forced the boat to not be affected by this, and ground it. However, the curio resumes floating if the helmsman changes the order, or is removed from their seat.","A siege weapon can be mounted in the 20 ft square space at the bow of the ship. If one is mounted, the siege weapon can be hidden in pocket dimension and withdrawn as a full-round action from within the ship. The reload and aim actions can be done in half the time (rounded up, unless it was already 1 full-round, then is it is reduced to a standard action), this can be done by one crew. Manning the siege action is a physical act, and cannot be done by an active helmsman.","The ship has 10 additional extradimensional spaces that exist within the hull. In order to enter, a creature must be aware of the space and open the trapdoor on the deck to enter that space. The space is a 10 ft by 10 ft by 10 ft wooden room, with 3 portholes that look out on the water, or into the water (up to the occupant). A creature can enter any known space, but if a creature is occupied in an existing space, any additional creatures much be permitted by that other creature. A creature can force themselves into a space occupied by another creature by winning an opposed Wisdom check (ties go to occupied creatures). A creature can only attempt to breach an occupied space once a day.",r.a.createElement("span",null,"Anyone on board the ship can cast any of these spells on themselves while they are on the ship: ",r.a.createElement("em",null,"air bubble"),", ",r.a.createElement("em",null,"enhance water"),", ",r.a.createElement("em",null,"fabricate disguise"),". The total number of spells that can be cast this way during a single day is equal to the helmsman\u2019s Wisdom score (this value cannot change once a helmsman is declared for 24 hours). The caster level of this spell is equal to the class level of the helmsman (or last helmsman, within 1 hour)."),r.a.createElement("span",null,"When it breaks, the wielder can cast ",r.a.createElement("em",null,"fly")," - standard action (Caster Level is equal to the wielder\u2019s class level)")]});return r.a.createElement(K,null,r.a.createElement("div",{className:"page-dimmer",onClick:e.clickOut},r.a.createElement("div",{className:"edit-form",name:"background"},t.map((function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",null,e.name),r.a.createElement("p",null,e.description),r.a.createElement("p",null,"All curios can be broken voluntarily by its wielder, after possessing it for at least 1 day. Once broken, they can cast the spell attributed to it. The curio becomes inert, and must be repaired. Once repaired, it can only be reactivated at another altar."),r.a.createElement("div",null,e.hp),r.a.createElement("ul",null,e.effects.map((function(e){return r.a.createElement("li",null,e)}))))})))))})),So=Object(h.b)((function(e){return{character:e.character,character_info:e.character_info}}))((function(e){return r.a.createElement(K,null,r.a.createElement("div",{className:"page-dimmer",onClick:e.clickOut},r.a.createElement("div",{className:"edit-form",name:"background"},r.a.createElement("h5",null,"Poison Rules"),r.a.createElement("div",null,r.a.createElement("p",null,"Once a poison is used on a target, they must make a saving throw. If the target fails, after the onset time expires, the target is affected by the poison. They must make a check each iteration of the frequency, up to the maximum duration. For each iteration, the target must make another saving throw. If they fail, they are effected by the poison. If they succeed the cure condition, they are no longer effected by the poison, even if there is more time to the duration.")),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement("p",null,"Poisons have four categories, based on how they reach the target: contact, ingested, inhaled, or injury."),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("u",null,"Contact"),": These poisons are delivered the moment a creature touches the poison with its bare skin. Such poisons can be used as injury poisons. Contact poisons usually have an onset time of 1 minute and a frequency of 1 minute."),r.a.createElement("li",null,r.a.createElement("u",null,"Ingested"),": These poisons are delivered when a creature eats or drinks the poison. Ingested poisons usually have an onset time of 10 minutes and a frequency of 1 minute."),r.a.createElement("li",null,r.a.createElement("u",null,"Inhaled"),": These poisons are delivered the moment a creature enters an area containing such poisons and do not usually have an onset time. For most inhaled poisons, 1 dose fills a volume equal to a 10-foot cube. A creature can attempt to hold its breath while inside the area to avoid inhaling the toxin. A creature holding its breath receives a 50% chance of not having to make a Fortitude save each round. See the rules for holding your breath and suffocation. If a creature is holding its breath and fails the constitution check to continue doing so, rather than suffocating it begins to breathe normally again (and is subject to the effects of the inhaled poison if still in the area)."),r.a.createElement("li",null,r.a.createElement("u",null,"Injury"),": These poisons are primarily delivered through the attacks of certain creatures and through weapons coated in the toxin. Injury poisons do not usually have an onset time and have a frequency of 1 round."))),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement("p",null,"One dose of poison smeared on a weapon or some other object affects just a single target. A poisoned weapon or object retains its poison until the weapon scores a hit or the object is touched (unless the poison is wiped off before a target comes in contact with it)."),r.a.createElement("p",null,"Applying poison to a weapon or single piece of ammunition is a standard action. Whenever you apply or ready a poison for use, there is a 5% chance that you expose yourself to the poison and must save against the poison as normal. This does not consume the dose of poison. Whenever you attack with a poisoned weapon, if the attack roll results in a natural 1, you expose yourself to the poison. This poison is consumed when the weapon strikes a creature or is touched by the wielder. If you have the poison use class feature (such as from the assassin prestige class or the alchemist base class), you do not risk accidentally poisoning yourself when applying poison.")))))})),Oo=Object(h.b)((function(e){return{character:e.character,settings:e.settings}}))((function(e){if(!Object.keys(e.character).length)return null;var t=e.character.race.size,a=za(t),n=a[0],l=a[1];return r.a.createElement("div",{id:"size",className:"shadow shrink character-show",style:{boxShadow:"5px 4px 2px #".concat(e.settings.shadeColor),opacity:"0.95",backgroundColor:"#".concat(e.settings.bubbleColor),borderColor:"#".concat(e.settings.borderColor)}},r.a.createElement("span",{className:"centered"},r.a.createElement("div",{className:"dynamic-size-small"},r.a.createElement("strong",null,"Size: ",t)),r.a.createElement("div",{className:"container-2"},r.a.createElement("span",{className:"enhanced"},n),r.a.createElement("span",{className:"enhanced"},l),r.a.createElement("span",null,"Space"),r.a.createElement("span",null,"Reach"))))})),jo=Object(h.b)((function(e){return{character:e.character,character_info:e.character_info}}))((function(e){var t=function(t,a){e.character_info.hardcode.augment&&e.character_info.hardcode.augment.spellId===t||(e.dispatch({type:"AUGMENT SPELL",spellId:t,augment:a}),e.dispatch({type:"POINTS CHANGE",amount:"decrease"}),e.exitModal())};return r.a.createElement(K,null,r.a.createElement("div",{className:"page-dimmer",onClick:e.clickOut},r.a.createElement("div",{className:"edit-form",name:"background"},e.character.known_spells.map((function(e){return"Arcanist"===e.klass.name?r.a.createElement("div",{key:3*e.id-1},r.a.createElement("span",null,e.spell.name),r.a.createElement("button",{onClick:function(){return t(e.spell.id,"caster")}},"+1 Caster Level"),e.spell.saving_throw?r.a.createElement("button",{onClick:function(){return t(e.spell.id,"dc")}},"+1 DC"):null):null})))))})),Ao=function(e){return r.a.createElement(K,null,r.a.createElement("div",{className:"page-dimmer",onClick:e.clickOut},r.a.createElement("div",{className:"edit-form",name:"background"},r.a.createElement("p",null,r.a.createElement("h3",null,"Extend Spell"),r.a.createElement("p",null,"An extended spell lasts twice as long as normal. A spell with a duration of concentration, instantaneous, or permanent is not affected by this feat. An extended spell uses up a spell slot one level higher than the spell\u2019s actual level.")),r.a.createElement("p",null,r.a.createElement("h3",null,"Empower Spell"),r.a.createElement("p",null,"All variable, numeric effects of an empowered spell are increased by half, including bonuses to those dice rolls. Saving throws and opposed rolls are not affected, nor are spells without random variables. An empowered spell uses up a spell slot two levels higher than the spell\u2019s actual level.")),r.a.createElement("p",null,r.a.createElement("h3",null,"Heightened Spell"),r.a.createElement("p",null,"A heightened spell has a higher spell level than normal (up to a maximum of 9th level). Unlike other metamagic feats, Heighten Spell actually increases the effective level of the spell that it modifies. All effects dependent on spell level (such as saving throw DCs and ability to penetrate a lesser globe of invulnerability) are calculated according to the heightened level. The heightened spell is as difficult to prepare and cast as a spell of its effective level.")))))},To=function(e){return r.a.createElement(K,null,r.a.createElement("div",{className:"page-dimmer",onClick:e.clickOut},r.a.createElement("div",{className:"edit-form",name:"background"},r.a.createElement("h3",null,"Contents"),r.a.createElement("ul",null,r.a.createElement("li",null,"Something")))))},Io=function(e){return r.a.createElement(K,null,r.a.createElement("div",{className:"page-dimmer",onClick:e.clickOut},r.a.createElement("div",{className:"edit-form",name:"background"},r.a.createElement("h3",null,"Debilitating Injury"),r.a.createElement("p",null,"Whenever you deal sneak attack damage to a foe, you can also debilitate the target of your attack, causing it to take a penalty for 1 round (this is in addition to any penalty caused by a rogue talent or other special ability)."),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("u",null,"Bewildered"),": The target becomes bewildered, taking a \u20132 penalty to AC. The target takes an additional \u20132 penalty to AC against all attacks made by the rogue."),r.a.createElement("li",null,r.a.createElement("u",null,"Disoriented"),": The target takes a \u20132 penalty on attack rolls. In addition, the target takes an additional \u20132 penalty on all attack rolls it makes against the rogue."),r.a.createElement("li",null,r.a.createElement("u",null,"Hampered"),": All of the target\u2019s speeds are reduced by half (to a minimum of 5 feet). In addition, the target cannot take a 5-foot step.")),r.a.createElement("p",null,"These penalties do not stack with themselves, but additional attacks that deal sneak attack damage extend the duration by 1 round. A creature cannot suffer from more than one penalty from this ability at a time. If a new penalty is applied, the old penalty immediately ends. Any form of healing applied to a target suffering from one of these penalties also removes the penalty."))))},No=Object(h.b)((function(e){return{character:e.character,character_info:e.character_info}}))((function(e){var t=e.character_info.hardcode.activeWeapon,a=e.character_info.hardcode.weaponAmmo.find((function(e){return e.weapon===t})).ammo,n=function(t,a){var n=Object(S.a)(e.character_info.hardcode.ammo);n=n.map((function(e){if(e.name===t.name){var n=Object(j.a)({},e);return"increase"===a?n.amount=n.amount+1:"decrease"===a&&n.amount>0&&(n.amount=n.amount-1),n}return e})),e.dispatch({type:"AMMO CHANGE",ammo:n})};return r.a.createElement(K,null,r.a.createElement("div",{className:"page-dimmer",onClick:e.clickOut},r.a.createElement("div",{className:"edit-form",name:"background"},r.a.createElement("h3",null,t),r.a.createElement("p",null,"Current Ammo: ",a),r.a.createElement("h5",null,"Available Ammo:"),r.a.createElement("ul",null,e.character_info.hardcode.ammo.map((function(l){return r.a.createElement("li",null,r.a.createElement("span",null,l.amount," ",l.name,1===l.amount?null:"s"," remaining "),r.a.createElement("button",{onClick:function(){return n(l,"increase")}},"+"),r.a.createElement("button",{onClick:function(){return n(l,"decrease")}},"-"),a===l.name?r.a.createElement("span",null,r.a.createElement("strong",null," Active Ammo")):r.a.createElement("button",{onClick:function(){return function(a){var n=Object(S.a)(e.character_info.hardcode.weaponAmmo);n=n.map((function(e){if(e.weapon===t){var n=Object(j.a)({},e);return n.ammo=a,n}return e})),e.dispatch({type:"WEAPON AMMO",weaponAmmo:n})}(l.name)}},"Change Active Ammo"))}))),r.a.createElement("button",{onClick:e.exitModal},"Exit"))))})),Do=Object(h.b)((function(e){return{character:e.character,character_info:e.character_info}}))((function(e){return r.a.createElement(K,null,r.a.createElement("div",{className:"page-dimmer",onClick:e.clickOut},r.a.createElement("div",{className:"edit-form",name:"background"},r.a.createElement("section",null,r.a.createElement("h4",null,"Sasea Bitch"),r.a.createElement("div",{style:{marginBottom:"1%",paddingBottom:".8%",borderBottom:"double"}},r.a.createElement("div",null,"Colossal water vehicle"),r.a.createElement("div",null,r.a.createElement("u",null,"Squares"),": 40 (20 ft. by 50 ft.)")),r.a.createElement("div",{style:{marginBottom:"1%",paddingBottom:".8%",borderBottom:"double"}},r.a.createElement("div",null,r.a.createElement("strong",null,"AC")," 2; ",r.a.createElement("u",null,"Hardness")," 12"),r.a.createElement("div",null,r.a.createElement("strong",null,"hp")," 600"),r.a.createElement("div",null,r.a.createElement("strong",null,"Base Save")," +4")),r.a.createElement("div",{style:{marginBottom:"1%",paddingBottom:".8%",borderBottom:"double"}},r.a.createElement("div",null,r.a.createElement("strong",null,"Maximum Speed")," 100 ft. (flying), or 60 ft. (current), or 30 ft. (muscle)"),r.a.createElement("div",null,r.a.createElement("strong",null,"Acceleration")," 30 ft."),r.a.createElement("div",null,r.a.createElement("strong",null,"CMB")," +8; ",r.a.createElement("strong",null,"CMD")," 18"),r.a.createElement("div",null,r.a.createElement("strong",null,"Ramming Damage")," 8d8")),r.a.createElement("div",{style:{marginBottom:"1%",paddingBottom:".8%",borderBottom:"double"}},r.a.createElement("div",null,r.a.createElement("strong",null,"Description")," This long, flat-bottomed ship has a few oars to supplement its single mast with a square sail. It can make both sea and river voyages. The keelboat can carry 50 tons of cargo or 100 soldiers."),r.a.createElement("div",null,r.a.createElement("strong",null,"Propulsion")," flying (telepathy), current (air; 20 squares of sails, hp 100), current (water), or muscle (pushed; 8 Medium rowers)"),r.a.createElement("div",null,r.a.createElement("strong",null,"Driving Check")," Diplomacy or Intimidate while rowed, or Profession (sailor) or Nature; +10 to the DC when sail is used"),r.a.createElement("div",null,r.a.createElement("strong",null,"Forward Facing")," ship's forward"),r.a.createElement("div",null,r.a.createElement("strong",null,"Driving Device")," telepathy, ship's rudder"),r.a.createElement("div",null,r.a.createElement("strong",null,"Driving Space")," helmsman's chair, the two middle rear squares of the keelboat"),r.a.createElement("div",null,r.a.createElement("strong",null,"Crew")," 8; ",r.a.createElement("strong",null,"Decks")," 1"))))))})),Mo=Object(h.b)((function(e){return{character:e.character,character_info:e.character_info}}))((function(e){return r.a.createElement(K,null,r.a.createElement("div",{className:"page-dimmer",onClick:e.clickOut},r.a.createElement("div",{className:"edit-form",name:"background"},r.a.createElement("section",null,r.a.createElement("h4",null,"Read Aura Occult Skill Unlock"),r.a.createElement("div",{style:{marginBottom:"1%",paddingBottom:".8%",borderBottom:"double"}},r.a.createElement("p",null,r.a.createElement("strong",null,"Check"),": Once per day, you can examine the natural aura of a creature or object to discern the subject\u2019s alignment, emotions, health, or magic. This requires 10 minutes of concentration, after which you attempt a Perception check. Each time, you must pick one of four auras to read: alignment, emotion, health, or magic. The result of the check applies only to the selected aura. You must be within 30 feet of the subject at all times during the reading."),r.a.createElement("p",null,"Objects typically have only magic auras, though some also have alignment auras (and intelligent items have emotion auras). You can still attempt to detect a type of aura an object doesn\u2019t have, but you get no results. The DC varies depending on the aura, as shown on the table.")),r.a.createElement("p",null,r.a.createElement("u",null,"Read Alignment Aura"),": You attempt to read the alignment aura, learning the alignment and its strength. An alignment aura\u2019s strength depends on the creature\u2019s Hit Dice or item\u2019s caster level, as noted in the description of the detect evil spell."),r.a.createElement("p",null,r.a.createElement("u",null,"Read Emotion Aura"),": The colors within the target\u2019s aura reveal its emotional state. If successful, you learn the target\u2019s disposition and its attitude toward any creatures within 30 feet of it. For a number of rounds equal to the amount by which you exceeded the skill check\u2019s DC, You gain a +2 circumstance bonus on Bluff, Diplomacy, Intimidate, and Sense Motive checks against the target."),r.a.createElement("p",null,r.a.createElement("u",null,"Read Health Aura"),": Viewing the flow of vital force, you assess a creature\u2019s physical condition. You learn if the creature is unharmed or wounded, if it is poisoned or diseased, and whether it is affected by any of the following conditions: confused, disabled, dying, nauseated, panicked, staggered, stunned, and unconscious. You also learn the total number of points available in its ki pool, grit pool, or similar resource."),r.a.createElement("p",null,r.a.createElement("u",null,"Read Magic Aura"),": You attempt to determine the number and power of all magical auras on a target creature or object (see detect magic to determine a magic aura\u2019s power). If the check is successful, you can attempt Spellcraft checks to determine the school or identify properties of a magic item, as normal. If the item is affected by magic aura or a similar spell, you can realize this and determine the actual properties of the item if your check result exceeds the DC by 5 or more. If the spell is of a higher level (such as aura alteration), increase this threshold DC by 2 for every spell level beyond 1st."),r.a.createElement("span",null,r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("strong",null,"Anger"),": Bright Red"),r.a.createElement("li",null,r.a.createElement("strong",null,"Deceit"),": Oily Green"),r.a.createElement("li",null,r.a.createElement("strong",null,"Faith"),": Blue"),r.a.createElement("li",null,r.a.createElement("strong",null,"Fear"),": Livid Gray"),r.a.createElement("li",null,r.a.createElement("strong",null,"Flexibility"),": Emerald Green"),r.a.createElement("li",null,r.a.createElement("strong",null,"Greed"),": Brown-Red"),r.a.createElement("li",null,r.a.createElement("strong",null,"Hatred"),": Black"),r.a.createElement("li",null,r.a.createElement("strong",null,"Intellect"),": Golden"),r.a.createElement("li",null,r.a.createElement("strong",null,"Love"),": Scarlet"),r.a.createElement("li",null,r.a.createElement("strong",null,"Melancholy"),": Gray Lines"),r.a.createElement("li",null,r.a.createElement("strong",null,"Passion"),": Blood Red"),r.a.createElement("li",null,r.a.createElement("strong",null,"Pride"),": Orange"))),r.a.createElement("span",null,r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Task"),r.a.createElement("th",null,"DC"))),r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,"Read Alignment Aura"),r.a.createElement("td",null,"15 + creature\u2019s HD or item\u2019s caster level")),r.a.createElement("tr",null,r.a.createElement("td",null,"Read Emotion Aura"),r.a.createElement("td",null,"20 + creature\u2019s HD or item\u2019s caster level")),r.a.createElement("tr",null,r.a.createElement("td",null,"Read Health Aura"),r.a.createElement("td",null,"15 + creature\u2019s HD")),r.a.createElement("tr",null,r.a.createElement("td",null,"Read Magic Aura"),r.a.createElement("td",null,"20 + creature\u2019s HD or item\u2019s caster level")))))))))})),xo=Object(h.b)((function(e){return{character:e.character,character_info:e.character_info}}))((function(e){var t=function(t){e.dispatch({type:"MUTAGEN",name:t}),e.exitModal()};return r.a.createElement(K,null,r.a.createElement("div",{className:"page-dimmer",onClick:e.clickOut},r.a.createElement("div",{className:"edit-form",name:"background"},r.a.createElement("h4",null,"Pick a mutagen"),r.a.createElement("p",null," +2 natural armor bonus, +4 alchemical bonus to Strength, -2 penalty to Intelligence",r.a.createElement("button",{onClick:function(){return t("strength")}},"Select")),r.a.createElement("p",null," +2 natural armor bonus, +4 alchemical bonus to Dexterity, -2 penalty to Wisdom",r.a.createElement("button",{onClick:function(){return t("dexterity")}},"Select")),r.a.createElement("p",null," +2 natural armor bonus, +4 alchemical bonus to Constitution, -2 penalty to Charisma",r.a.createElement("button",{onClick:function(){return t("constitution")}},"Select")))))})),Fo=Object(h.b)((function(e){return{character:e.character,character_info:e.character_info}}))((function(e){var t=Object(h.c)(),a=e.content,n=a.characterWeapon,l=a.critical,i=a.additionalInfo,o=n.weapon,c=""===n.name?o.name:n.name,s=o.num_of_dice+"d"+o.damage_dice+" "+o.damage_type;o.double_weapon&&(s+="/"+o.double_num_of_dice+"d"+o.double_damage_dice+" "+o.double_damage_type);var u=o.range?o.range+" ft":null,d=null;o.ammunition_type&&(d=e.character.character_weapons.filter((function(e){return e.weapon.ammunition&&e.weapon.ammunition_type===o.ammunition_type})));return r.a.createElement("section",{style:{padding:"2%"}},r.a.createElement("ul",{style:{listStyleType:"none",paddingLeft:"0",margin:"1%"}},r.a.createElement("li",null,c),r.a.createElement("li",null,o.category," ",o.proficiency," Weapon"),r.a.createElement("li",null,s," (",l,")",u&&" | Range: "+u),d&&function(){var a=e.character.character_weapons.find((function(e){return e.id===n.id}));return r.a.createElement("select",{className:"mobile-dropdown",value:"".concat(a.character_weapon_ammunition_id),onChange:function(e){return t(function(e,t){return function(a){var n=parseInt(t);fetch("".concat(p,"/api/v1/character_weapons_ammo/").concat(e.id),{method:"PATCH",headers:{"Content-Type":"application/json",Response:"application/json"},body:JSON.stringify({ammo_id:n})}).then((function(e){return e.json()})).then((function(t){a({type:"CHANGE AMMO",characterWeapon:e,ammoId:n})}))}}(n,e.target.value))}},r.a.createElement("option",{value:""},"No Ammo"),d.map((function(e){return r.a.createElement("option",{value:e.id},""===e.name?e.weapon.name:e.name," (",e.ammunition_amount,")")})),("Sling"===n.weapon.name||"Halfling Sling Staff"===n.weapon.name)&&r.a.createElement("option",{value:"0"},"Improvised"))}(),r.a.createElement("li",null,r.a.createElement("u",null,"Details"),":"),i.map((function(e){return r.a.createElement("li",null,"- ",e.name,": ",e.tooltip)})),o.weapon_qualities.map((function(e){return r.a.createElement("li",null,"- ",Z.a.capitalize(e.name),": ",e.description)}))))})),Ro=function(e){var t=e.content,a=t.name,n=t.skills,l=r.a.useState(0),i=Object(U.a)(l,2),o=i[0],c=i[1];n.sort((function(e,t){return e.name.localeCompare(t.name)}));return e.sidebarContainer.current&&!o&&(console.log(e.sidebarContainer.current),c(.9*e.sidebarContainer.current.offsetHeight)),r.a.createElement("section",{style:{padding:"2%"}},r.a.createElement("h4",null,a),r.a.createElement("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",fontSize:"10px"}},n.map((function(e){return r.a.createElement("span",{key:3*e.id-1,style:{border:"1px solid #0f52ba",padding:"0.5rem"}},e.name)}))))},Po=function(e){var t=e.sidebar,a=t.position,n=t.description,l=t.content,i=r.a.useState("slide-in"),o=Object(U.a)(i,2),c=o[0],s=o[1],u=r.a.useState("slide-in-folder-tab"),d=Object(U.a)(u,2),m=d[0],h=d[1],p=r.a.useState(null),f=Object(U.a)(p,2),g=f[0],b=f[1],v=r.a.useState(null),y=Object(U.a)(v,2),E=y[0],k=y[1],C=r.a.useRef(null);"bottom"===a&&(g||(b({width:"98%",height:"50%",bottom:"0px",zIndex:"1",overflowY:"scroll"}),k({zIndex:"2",bottom:"".concat(window.innerHeight/2+1,"px"),width:"20%",textAlign:"center",borderBottom:"none",left:"10%"})));return r.a.createElement(r.a.Fragment,null,r.a.createElement("aside",{id:"sidebar",className:c,ref:C,style:g},r.a.createElement("div",{id:"sidebar-exit",className:m,style:E,onClick:function(t){t.preventDefault(),s("slide-out"),h("slide-out-folder-tab"),setTimeout((function(){return b({display:"none"})}),775),setTimeout((function(){return k({display:"none"})}),775),setTimeout((function(){e.editSidebar(!1,"left",null)}),800)}},r.a.createElement(w.a,{icon:_.c})),"attack"===n&&r.a.createElement(Fo,{content:l}),"skillset"===n&&r.a.createElement(Ro,{content:l,sidebarContainer:C})))},Lo=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={background:"",age:0,alignment:"",homeland:"",deity:"",id:""},e.renderChange=function(t){e.setState(Object(O.a)({},t.target.name,t.target.value))},e.renderSubmit=function(){},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){console.log("edit background",this.props.character),this.setState({background:this.props.character.background,age:this.props.character.age,alignment:this.props.character.alignment,homeland:this.props.character.homeland,deity:this.props.character.deity,id:this.props.character.id})}},{key:"render",value:function(){var e=this;return r.a.createElement(K,null,r.a.createElement("div",{className:"page-dimmer",onClick:this.props.clickOut},r.a.createElement("div",{className:"edit-form",name:"background"},r.a.createElement("span",{className:"enhanced"},"Background"),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("label",null,"Age"),r.a.createElement("br",null),r.a.createElement("input",{type:"number",name:"age",value:this.state.age,onChange:this.renderChange}),r.a.createElement("br",null),r.a.createElement("label",null,"Background"),r.a.createElement("br",null),r.a.createElement("textarea",{style:{width:"15em"},type:"textfield",className:"desc-box",rows:"6",name:"background",value:this.state.background,onChange:this.renderChange}),r.a.createElement("br",null),r.a.createElement("label",null,"Alignment"),r.a.createElement("br",null),r.a.createElement("select",{value:this.state.alignment,onChange:this.renderChange,name:"alignment"},r.a.createElement("option",{value:""}," "),r.a.createElement("option",{value:"Lawful Good"},"Lawful Good"),r.a.createElement("option",{value:"Neutral Good"},"Neutral Good"),r.a.createElement("option",{value:"Chaotic Good"},"Chaotic Good"),r.a.createElement("option",{value:"Lawful Neutral"},"Lawful Neutral"),r.a.createElement("option",{value:"Neutral"},"Neutral"),r.a.createElement("option",{value:"Chaotic Neutral"},"Chaotic Neutral"),r.a.createElement("option",{value:"Lawful Evil"},"Lawful Evil"),r.a.createElement("option",{value:"Neutral Evil"},"Neutral Evil"),r.a.createElement("option",{value:"Chaotic Evil"},"Chaotic Evil")),r.a.createElement("br",null),r.a.createElement("label",null,"Homeland"),r.a.createElement("br",null),r.a.createElement("input",{style:{width:"10em"},type:"text",name:"homeland",value:this.state.homeland,onChange:this.renderChange}),r.a.createElement("br",null),r.a.createElement("label",null,"Deity"),r.a.createElement("br",null),r.a.createElement("input",{style:{width:"10em"},type:"text",name:"deity",value:this.state.deity,onChange:this.renderChange}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("button",{onClick:function(){return e.props.renderEdit(e.state,"background")}},"Submit"))))}}]),a}(r.a.Component),Bo=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,l=new Array(n),i=0;i<n;i++)l[i]=arguments[i];return(e=t.call.apply(t,[this].concat(l))).state={name:"",race:0,classes:[0],anyBonus:"",doesRacehaveAnyBonus:!1,allClasses:!1,allRaces:{},id:""},e.fetchClasses=function(){fetch("".concat(p,"/api/v1/klasses")).then((function(e){return e.json()})).then((function(t){e.setState({allClasses:t})}),e.fetchRaces())},e.fetchRaces=function(){fetch("".concat(p,"/api/v1/races")).then((function(e){return e.json()})).then((function(t){e.setState({allRaces:t})}))},e.renderChange=function(t){e.setState(Object(O.a)({},t.target.name,t.target.value))},e.renderDefaultClasses=function(){return e.props.character.character_klasses.sort((function(e,t){return e.level-t.level})).map((function(e){return e.klass_id}))},e.renderDynamicChanges=function(t,a){var n=Object(S.a)(e.state.classes);n[a]=t.target.value,e.setState({classes:n})},e.renderClasses=function(){return e.state.allClasses.map((function(e){return r.a.createElement("option",{key:e.id,value:e.id},e.name)}))},e.renderRaces=function(){return e.state.allRaces.map((function(e){return r.a.createElement("option",{key:e.id,value:e.id},e.name)}))},e.renderRacialAbilityModifiers=function(){var t=e.state.allRaces.find((function(t){return t.id===Z.a.toNumber(e.state.race)}));return r.a.createElement("span",null,e.renderAbilityScoreModifiers(t))},e.renderAbilityScoreModifiers=function(t){var a=t.race_ability_score_modifiers,n=[];return a.forEach((function(t){"Any"!==t.ability_score||e.state.doesRacehaveAnyBonus||e.setState({doesRacehaveAnyBonus:!0}),"Any"!==t.ability_score&&e.state.doesRacehaveAnyBonus&&e.setState({doesRacehaveAnyBonus:!1,anyBonus:""});var a=t.bonus<0?t.bonus:"+".concat(t.bonus);n.push("".concat(a," ").concat(t.ability_score))})),n.join(", ")},e.renderAnyChoiceField=function(){return r.a.createElement("div",null,r.a.createElement("label",null,"For your Race, you can choose any one score to give a +2 bonus to any one Ability of your Choice!"),r.a.createElement("select",{value:e.state.anyBonus,onChange:e.renderChange,name:"anyBonus"},r.a.createElement("option",{value:""},"Choose One"),r.a.createElement("option",{value:"Strength"},"Strength"),r.a.createElement("option",{value:"Dexterity"},"Dexterity"),r.a.createElement("option",{value:"Constitution"},"Constitution"),r.a.createElement("option",{value:"Intelligence"},"Intelligence"),r.a.createElement("option",{value:"Wisdom"},"Wisdom"),r.a.createElement("option",{value:"Charisma"},"Charisma")))},e.addClassField=function(t,a,n){if(t.preventDefault(),"plus"===a)e.setState({classes:[].concat(Object(S.a)(e.state.classes),[e.state.classes[n]])});else if("minus"===a){var r=Object(S.a)(e.state.classes);r.pop(),e.setState({classes:r})}},e.checkForValidLevels=function(){var t=!0;if(e.state.classes.forEach((function(e){(e.level>20||e.level<1)&&(t=!1)})),!t)return r.a.createElement("div",null,"You must choose a class level between 1 and 20!")},e.mapClassDynamicFields=function(){return e.state.classes.map((function(t,a){var n="class-".concat(a);return r.a.createElement("div",{key:a},r.a.createElement("label",{htmlFor:n},"Class #".concat(a+1)," "),r.a.createElement("select",{name:n,value:e.state.classes[a],onChange:function(t){return e.renderDynamicChanges(t,a)}},r.a.createElement("option",{value:""},"Choose One"),e.state.allClasses&&e.renderClasses()),"Level ".concat(a+1))}))},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.setState({name:this.props.character.name,race:this.props.character.race.id,anyBonus:this.props.character.any_bonus,id:this.props.character.id,classes:this.renderDefaultClasses()},this.fetchClasses())}},{key:"render",value:function(){var e=this;return r.a.createElement(K,null,r.a.createElement("div",{className:"page-dimmer",onClick:this.props.clickOut},r.a.createElement("div",{className:"edit-form",name:"background"},r.a.createElement("span",{className:"enhanced"},"Character"),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("label",null,"Name"),r.a.createElement("br",null),r.a.createElement("input",{type:"text",name:"name",value:this.state.name,onChange:this.renderChange}),r.a.createElement("br",null),r.a.createElement("label",null,"Race"),r.a.createElement("br",null),r.a.createElement("select",{name:"race",value:this.state.race,onChange:this.renderChange},r.a.createElement("option",{value:""},"Select One"),this.state.allRaces[0]?this.renderRaces():null),r.a.createElement("br",null),this.state.allRaces[0]&&this.state.race?this.renderRacialAbilityModifiers():null,r.a.createElement("br",null),this.state.doesRacehaveAnyBonus?this.renderAnyChoiceField():null,r.a.createElement("br",null),r.a.createElement("label",null,"Classes"),r.a.createElement("br",null),this.state.allClasses&&this.mapClassDynamicFields(),r.a.createElement("button",{onClick:function(t){return e.addClassField(t,"plus",e.state.classes.length-1)}},"+"),this.state.classes.length>1?r.a.createElement("button",{onClick:function(t){return e.addClassField(t,"minus")}},"-"):null,this.checkForValidLevels(),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("button",{onClick:function(){return e.props.renderEdit(e.state,"character")}},"Submit"))))}}]),a}(r.a.Component),Ho=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={strength:0,dexterity:0,constitution:0,intelligence:0,wisdom:0,charisma:0,id:""},e.renderChange=function(t){e.setState(Object(O.a)({},t.target.name,t.target.value))},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.setState({strength:this.props.character.strength,dexterity:this.props.character.dexterity,constitution:this.props.character.constitution,intelligence:this.props.character.intelligence,wisdom:this.props.character.wisdom,charisma:this.props.character.charisma,id:this.props.character.id})}},{key:"render",value:function(){var e=this;return r.a.createElement(K,null,r.a.createElement("div",{className:"page-dimmer",onClick:this.props.clickOut},r.a.createElement("div",{className:"edit-form",name:"background"},r.a.createElement("span",{className:"enhanced"},"Ability Scores"),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("label",null,"Strength"),r.a.createElement("br",null),r.a.createElement("input",{type:"number",name:"strength",value:this.state.strength,onChange:this.renderChange}),r.a.createElement("br",null),r.a.createElement("label",null,"Dexterity"),r.a.createElement("br",null),r.a.createElement("input",{type:"number",name:"dexterity",value:this.state.dexterity,onChange:this.renderChange}),r.a.createElement("br",null),r.a.createElement("label",null,"Constitution"),r.a.createElement("br",null),r.a.createElement("input",{type:"number",name:"constitution",value:this.state.constitution,onChange:this.renderChange}),r.a.createElement("br",null),r.a.createElement("label",null,"Intelligence"),r.a.createElement("br",null),r.a.createElement("input",{type:"number",name:"intelligence",value:this.state.intelligence,onChange:this.renderChange}),r.a.createElement("br",null),r.a.createElement("label",null,"Wisdom"),r.a.createElement("br",null),r.a.createElement("input",{type:"number",name:"wisdom",value:this.state.wisdom,onChange:this.renderChange}),r.a.createElement("br",null),r.a.createElement("label",null,"Charisma"),r.a.createElement("br",null),r.a.createElement("input",{type:"number",name:"charisma",value:this.state.charisma,onChange:this.renderChange}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("button",{onClick:function(){return e.props.renderEdit(e.state,"ability")}},"Submit"))))}}]),a}(r.a.Component),Wo=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("span",{className:"tab-list"},r.a.createElement(il,{label:"Communique",renderTabClick:this.props.renderTabClick,activeTab:this.props.activeTab}),r.a.createElement(il,{label:"Update Character",renderTabClick:this.props.renderTabClick,activeTab:this.props.activeTab}),r.a.createElement(il,{label:"Literally Unplayable",renderTabClick:this.props.renderTabClick,activeTab:this.props.activeTab}),r.a.createElement(il,{label:"Rest",renderTabClick:this.props.renderTabClick,activeTab:this.props.activeTab}))}}]),a}(r.a.Component),qo=function(){return function(){var e=[],t=F.getState().character,a=Object(j.a)({},t),n=a.applicable_klass_features,r=a.character_choices;return n.forEach((function(a){var n=t.uniq_klasses.find((function(e){if(a.klass_id)return e.id===a.klass_id;if(a.klass_archetype_id){var n=t.archetypes.find((function(e){return e.id===a.klass_archetype_id}));return e.id===n.klass_id}})).name;a.features.forEach((function(t){if(t.character_choices.length){var l=!0;r.find((function(e){return e.feature_id===t.id}))&&(l=!1),e.push({feature:t,klassName:n,featureName:a.name,sourceId:a.id,specifics:t.character_choices[0].column,sub_feature:t.character_choices[0].sub_feature,isNew:l})}}))})),e}().map((function(e){var t=Z.a.startCase(e.specifics);Z.a.endsWith(t," Id")&&(t=t.substring(0,t.length-3));var a=e.isNew?"Choose":"Alter",n=e.isNew?"attention-button-animation":"";return r.a.createElement("button",{className:n,onClick:function(){bt("characterChoice",e)}},e.klassName," - ",e.featureName,": ",a," ",t)}))},zo=function(){return function(){var e=[],t=F.getState().character,a=Object(j.a)({},t),n=a.applicable_klass_features,r=a.klass_specializations;return n.forEach((function(a){if(a.specialization){var n=t.uniq_klasses.find((function(e){return e.id===a.klass_id})).name,l=a.choice_amount;r.forEach((function(e){e.klass_feature.id===a.id&&l--})),l=!l>0,e.push({klassFeature:a,klassName:n,hasSpecialization:l})}})),e}().map((function(e){var t=e.hasSpecialization?"Alter":"Choose",a=e.hasSpecialization?"":"attention-button-animation";return r.a.createElement("button",{className:a,onClick:function(){bt("klassSpecialization",e)}},e.klassName,": ",t," ",e.klassFeature.name)}))},Uo=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,l=new Array(n),i=0;i<n;i++)l[i]=arguments[i];return(e=t.call.apply(t,[this].concat(l))).state={hitPoints:0,error:!1},e.renderChange=function(t,a,n){var r=parseInt(t.target.value);if("number"===typeof r&&(r<1||r>n)){var l=Object(S.a)(e.state.hitPoints);l[a]=parseInt(t.target.value)||null,e.setState({hitPoints:l,error:!0})}else{var i=Object(S.a)(e.state.hitPoints);i[a]=parseInt(t.target.value)||null,e.setState({hitPoints:i,error:!1})}},e.renderClasses=function(){return e.props.character.character_klasses.sort((function(e,t){return e.level-t.level})).map((function(t,a){var n=e.props.character.uniq_klasses.find((function(e){return e.id===t.klass_id}));return r.a.createElement("div",null,r.a.createElement("label",null,"Level ",t.level,": ",n.name),r.a.createElement("input",{type:"number",name:t.level,value:e.state.hitPoints[a],onChange:function(t){return e.renderChange(t,a,n.hit_die)}}),"d",n.hit_die)}))},e.renderSubmit=function(){fetch("".concat(p,"/api/v1/hp"),{method:"PATCH",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({character_id:e.props.character.id,hp:e.state.hitPoints})}).then((function(e){return e.json()})).then((function(t){e.props.dispatch({type:"CHARACTER",character:t.character}),e.props.exitModal()}))},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.character.character_klasses.sort((function(e,t){return e.level-t.level})),a=[];t.forEach((function(t){var n=e.props.character.uniq_klasses.find((function(e){return e.id===t.klass_id})).hit_die;return 1===t.level&&n!==t.hp?a.push(n):a.push(t.hp)})),this.setState({hitPoints:a})}},{key:"render",value:function(){return console.log("changing HP",this.state),r.a.createElement("div",null,this.renderClasses(),this.state.error&&r.a.createElement("p",null,"One of your choices is too high or too low!"),!this.state.error&&r.a.createElement("button",{onClick:this.renderSubmit},"Submit!"))}}]),a}(r.a.Component),Go=Object(h.b)((function(e){return{currentUser:e.currentUser,admin:e.admin,character:e.character,character_info:e.character_info}}))(Uo),Yo=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,l=new Array(n),i=0;i<n;i++)l[i]=arguments[i];return(e=t.call.apply(t,[this].concat(l))).state={activeProblem:""},e.missingHP=function(){var t=!1;return e.props.character.character_klasses.forEach((function(e){null===e.hp&&(t=!0)})),t},e.addHP=function(){return e.missingHP()&&"HP"!==e.state.activeProblem?r.a.createElement("div",{onClick:function(){return e.setState({activeProblem:"HP"})}},r.a.createElement(w.a,{icon:_.i,color:"#f00"}),"You are missing Hit Points!"):e.missingHP()&&"HP"===e.state.activeProblem?r.a.createElement(Go,{exitModal:e.props.exitModal}):void 0},e}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("span",{style:{padding:"1em"}},r.a.createElement("p",null,"Creation Problems"),this.addHP(),zo())}}]),a}(r.a.Component),Ko=Object(h.b)((function(e){return{currentUser:e.currentUser,admin:e.admin,character:e.character,character_info:e.character_info}}))(Yo),Vo=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,l=new Array(n),i=0;i<n;i++)l[i]=arguments[i];return(e=t.call.apply(t,[this].concat(l))).fetchDiscovered=function(t,a){fetch("".concat(p,"/api/v1/").concat(a,"_discovered/").concat(t),{method:"PATCH",headers:{"Content-Type":"application/json",Accept:"application/json"}}).then((function(e){return e.json()})).then((function(n){404===n.status||500===n.status?console.log(n):n.message?e.props.dispatch({type:"DISCOVER EQUIPMENT",detail:a,id:t}):e.props.dispatch({type:"CHARACTER",character:n.character})}))},e.renderAdditionalButtons=function(){switch(e.props.character.name){case"Nettie":return e.nettie();default:return null}},e.dispatchMonster=function(t){e.props.dispatch({type:"SUMMON MONSTER",monster:t})},e.nettie=function(){return r.a.createElement("section",null,r.a.createElement("h3",null,"Available Summoned Monsters"),r.a.createElement("button",{onClick:function(){return e.dispatchMonster("air elemental")}},"+1 Air Elemental"),r.a.createElement("button",{onClick:function(){return e.dispatchMonster("earth elemental")}},"+1 Earth Elemental"),r.a.createElement("button",{onClick:function(){return e.dispatchMonster("fire elemental")}},"+1 Fire Elemental"),r.a.createElement("button",{onClick:function(){return e.dispatchMonster("water elemental")}},"+1 Water Elemental"),r.a.createElement("button",{onClick:function(){return e.dispatchMonster("lemure")}},"+1 Lemure"))},e.renderConditions=function(){return e.props.character_info.conditions.map((function(t){return r.a.createElement("button",{onClick:function(){return e.props.dispatch({type:"CONDITION",condition:t})}},"Remove ",t)}))},e.renderActiveEffects=function(t){e.props.changeActiveEffects(t),e.props.exitModal()},e.renderDispatch=function(t){e.props.dispatch({type:t}),e.props.exitModal()},e.newItems=function(){var t=e.props.character.character_magic_items.filter((function(e){return!e.discovered})),a=e.props.character.character_potions.filter((function(e){return!e.discovered})),n=e.props.character.character_scrolls.filter((function(e){return!e.discovered})),l=e.props.character.character_wands.filter((function(e){return!e.discovered})),i=e.props.character.character_weapons.filter((function(e){return!e.discovered})),o=e.props.character.character_armors.filter((function(e){return!e.discovered}));if([].concat(Object(S.a)(t),Object(S.a)(a),Object(S.a)(n),Object(S.a)(l),Object(S.a)(i),Object(S.a)(o)).length)return r.a.createElement("div",null,r.a.createElement("h3",null,"New Items"),r.a.createElement("ul",null,e.newItemLI(t,"character_magic_items"),e.newItemLI(a,"character_potions"),e.newItemLI(n,"character_scrolls"),e.newItemLI(l,"character_wands"),e.newItemLI(i,"character_weapons"),e.newItemLI(o,"character_armors")))},e.newItemLI=function(t,a){return t.map((function(t,n){var l,i="";return i="character_magic_items"===a?t.known?t.magic_item.name:null!==(l=t.false_desc)&&void 0!==l?l:"A New Magic Item":i,i="character_potions"===a?t.known?"".concat(Z.a.capitalize(t.potion_or_oil)," of ").concat(t.spell.name):"A Mysterious Liquid":i,i="character_scrolls"===a?t.known?"Scroll of ".concat(t.spell.name):"A Strange Scroll":i,i="character_wands"===a?t.known?"Wand of ".concat(t.spell.name):"A Curious Wand":i,i="character_weapons"===a?t.name?t.name:t.weapon.name:i,i="character_armors"===a?t.name?t.name:t.armor.name:i,r.a.createElement("li",{key:3*(n+10)-1},i," ",r.a.createElement("button",{onClick:function(){return e.fetchDiscovered(t.id,a)}},"Collect"))}))},e.tempFeatures=function(){return e.props.character_info.features.filter((function(e){return"temporary"===e.duration})).map((function(t){return r.a.createElement("button",{style:{display:"block",margin:"auto"},onClick:function(){return e.props.dispatch({type:"ACTIVATED FEATURE",feature:{source:t.source,remove:!0}})}},"Cancel ",t.source,"'s Effect")}))},e.renderStoredNotifications=function(){return e.props.storedNotifications.map((function(t){var a=t.payload,n=t.source,l=t.options;return r.a.createElement("button",{onClick:function(){xt(a,n,l);var t=Object(S.a)(e.props.storedNotifications);t=t.filter((function(e){return e.source.sourceName!==n.sourceName&&e.source.senderName!==n.senderName})),vt(t)}},n.sourceName," (",n.senderName,")")}))},e}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("span",{style:{padding:"1em"}},this.newItems(),this.renderStoredNotifications(),this.tempFeatures(),r.a.createElement("h3",null,"Active Conditions"),this.renderConditions(),this.renderAdditionalButtons())}}]),a}(r.a.Component),Jo=Object(h.b)((function(e){return{character:e.character,character_info:e.character_info,storedNotifications:e.storedNotifications}}))(Vo),Qo=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,l=new Array(n),i=0;i<n;i++)l[i]=arguments[i];return(e=t.call.apply(t,[this].concat(l))).state={skillset:!1,previousRanks:{},currentRanks:{},availableRanks:0},e.renderSubmit=function(){fetch("".concat(p,"/api/v1/character_skillset_skills"),{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({character_id:e.props.character.id,skillset_id:e.props.character.skillset.id,ranks:e.state.currentRanks})}).then((function(e){return e.json()})).then((function(t){e.props.dispatch({type:"CHARACTER",character:t.character}),e.props.exitModal()}))},e.renderCSSChangeColor=function(t){return e.state.currentRanks[t]>e.state.previousRanks[t]?"green":"black"},e.renderAvailableRanks=function(){var t=0;if(e.props.character.uniq_klasses.forEach((function(a){var n=e.props.character_info.classes.find((function(e){return e.id===a.id})).level;"Persephone"===e.props.character.name&&"Vigilante"===a.name?t+=4*n:t+=a.skill_ranks*n})),t+=Math.floor((e.props.character_info.ability_scores.intelligence-10)/2)*e.props.character.character_klasses.length,e.state.previousRanks.length>1){var a=Object.entries(e.state.previousRanks).reduce((function(e,t){return e+t[1]}),0);t-=a}e.setState({availableRanks:t})},e.renderSkillSelection=function(){return e.state.skillset.skills.map((function(t){return r.a.createElement("div",null,r.a.createElement("span",null,t.name,": ",r.a.createElement("span",{className:e.renderCSSChangeColor(t.id)},e.state.currentRanks[t.id])),e.state.currentRanks[t.id]!==e.props.character.character_klasses.length&&0!==e.state.availableRanks?r.a.createElement("button",{onClick:function(){return e.setState({currentRanks:Object(j.a)(Object(j.a)({},e.state.currentRanks),{},Object(O.a)({},t.id,e.state.currentRanks[t.id]+1)),availableRanks:e.state.availableRanks-1})}},"+"):null,e.state.currentRanks[t.id]!==e.state.previousRanks[t.id]?r.a.createElement("button",{onClick:function(){return e.setState({currentRanks:Object(j.a)(Object(j.a)({},e.state.currentRanks),{},Object(O.a)({},t.id,e.state.currentRanks[t.id]-1)),availableRanks:e.state.availableRanks+1})}},"-"):null)}))},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this;fetch("".concat(p,"/api/v1/skillsets/").concat(this.props.character.skillset.id)).then((function(e){return e.json()})).then((function(t){var a={};t.skillset.skills.forEach((function(t){var n=0;e.props.character.character_skillset_skills.forEach((function(e){e.skill_id===t.id&&(n=e.ranks)})),a[t.id]=n})),e.setState({skillset:t.skillset,previousRanks:a,currentRanks:a},e.renderAvailableRanks())}))}},{key:"render",value:function(){return r.a.createElement("div",{style:{overflow:"hidden",marginBottom:"2.5em"}},r.a.createElement("div",null,"Available Ranks: ",this.state.availableRanks),this.state.skillset&&this.renderSkillSelection(),r.a.createElement("button",{onClick:this.renderSubmit},"Submit!"))}}]),a}(r.a.Component),Zo=Object(h.b)((function(e){return{currentUser:e.currentUser,admin:e.admin,character:e.character,character_info:e.character_info}}))(Qo),Xo=function(e){return r.a.createElement("tr",null,r.a.createElement("td",{className:"bordered-table"},e.knownSpell.klass_spell.spell_level),r.a.createElement("td",{className:"bordered-table"},function(){var t=!1;return e.preparedSpells.forEach((function(a){e.knownSpell.spell.id===a.spell.id&&(t=!0)})),e.goingToBePreparedSpells.forEach((function(a){e.knownSpell.spell.id===a.spell_id&&(t=!0)})),t?r.a.createElement(w.a,{icon:_.b,size:"1x"}):""}()),r.a.createElement("td",{className:"bordered-table",onClick:function(){e.activeSpell===e.knownSpell.spell.id?e.renderClick(0):e.renderClick(e.knownSpell.spell.id)}},e.knownSpell.spell.name),r.a.createElement("td",{className:"bordered-table"},e.activeSpell===e.knownSpell.spell.id&&r.a.createElement("div",null,r.a.createElement("label",null,"Spell Level:",r.a.createElement("select",{name:"level",value:e.spellLevel,onChange:e.renderSpellLevelEdit},r.a.createElement("option",{value:"-"}," - "),e.availableSpellLevels.filter((function(t){return!(t<e.knownSpell.klass_spell.spell_level)})).map((function(e){return r.a.createElement("option",{value:e},e)})))))),e.spellLevel>=0&&e.spellLevel<=9&&e.activeSpell===e.knownSpell.spell.id&&r.a.createElement("td",null,r.a.createElement("button",{onClick:e.renderSelectedSpell},"Prepare")))},$o=function(e){return r.a.createElement("tr",null,r.a.createElement("td",{className:"bordered-table"},r.a.createElement("strong",null,e.spell.name)),r.a.createElement("td",{className:"bordered-table"}," Lvl ",e.level),!e.alreadyPrepared&&r.a.createElement("td",null,r.a.createElement("button",{onClick:function(){return e.removePreparedSpell(e.spell.id,e.level)}},"X")))},ec=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,l=new Array(n),i=0;i<n;i++)l[i]=arguments[i];return(e=t.call.apply(t,[this].concat(l))).state={knownSpells:[],selectedSpells:[],activeClass:0,allAvailableClasses:[],activeSpell:0,spellLevel:"-",spellsPerDay:null,availableSpellLevels:[]},e.availableClasses=function(){var t=[];e.state.knownSpells.forEach((function(e){t.includes(e.klass.id)||t.push(e.klass.id)})),1===t.length?e.setState({activeClass:t[0]}):e.setState({activeClass:t[0],allAvailableClasses:t})},e.renderSubmit=function(t){t.preventDefault(),console.log(e.state.availableSpellLevels);var a={spells:e.state.selectedSpells,character_id:e.props.character.id,is_done_preparing_spells:!e.state.availableSpellLevels.length};fetch("".concat(p,"/api/v1/prepared_spells"),{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(a)}).then((function(e){return e.json()})).then((function(t){e.props.dispatch({type:"PREPARE SPELLS",spells:t}),e.state.availableSpellLevels.length||e.props.dispatch({type:"DONE PREPARING"}),e.props.exitModal()}))},e.renderKnownSpells=function(){return e.state.knownSpells.sort((function(e,t){return e.klass_spell.spell_level-t.klass_spell.spell_level})).filter((function(t){return t.klass.id===e.state.activeClass})).map((function(t){return r.a.createElement(Xo,{knownSpell:t,renderClick:e.renderClick,activeSpell:e.state.activeSpell,spellLevel:e.state.spellLevel,renderSpellLevelEdit:e.renderSpellLevelEdit,renderSelectedSpell:e.renderSelectedSpell,availableSpellLevels:e.state.availableSpellLevels,preparedSpells:e.props.character.prepared_spells,goingToBePreparedSpells:e.state.selectedSpells})}))},e.displayClassOptions=function(){if(!e.state.allAvailableClasses.length)return r.a.createElement("p",null,e.props.classes.find((function(t){return t.id===e.state.activeClass})).name," Spells")},e.renderClick=function(t){e.setState({activeSpell:t,spellLevel:"-"})},e.renderSpellLevelEdit=function(t){e.setState({spellLevel:parseInt(t.target.value)})},e.renderSelectedSpell=function(t){if(t.preventDefault(),"-"===e.state.spellLevel)return null;var a=e.state.knownSpells.find((function(t){return t.spell.id===e.state.activeSpell})),n=a.klass_spell.id,r=a.klass.id,l={spell_id:e.state.activeSpell,level:e.state.spellLevel,known_spell_id:n,klass:r};e.setState({selectedSpells:[].concat(Object(S.a)(e.state.selectedSpells),[l]),activeSpell:0,spellLevel:"-"})},e.displaySelectedSpells=function(){e.props.character_info.classes.find((function(t){return t.id===e.state.activeClass}));return e.state.spellsPerDay.map((function(t){var a=t.spells;e.bonusSPD(t.klass_id,t.spell_level)&&0!==t.spell_level&&(a+=1);var n=a-e.state.selectedSpells.filter((function(e){return e.level===t.spell_level})).length;return e.props.character.prepared_spells.forEach((function(e){e.spell_level===t.spell_level&&n--})),0===n&&e.state.availableSpellLevels.includes(t.spell_level)&&e.checkAvailableSpellLevel(t.spell_level),r.a.createElement("span",null," ",r.a.createElement("strong",null,"|")," ",r.a.createElement("i",null,te(t.spell_level)),": ",r.a.createElement("strong",null,n||0===n?n:a))}))},e.remainingSpells=function(){var t=[],a="spells_per_days";e.props.character_info.classes.forEach((function(n){var r=e.props.classes.find((function(e){return e.id===n.id})),l=e.props.character_info.classes.find((function(e){return e.id===r.id})).spellcasting;if(l&&l.prepared_amount&&(a="prepared_amounts"),r&&r[a].length){var i=r[a].filter((function(e){return e.klass_level===n.level}));t.push({spd:i})}}));var n=[];t[0].spd.forEach((function(e){n.includes(e.spell_level)||n.push(e.spell_level)})),e.setState({spellsPerDay:t[0].spd,availableSpellLevels:n})},e.bonusSPD=function(t,a){var n=e.props.character_info.classes.find((function(e){return e.id===t})).spellcasting,r=Z.a.lowerCase(n.ability_score);return!n.prepared_amount&&(e.props.character_info.ability_scores[r]-10)/2>=a},e.renderPreparedSpells=function(){return e.state.selectedSpells.map((function(t){var a=e.state.knownSpells.find((function(e){return e.spell.id===t.spell_id})).spell;return r.a.createElement($o,{spell:a,level:t.level,removePreparedSpell:e.removePreparedSpell,alreadyPrepared:!1})}))},e.renderAlreadyPreparedSpell=function(){return e.props.character.prepared_spells.filter((function(t){return t.klass.id===e.state.activeClass})).map((function(e){return r.a.createElement($o,{spell:e.spell,level:e.spell_level,alreadyPrepared:!0})}))},e.checkAvailableSpellLevel=function(t){var a=Object(S.a)(e.state.availableSpellLevels).filter((function(e){return e!==t}));e.setState({availableSpellLevels:a})},e.removePreparedSpell=function(t,a){var n=!1,r=e.state.selectedSpells.filter((function(e){return!(e.spell_id===t&&e.level===a&&!n)||(n=!0,!1)}));e.setState({selectedSpells:r})},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this;fetch("".concat(p,"/api/v1/known_spells?character=").concat(this.props.character.id)).then((function(e){return e.json()})).then((function(t){e.setState({knownSpells:t},e.availableClasses)}))}},{key:"render",value:function(){return r.a.createElement("div",{className:"container-65-35"},r.a.createElement("div",null,this.state.activeClass&&this.displayClassOptions(),r.a.createElement("table",{className:"bordered-table"},r.a.createElement("tr",null,r.a.createElement("th",{className:"bordered-table"},"Level"),r.a.createElement("th",{className:"bordered-table"},"P?"),r.a.createElement("th",{className:"bordered-table"},"Spell"),r.a.createElement("th",{className:"bordered-table"},"Prepared Level")),this.renderKnownSpells())),r.a.createElement("div",null,this.state.spellsPerDay&&this.displaySelectedSpells(),!this.state.spellsPerDay&&this.remainingSpells(),r.a.createElement("table",{className:"bordered-table"},r.a.createElement("tr",null,r.a.createElement("th",{className:"bordered-table"},"Spell"),r.a.createElement("th",{className:"bordered-table"},"Level")),this.state.activeClass&&this.renderAlreadyPreparedSpell(),this.renderPreparedSpells()),this.state.selectedSpells.length?r.a.createElement("button",{onClick:this.renderSubmit},"Prepare your spells!"):null))}}]),a}(r.a.Component),tc=Object(h.b)((function(e){return{currentUser:e.currentUser,admin:e.admin,character:e.character,character_info:e.character_info,classes:e.classes}}))(ec),ac=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,l=new Array(n),i=0;i<n;i++)l[i]=arguments[i];return(e=t.call.apply(t,[this].concat(l))).state={activeProblem:""},e.needsRanks=function(){if(0===e.props.character.character_skillset_skills.length)return!0;var t=0;e.props.character.uniq_klasses.forEach((function(a){var n=e.props.character_info.classes.find((function(e){return e.id===a.id})).level;t+=a.skill_ranks*n}));var a=0;return e.props.character.character_skillset_skills.forEach((function(e){a+=e.ranks})),a<t},e.addSkillRanks=function(){return e.needsRanks()&&"Ranks"!==e.state.activeProblem?r.a.createElement("div",{onClick:function(){return e.setState({activeProblem:"Ranks"})}},r.a.createElement(w.a,{icon:_.i,color:"#ffd800"}),"You have some Skill Ranks to spend"):e.needsRanks()&&"Ranks"===e.state.activeProblem?r.a.createElement(Zo,{exitModal:e.props.exitModal}):void 0},e.isThisCasterPrepared=function(t){var a=e.props.classes.find((function(e){return e.id===t})).klass_features.find((function(e){return e.spellcasting}));return!!a&&a.spellcasting.prepared},e.prepareSpells=function(){var t=!1;return e.props.character.uniq_klasses.forEach((function(a){e.isThisCasterPrepared(a.id)&&(t=!0)})),!e.props.character.is_done_preparing_spells&&t&&"Prepare"!==e.state.activeProblem?r.a.createElement("div",{onClick:function(){return e.setState({activeProblem:"Prepare"})}},r.a.createElement(w.a,{icon:_.i,color:"#ffd800"}),"You have to prepare your spells!"):!e.props.character.is_done_preparing_spells&&t&&"Prepare"===e.state.activeProblem?r.a.createElement(tc,{exitModal:e.props.exitModal}):void 0},e.manageKnownSpells=function(){return Da().map((function(t,a){return t.spellcasting.known_spell_list?e.renderManageKnownSpells(t):null}))},e.renderManageKnownSpells=function(e){return r.a.createElement("button",{onClick:function(){bt("manageKnownSpells",e)}},"Manage Known Spells - ",e.klassName)},e.managePreparedSpells=function(){return Da().map((function(t,a){return t.spellcasting.prepare_spells?e.renderManagePreparedSpells(t):null}))},e.renderManagePreparedSpells=function(e){return r.a.createElement("button",{onClick:function(){bt("managePreparedSpells",e)}},"Manage Prepared Spells - ",e.klassName)},e}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("span",{style:{padding:"1em"}},r.a.createElement("p",null,"Things to update"),this.addSkillRanks(),this.manageKnownSpells(),this.managePreparedSpells(),this.prepareSpells(),qo())}}]),a}(r.a.Component),nc=Object(h.b)((function(e){return{currentUser:e.currentUser,admin:e.admin,character:e.character,character_info:e.character_info,classes:e.classes}}))(ac),rc=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).newDay=function(){var t=e.props.character;fetch("".concat(p,"/api/v1/rest"),{method:"DELETE",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({id:t.id})}).then((function(e){return e.json()})).then((function(t){e.props.dispatch({type:"CHARACTER",character:t.character}),e.props.exitModal()}))},e.anyPreparedSpells=function(){},e}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("span",{style:{padding:"1em"}},r.a.createElement("p",null,r.a.createElement("button",{onClick:this.newDay},"Would You Like to Rest?")))}}]),a}(r.a.Component),lc=Object(h.b)((function(e){return{currentUser:e.currentUser,admin:e.admin,character:e.character,character_info:e.character_info}}))(rc),ic=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={activeTab:"Communique"},e.renderTabClick=function(t){e.setState({activeTab:t})},e.renderChange=function(t){e.setState(Object(O.a)({},t.target.name,t.target.value))},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return r.a.createElement(K,null,r.a.createElement("div",{className:"page-dimmer",onClick:this.props.clickOut},r.a.createElement("div",{className:"edit-form",name:"background"},r.a.createElement(Wo,{renderTabClick:this.renderTabClick,activeTab:this.state.activeTab}),r.a.createElement("div",{style:{height:"100%",overflow:"auto"}},"Communique"===this.state.activeTab&&r.a.createElement(Jo,{exitModal:this.props.exitModal,changeActiveEffects:this.props.changeActiveEffects}),"Update Character"===this.state.activeTab&&r.a.createElement(nc,{exitModal:this.props.exitModal}),"Literally Unplayable"===this.state.activeTab&&r.a.createElement(Ko,{exitModal:this.props.exitModal}),"Rest"===this.state.activeTab&&r.a.createElement(lc,{exitModal:this.props.exitModal})))))}}]),a}(r.a.Component),oc=Object(m.f)(Object(h.b)((function(e){return{currentUser:e.currentUser,admin:e.admin,character:e.character,character_info:e.character_info}}))(ic)),cc=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={spell:null},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this;if(this.props.spells.length){var t=this.props.spells.find((function(t){return t.id===e.props.spellId}));this.setState({spell:t})}else fetch("".concat(p,"/api/v1/spells/").concat(this.props.spellId)).then((function(e){return e.json()})).then((function(t){e.setState({spell:t.spell})}))}},{key:"render",value:function(){return console.log(this.state.spell),r.a.createElement(K,null,r.a.createElement("div",{className:"page-dimmer",onClick:this.props.clickOut},r.a.createElement("div",{id:"spell-desc",name:"background"},this.state.spell&&r.a.createElement(Xt,{spell:this.state.spell}))))}}]),a}(r.a.Component),sc=Object(h.b)((function(e){return{character:e.character,character_info:e.character_info,spells:e.spells}}))(cc),uc=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).findItem=function(){return e.props.character.character_magic_items.find((function(t){return t.id===e.props.characterItemID}))},e}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement(K,null,r.a.createElement("div",{className:"page-dimmer",onClick:this.props.clickOut},r.a.createElement("div",{id:"spell-desc",name:"background"},r.a.createElement(fn,{item:this.findItem().magic_item,cmi:this.findItem(),editModal:this.props.editModal,exitModal:this.props.exitModal}))))}}]),a}(r.a.Component),dc=Object(h.b)((function(e){return{character:e.character,character_info:e.character_info}}))(uc),mc=Object(h.b)((function(e){return{character:e.character,character_info:e.character_info}}))((function(e){var t=r.a.useState(null),a=Object(U.a)(t,2),n=a[0],l=a[1],i=r.a.useState(-1),o=Object(U.a)(i,2),c=o[0],s=o[1];r.a.useEffect((function(){fetch("".concat(p,"/api/v1/").concat(e.detail,"/").concat(e.cfId)).then((function(e){return e.json()})).then((function(e){l(e)}))}),[e.cfId]);var u=function(t,a,n){fetch("".concat(p,"/api/v1/").concat(a,"/").concat(t),{method:"PATCH",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({count:0-c})}).then((function(e){return e.json()})).then((function(t){404===t.status||500===t.status?console.log(t):(e.exitModal(),e.dispatch({type:"CHARACTER",character:t.character}),s(0),c<0&&n.movements&&n.movements.forEach((function(t){e.dispatch({type:"ACTIVATED FEATURE",feature:{type:"movement",source:n.source,movement:t.movement,feet:t.feet,bonus:t.bonus,penalty:t.penalty,duration:"temporary"}})})))}))};return r.a.createElement(K,null,r.a.createElement("div",{className:"page-dimmer",onClick:e.clickOut},r.a.createElement("div",{className:"edit-form",name:"background"},n&&function(){console.log(n);var t=n.magic_item,a=t.name,l=t.features,i={};l.forEach((function(e){var t=e.usage;if(t){i.limit=t.limit,i.unit=t.unit;var a=n.character_magic_item_feature_usages.find((function(e){return e.feature_usage_id===t.id}));i.cmifuId=a.id,i.remaining=t.limit-a.current_usage,i.movements=e.movements,i.source=n.magic_item.name,i.options=t.options,i.cmifuo=n.character_magic_item_feature_usage_options}})),0!==i.remaining&&!i.options||-1!==c||s(0);var o=e.character_info.features.find((function(e){return e.source===i.source}));return console.log(i.options),r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",null,a),r.a.createElement("div",null,r.a.createElement("span",null,i.remaining,"/",i.limit," ",i.unit,"s"),!i.options.length&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,"Adjust Available ",Z.a.capitalize(i.unit),"s: ",c),c+i.remaining<10&&r.a.createElement("button",{onClick:function(){return s(c+1)}},"+"),c+i.remaining>0&&r.a.createElement("button",{onClick:function(){return s(c-1)}},"-")),!!i.options.length&&r.a.createElement(r.a.Fragment,null,i.options.map((function(e){var t=i.cmifuo.find((function(t){return t.feature_usage_option_id===e.id})),a=e.amount-t.current_usage;return 0!==a?r.a.createElement("p",null,a," ",1===e.amount?i.unit:i.unit+"s",": ",e.detail," ",r.a.createElement("button",{onClick:function(){return u(t.id,"character_magic_item_feature_usage_options",i)}},"Expend ",i.unit)):null}))),r.a.createElement("div",null,i.movement&&r.a.createElement("p",null,i.movement.movement," Speed: ",i.movement.feet," ft")),!!c&&!o&&r.a.createElement("button",{onClick:function(){return u(i.cmifuId,"character_magic_items",i)}},c>0?"Restore ".concat(i.unit,"s"):"Activate Feature"),o&&r.a.createElement("button",{onClick:function(){return e.dispatch({type:"ACTIVATED FEATURE",feature:{source:i.source,remove:!0}})}},"Cancel Active Feature")))}())))})),hc=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).findItem=function(){return e.props.character.character_weapons.find((function(t){return t.id===e.props.characterItemID}))},e}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement(K,null,r.a.createElement("div",{className:"page-dimmer",onClick:this.props.clickOut},r.a.createElement("div",{id:"spell-desc",name:"background"},r.a.createElement(pe,{item:this.findItem().weapon,cw:this.findItem(),editModal:this.props.editModal,exitModal:this.props.exitModal}))))}}]),a}(r.a.Component),pc=Object(h.b)((function(e){return{character:e.character,character_info:e.character_info}}))(hc),fc=function(e){var t=function(t){var a="mobile-tab-li";return t===e.mobileTab&&(a+=" mobile-active-tab"),a};return r.a.createElement("nav",{id:"mobile-tabs"},r.a.createElement("ul",{style:{display:"flex",padding:0,margin:0}},r.a.createElement("li",{className:t("adventure"),onClick:function(){return e.changeActiveMobileTab("adventure")}},r.a.createElement(w.a,{icon:_.l,size:"3x"})),r.a.createElement("li",{className:t("combat"),onClick:function(){return e.changeActiveMobileTab("combat")}},r.a.createElement(w.a,{icon:_.k,size:"3x"})),r.a.createElement("li",{className:t("character"),onClick:function(){return e.changeActiveMobileTab("character")}},r.a.createElement(w.a,{icon:_.q,size:"3x"})),r.a.createElement("li",{className:t("settings"),onClick:function(){return e.changeActiveMobileTab("settings")}},r.a.createElement(w.a,{icon:_.g,size:"3x"}))))},gc=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,l=new Array(n),i=0;i<n;i++)l[i]=arguments[i];return(e=t.call.apply(t,[this].concat(l))).state={character:{},modal:!1,display:"Adventure",activeEffects:[],spellId:0,characterItemID:0,cfId:0,toolTip:!1,toolTipX:0,toolTipY:0,detail:"",mobileTab:"adventure",startTime:0,startSwipe:0,drag:!1,changeBackground:!1,justSwipedMobile:!1,offset:0,sidebar:{display:!1,position:"right",content:""}},e.renderAbilityScoreCalc=function(t){var a=Z.a.lowerCase(t),n=e.props.character[a];e.props.character.race.race_ability_score_modifiers.forEach((function(e){t===e.ability_score&&(n+=e.bonus)})),e.props.character.any_bonus===t&&(n+=2),e.props.dispatch({type:"ABILITY SCORE",ability:a,score:n})},e.dispatchClassLevels=function(){var t=[],a=[];e.props.character.character_klasses.forEach((function(n){var r=n.klass_id;if(!a.includes(r)){var l=e.props.character.character_klasses.filter((function(e){return e.klass_id===r})).length,i=e.props.character.uniq_klasses.find((function(e){return e.id===r}));a.push(r);var o={id:r,level:l},c=i.klass_features.find((function(e){return"Spells"===e.name||"Alchemy"===e.name})),s=c?c.spellcasting:null,u=e.props.character.cast_spells.filter((function(e){return e.klass_id===r})),d={};u.map((function(e){return e.spell_level})).forEach((function(e){d[e]?d[e]=d[e]+1:d[e]=1})),o.castSpells=d,o.spellcasting=s;var m=e.props.character.name;"Nettie"===m||"Persephone"===m||"Maddox"===m?o.spellcastingAbility="intelligence":"Sylvester"===m&&(o.spellcastingAbility="charisma"),t.push(o)}})),e.props.dispatch({type:"CHARACTER_CLASSES",classes:t})},e.dispatchAbilityScores=function(){e.renderAbilityScoreCalc("Strength"),e.renderAbilityScoreCalc("Dexterity"),e.renderAbilityScoreCalc("Constitution"),e.renderAbilityScoreCalc("Intelligence"),e.renderAbilityScoreCalc("Wisdom"),e.renderAbilityScoreCalc("Charisma")},e.dispatchAbilityScoreImprovements=function(t){t.forEach((function(t){t.ability_score_improvement&&e.props.dispatch({type:"ABILITY SCORE IMPROVEMENT",ability_score:t.ability_score_improvement})}))},e.renderEdit=function(t,a){fetch("".concat(p,"/api/v1/").concat(a),{method:"PATCH",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(t){console.log(t),e.props.dispatch({type:"CHARACTER",character:t.character}),e.setState({character:t.character,modal:!1},e.dispatchAbilityScores(),e.dispatchClassLevels())}))},e.editModal=function(t,a,n,r){a&&"free"!==a&&e.props.dispatch({type:"TRIGGER ACTION",action:a}),r&&"weapon"===r.name&&e.props.dispatch(r),"spell"===t&&n?e.setState({modal:t,spellId:n}):"magic item"!==t&&"weapon"!==t||!n?"cFeature"===t&&n?e.setState({modal:t,cfId:n,detail:r}):e.setState({modal:t}):e.setState({modal:t,characterItemID:n})},e.editSidebar=function(t,a,n,r){e.setState({sidebar:{display:t,position:a,description:n,content:r}})},e.clickOut=function(t){"page-dimmer"===t.target.classList[0]&&e.setState({modal:!1,spellId:0,characterItemID:0})},e.exitModal=function(){e.setState({modal:!1,spellId:0,characterItemID:0,cfId:0,detail:""})},e.renderTooltip=function(t,a){e.setState({toolTip:!0,toolTipX:t.clientX,toolTipY:t.clientY,toolTipComment:a})},e.mouseOut=function(){console.log("is this being hit?"),e.setState({toolTip:!1,toolTipX:0,toolTipY:0,toolTipComment:null})},e.changeActiveEffects=function(t){if(e.state.activeEffects.includes(t)){var a=e.state.activeEffects.filter((function(e){return e!==t}));e.setState({activeEffects:a})}else e.setState({activeEffects:[].concat(Object(S.a)(e.state.activeEffects),[t])})},e.rightArrow=function(){switch(e.state.display){case"Adventure":return"Character";case"Combat":return"Adventure";case"Character":return"Combat";default:return"Character"}},e.leftArrow=function(){switch(e.state.display){case"Adventure":return"Combat";case"Combat":return"Character";case"Character":return"Adventure";default:return"Combat"}},e.changeActiveMobileTab=function(t){e.setState({mobileTab:t})},e.handleMouseDown=function(t){if(!e.state.justSwipedMobile){var a=new Date;console.log("clicked down on mouse",t.targetTouches[0].clientX),e.setState({startTime:a.getTime(),startSwipe:t.targetTouches[0].clientX,drag:!0})}},e.handleMouseUp=function(t){e.setState({drag:!1,startTime:null,startSwipe:null,offset:0})},e.handleMouseMove=function(t){if(e.state.drag){var a=t.targetTouches[0].clientX,n=(new Date).getTime(),r=e.state.startSwipe-a,l=r/((n-e.state.startTime)/1e3);l>900||l<-900?e.adjustTabs(l):e.setState({offset:r/1.5})}},e.adjustTabs=function(t){var a="";t>0?(a="adventure"===e.state.mobileTab?"combat":a,a="combat"===e.state.mobileTab?"character":a,a="character"===e.state.mobileTab?"settings":a,a="settings"===e.state.mobileTab?"settings":a):t<0&&(a="adventure"===e.state.mobileTab?"adventure":a,a="combat"===e.state.mobileTab?"adventure":a,a="character"===e.state.mobileTab?"combat":a,a="settings"===e.state.mobileTab?"character":a),e.state.justSwipedMobile||e.setState({mobileTab:a,justSwipedMobile:!0,offset:0},(function(){setTimeout((function(){return e.setState({justSwipedMobile:!1})}),150)}))},e.renderHeader=function(){if("false"!==localStorage.computer){return r.a.createElement("div",{id:"character",className:"shrink"},e.state.character.race&&r.a.createElement(Vl,{character:e.state.character,editModal:e.editModal}),r.a.createElement("div",null,r.a.createElement(w.a,{id:"spin",icon:_.g,size:"3x",onClick:function(){return P("rollDice")}}),e.state.character.race&&r.a.createElement(fo,{character:e.state.character,editModal:e.editModal})))}},e.renderCharacter=function(){return"false"!==localStorage.computer?r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{className:"character-show-container"},e.state.character.race&&"Adventure"===e.state.display&&r.a.createElement(Yl,{character:e.state.character,editModal:e.editModal}),e.state.character.race&&"Adventure"===e.state.display&&r.a.createElement(Ai,{character:e.state.character,editModal:e.editModal,exitModal:e.exitModal,characterItemID:e.state.characterItemID}),e.state.character.race&&"Character"===e.state.display&&r.a.createElement(no,{character:e.state.character,editModal:e.editModal}),e.state.character.race&&("Adventure"===e.state.display||"Combat"===e.state.display)&&r.a.createElement(Zl,{character:e.state.character,display:e.state.display,renderTooltip:e.renderTooltip,mouseOut:e.mouseOut}),e.state.character.race&&("Adventure"===e.state.display||"Combat"===e.state.display)&&r.a.createElement(Xl,{character:e.state.character,editModal:e.editModal,display:e.state.display}),e.state.character.race&&("Adventure"===e.state.display||"Combat"===e.state.display)&&r.a.createElement(ti,{character:e.state.character,size:e.props.character_info.size}),e.state.character.race&&"Adventure"===e.state.display&&r.a.createElement(mi,{character:e.state.character,renderTooltip:e.renderTooltip,mouseOut:e.mouseOut}),e.state.character.race&&("Adventure"===e.state.display||"Combat"===e.state.display)&&r.a.createElement(Ki,{character:e.state.character,editModal:e.editModal,clickOut:e.clickOut,renderTooltip:e.renderTooltip,mouseOut:e.mouseOut}),e.state.character.race&&"Adventure"===e.state.display&&r.a.createElement(Qi,null),!!e.state.character&&"Combat"===e.state.display&&r.a.createElement(go,{editModal:e.editModal}),!!e.state.character&&"Combat"===e.state.display&&r.a.createElement(Eo,{activeEffects:e.state.activeEffects,editModal:e.editModal}),!!e.state.character&&"Character"===e.state.display&&r.a.createElement(mo,{editModal:e.editModal}),!!e.state.character&&("Adventure"===e.state.display||"Combat"===e.state.display)&&r.a.createElement(Oo,null),"background"===e.state.modal&&r.a.createElement(Lo,{character:e.state.character,editModal:e.editModal,clickOut:e.clickOut,renderEdit:e.renderEdit}),"character"===e.state.modal&&r.a.createElement(Bo,{character:e.state.character,editModal:e.editModal,clickOut:e.clickOut,renderEdit:e.renderEdit}),"ability"===e.state.modal&&r.a.createElement(Ho,{character:e.state.character,editModal:e.editModal,clickOut:e.clickOut,renderEdit:e.renderEdit}),"notifications"===e.state.modal&&r.a.createElement(oc,{exitModal:e.exitModal,editModal:e.editModal,clickOut:e.clickOut,renderEdit:e.renderEdit,changeActiveEffects:e.changeActiveEffects}),"hitPoints"===e.state.modal&&r.a.createElement(cr,{modal:e.state.modal,exitModal:e.exitModal,editModal:e.editModal,clickOut:e.clickOut,renderEdit:e.renderEdit}),"spell"===e.state.modal&&0!==e.state.spellId&&r.a.createElement(sc,{exitModal:e.exitModal,editModal:e.editModal,clickOut:e.clickOut,spellId:e.state.spellId}),"magic item"===e.state.modal&&0!==e.state.characterItemID&&r.a.createElement(dc,{exitModal:e.exitModal,editModal:e.editModal,clickOut:e.clickOut,characterItemID:e.state.characterItemID}),"cFeature"===e.state.modal&&0!==e.state.cfId&&r.a.createElement(mc,{exitModal:e.exitModal,editModal:e.editModal,clickOut:e.clickOut,cfId:e.state.cfId,detail:e.state.detail}),"weapon"===e.state.modal&&0!==e.state.characterItemID&&r.a.createElement(pc,{exitModal:e.exitModal,editModal:e.editModal,clickOut:e.clickOut,characterItemID:e.state.characterItemID}),"points"===e.state.modal&&r.a.createElement(bo,{exitModal:e.exitModal,editModal:e.editModal,clickOut:e.clickOut}),"performance"===e.state.modal&&r.a.createElement(vo,{exitModal:e.exitModal,editModal:e.editModal,clickOut:e.clickOut}),"frogCombat"===e.state.modal&&r.a.createElement(ko,{exitModal:e.exitModal,editModal:e.editModal,clickOut:e.clickOut}),"rage"===e.state.modal&&r.a.createElement(yo,{exitModal:e.exitModal,editModal:e.editModal,clickOut:e.clickOut}),e.state.toolTip&&r.a.createElement(G,{x:e.state.toolTipX,y:e.state.toolTipY,comment:e.state.toolTipComment}),"command ring"===e.state.modal&&r.a.createElement(wo,{exitModal:e.exitModal,editModal:e.editModal,clickOut:e.clickOut}),"age"===e.state.modal&&r.a.createElement(_o,{exitModal:e.exitModal,editModal:e.editModal,clickOut:e.clickOut}),"curio"===e.state.modal&&r.a.createElement(Co,{exitModal:e.exitModal,editModal:e.editModal,clickOut:e.clickOut}),"poisons"===e.state.modal&&r.a.createElement(So,{exitModal:e.exitModal,editModal:e.editModal,clickOut:e.clickOut}),"reservoir"===e.state.modal&&r.a.createElement(jo,{exitModal:e.exitModal,editModal:e.editModal,clickOut:e.clickOut}),"metamagic"===e.state.modal&&r.a.createElement(Ao,{exitModal:e.exitModal,editModal:e.editModal,clickOut:e.clickOut}),"handy"===e.state.modal&&r.a.createElement(To,{exitModal:e.exitModal,editModal:e.editModal,clickOut:e.clickOut}),"debilitating"===e.state.modal&&r.a.createElement(Io,{exitModal:e.exitModal,editModal:e.editModal,clickOut:e.clickOut}),"ammo"===e.state.modal&&r.a.createElement(No,{exitModal:e.exitModal,editModal:e.editModal,clickOut:e.clickOut}),"sasea"===e.state.modal&&r.a.createElement(Do,{exitModal:e.exitModal,editModal:e.editModal,clickOut:e.clickOut}),"aura"===e.state.modal&&r.a.createElement(Mo,{exitModal:e.exitModal,editModal:e.editModal,clickOut:e.clickOut}),"mutagen"===e.state.modal&&r.a.createElement(xo,{exitModal:e.exitModal,editModal:e.editModal,clickOut:e.clickOut}))):r.a.createElement(r.a.Fragment,null,r.a.createElement("main",{style:{marginBottom:"10vh",minHeight:"90vh",position:"relative",left:0-e.state.offset},onTouchStart:e.handleMouseDown,onTouchMove:e.handleMouseMove,onTouchEnd:e.handleMouseUp},e.state.character.race&&r.a.createElement(Vl,null),e.state.character.race&&"adventure"===e.state.mobileTab&&r.a.createElement(Yl,null),e.state.character.race&&"adventure"===e.state.mobileTab&&r.a.createElement(Ai,{editModal:e.editModal,exitModal:e.exitModal,characterItemID:e.state.characterItemID}),e.state.character.race&&("adventure"===e.state.mobileTab||"combat"===e.state.mobileTab)&&r.a.createElement(Xl,{renderEdit:e.renderEdit,display:e.state.display}),e.state.character.race&&"adventure"===e.state.mobileTab&&r.a.createElement(mi,{renderTooltip:e.renderTooltip,mouseOut:e.mouseOut}),e.state.character.race&&"combat"===e.state.mobileTab&&r.a.createElement("section",{id:"mobile-combat"},r.a.createElement(Zl,{renderTooltip:e.renderTooltip,mouseOut:e.mouseOut}),r.a.createElement(ti,null),r.a.createElement(Vi,null)),e.state.character.race&&"combat"===e.state.mobileTab&&r.a.createElement(Qi,null),e.state.character.race&&"combat"===e.state.mobileTab&&r.a.createElement(Ki,{editModal:e.editModal,clickOut:e.clickOut,renderTooltip:e.renderTooltip,mouseOut:e.mouseOut,editSidebar:e.editSidebar}),e.state.character.race&&"character"===e.state.mobileTab&&r.a.createElement(ui,{editModal:e.editModal}),e.state.sidebar.display&&r.a.createElement(Po,{sidebar:e.state.sidebar,editSidebar:e.editSidebar})),r.a.createElement("footer",null,r.a.createElement(fc,{mobileTab:e.state.mobileTab,changeActiveMobileTab:e.changeActiveMobileTab})))},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=localStorage.getItem("token"),a=parseInt(this.props.location.pathname.split("/")[2]),n=function(e,t){var a=y(e);return a?a.find((function(e){return e.id===t&&Object.keys(e).length>10})):null}(t,a);if(n&&Object.keys(this.state.character).length<1&&(console.log(n),zl(n),this.setState({character:n})),fetch("".concat(p,"/api/v1").concat(this.props.location.pathname)).then((function(e){return e.json()})).then((function(a){n?function(e,t){var a="characters-".concat(e),n=y(e);if(!n)return null;n=n.map((function(e){return e.id!==t.id?e:t}));var r=JSON.stringify(n);v(a,r)}(t,a.character):f(t,[a.character]),zl(a.character),Ae(a.character),e.props.dispatch({type:"SPECIFIC USER",name:a.character.name}),e.setState({character:a.character}),"Merg"===a.character.name&&(e.props.dispatch({type:"ACTIVE ARMOR",name:"+1 chain shirt"}),e.props.dispatch({type:"CREW"})),"Cedrick"===a.character.name&&e.props.dispatch({type:"CREW"}),"Maddox"===a.character.name&&e.props.dispatch({type:"CREW"}),"Robby"===a.character.name&&(e.props.dispatch({type:"ACTIVE ARMOR",name:"Padded"}),e.props.dispatch({type:"HELMSMAN"}))})),localStorage.getItem("theme")){var r=localStorage.getItem("theme"),l=cn.find((function(e){return e.name===r}));l?on(l.colors):localStorage.setItem("theme","Standard")}else localStorage.setItem("theme","Standard")}},{key:"render",value:function(){return r.a.createElement("article",{style:{color:"#".concat(this.props.settings.textColor)}},this.renderHeader(),this.renderCharacter())}}]),a}(r.a.Component),bc=Object(h.b)((function(e){return{character:e.character,character_info:e.character_info,websocket:e.websocket,settings:e.settings}}),(function(e){return{fetchCharacter:Rl,dispatch:e}}))(gc),vc=function(e){var t=null;return e.encounter.id&&(t=r.a.createElement(il,{label:e.encounter.name,renderTabClick:e.renderTabClick,activeTab:e.activeTab})),r.a.createElement("span",{className:"tab-list"},r.a.createElement(il,{label:"Characters",renderTabClick:e.renderTabClick,activeTab:e.activeTab}),r.a.createElement(il,{label:"Item Search",renderTabClick:e.renderTabClick,activeTab:e.activeTab}),r.a.createElement(il,{label:"Details",renderTabClick:e.renderTabClick,activeTab:e.activeTab}),r.a.createElement(il,{label:"Creatures",renderTabClick:e.renderTabClick,activeTab:e.activeTab}),r.a.createElement(il,{label:"Encounters",renderTabClick:e.renderTabClick,activeTab:e.activeTab}),t)},yc=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,l=new Array(n),i=0;i<n;i++)l[i]=arguments[i];return(e=t.call.apply(t,[this].concat(l))).state={searchTerm:"",items:[],loading:!1,didSearch:!1,selectedItem:null,successfulAddition:!1,customData:{name:"",description:"",masterwork:!1,false_desc:"",ammunition_amount:1,known:!1,discovered:!1}},e.renderChange=function(t){e.setState(Object(O.a)({},t.target.name,t.target.value))},e.fetchItem=function(t,a,n){t.preventDefault();var r=Object(j.a)(Object(j.a)({},e.state.customData),{},{character_id:a,item_id:e.state.selectedItem.id});e.setState({successfulAddition:!1}),fetch("".concat(p,"/api/v1/character_").concat(n,"s"),{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(r)}).then((function(e){return e.json()})).then((function(t){404===t.status||500===t.status?console.log(t):(e.setState({successfulAddition:!0,selectedItem:"",customData:{name:"",description:"",masterwork:!1,false_desc:"",ammunition_amount:1,known:!1,discovered:!1}}),Te({message:"Your DM gave you an item!",reciever_id:a,itemType:n,data:t},{dm:!0},{toggleable:!0}))}))},e.fetchItems=function(){e.state.searchTerm.length?fetch("".concat(p,"/api/v1/item_search?q=").concat(e.state.searchTerm)).then((function(e){return e.json()})).then((function(t){e.setState({items:t,loading:!1,didSearch:!0})})):e.setState({items:[]})},e.renderItems=function(){return!e.state.items.length&&e.state.didSearch?r.a.createElement("p",null,"\xaf\\_(\u30c4)_/\xaf"):e.state.items.map((function(t){return r.a.createElement("li",{key:3*t.id-1},r.a.createElement("span",null,t.name),r.a.createElement("span",null,r.a.createElement("button",{onClick:function(){return e.deployItem(t)}},"Add Item")),e.state.successfulAddition&&e.state.selectedItem===t&&r.a.createElement("span",{className:"plus-one"},"+1"))}))},e.renderSelectedItem=function(){if(e.state.selectedItem){var t=e.state.selectedItem,a=t.name,n=t.weapon_type,l=t.max_dex_bonus,i=t.affliction_type,o=t.slot,c=t.ammunition,s="item";n?s="weapon":l?s="armor":i?s="poison":o&&(s="magic_item");var u=r.a.createElement(r.a.Fragment,null,r.a.createElement("label",{htmlFor:"name"},"Is there a specific name for this item? ",r.a.createElement("input",{type:"text",id:"name",name:"name",onChange:e.formHandler,value:e.state.customData.name})),r.a.createElement("br",null),r.a.createElement("label",{htmlFor:"description"},"Is there a detailed description for this item? ",r.a.createElement("input",{type:"text",id:"description",name:"description",onChange:e.formHandler,value:e.state.customData.description})),r.a.createElement("br",null),r.a.createElement("label",{htmlFor:"masterwork"},"Is this item a masterwork or handcrafted item? ",r.a.createElement("input",{type:"checkbox",id:"masterwork",name:"masterwork",onChange:e.formHandler,value:e.state.customData.masterwork})),r.a.createElement("br",null)),d=r.a.createElement(r.a.Fragment,null,r.a.createElement("label",{htmlFor:"false_desc"},"Is there a false description for this Magic Item? ",r.a.createElement("input",{type:"text",id:"false_desc",name:"false_desc",onChange:e.formHandler,value:e.state.customData.false_desc})),r.a.createElement("br",null));return r.a.createElement("div",null,r.a.createElement("h3",null,a),r.a.createElement("div",{style:{marginBottom:"1%",paddingBottom:".8%",borderBottom:"double"}}),r.a.createElement("form",null,"magic_item"===s&&d,("weapon"===s||"armor"===s)&&u,c&&r.a.createElement(r.a.Fragment,null,r.a.createElement("label",{htmlFor:"ammunition_amount"},"How much ammo is this? ",r.a.createElement("input",{type:"number",id:"ammunition_amount",name:"ammunition_amount",onChange:e.formHandler,value:e.state.customData.ammunition_amount})),r.a.createElement("br",null)),r.a.createElement("label",{htmlFor:"known"},"Does the player known what this item is? ",r.a.createElement("input",{type:"checkbox",id:"known",name:"known",onChange:e.formHandler,value:e.state.customData.known})),r.a.createElement("br",null),r.a.createElement("label",{htmlFor:"discovered"},"Has the player discovered that this item is on their character sheet? (Typically, no they need to recieve it in the settings)",r.a.createElement("input",{type:"checkbox",id:"discovered",name:"discovered",onChange:e.formHandler,value:e.state.customData.discovered})),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("p",null,"Give Item to Whom?"),e.props.campaign.characters.map((function(t,a){return r.a.createElement("button",{onClick:function(a){return e.fetchItem(a,t.id,s)}},t.name)}))))}},e.deployItem=function(t){e.setState({selectedItem:t,successfulAddition:!1})},e.formHandler=function(t){var a=Object(j.a)({},e.state.customData),n=t.target.name,r=t.target.value;"name"===n||"description"===n||"false_desc"===n||"ammunition_amount"===n?a[n]=r:"masterwork"!==n&&"known"!==n&&"discovered"!==n||(a[n]=!a[n]),e.setState({customData:a})},e.handle=Z.a.debounce(e.fetchItems,800),e.debouncer=function(){e.handle(),e.state.searchTerm.length?e.setState({loading:!0,selectedItem:null}):e.setState({loading:!1})},e.renderForm=function(){return r.a.createElement("form",null,r.a.createElement("label",null,"Item Search:",r.a.createElement("input",{type:"text",name:"searchTerm",value:e.state.searchTerm,onChange:e.renderChange,onKeyUp:e.debouncer})))},e}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("section",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr"}},r.a.createElement("div",null,this.renderForm(),r.a.createElement("ul",null,this.renderItems())),this.renderSelectedItem())}}]),a}(r.a.Component),Ec=Object(h.b)((function(e){return{currentUser:e.currentUser,admin:e.admin}}))(yc),kc=function(e){Object(h.d)((function(e){return e})).spells;var t=r.a.useState("scroll"),a=Object(U.a)(t,2),n=a[0],l=a[1],i=r.a.useState([]),o=Object(U.a)(i,2),c=o[0],s=o[1],u=r.a.useState([]),d=Object(U.a)(u,2),m=d[0],p=d[1],f=r.a.useState({}),g=Object(U.a)(f,2),b=g[0],v=g[1],y=r.a.useState({}),E=Object(U.a)(y,2),k=E[0],w=E[1],_=r.a.useState({caster_level:1,potion_or_oil:"potion",scroll_type:"arcane",spell_level:0,charges:50,name:"",description:"",known:!1,discovered:!1}),C=Object(U.a)(_,2),S=C[0],O=C[1],A=r.a.useState(""),T=Object(U.a)(A,2),I=T[0],N=T[1],D=r.a.useState(!1),M=Object(U.a)(D,2),x=(M[0],M[1]),F=r.a.useState({}),R=Object(U.a)(F,2),P=(R[0],R[1]);r.a.useEffect((function(){"potion"===n&&0===m.length&&re("potion_spells").then((function(e){p(e),console.log("got em")}))}),[n]);var L=function(){I.length?re("spells?q=".concat(I)).then((function(e){s(e),x(!1)})):s([])},B=function(){var e=Z.a.debounce(L,800);P((function(t){return t.cancel&&t.cancel(),e})),I.length?(x(!0),v({}),e()):x(!1)},H=function(e){var t=e.map((function(e){var t=e.spell_list_spells.map((function(e){return e.spell_level})).sort()[0];return Object(j.a)(Object(j.a)({},e),{},{spell_level:t})})),a=Be(t).map((function(e){return r.a.createElement("tr",null,r.a.createElement("td",null,e.spell_level),r.a.createElement("td",{className:"underline-hover",onClick:function(){return w(e)}},e.name),r.a.createElement("td",null,r.a.createElement("button",{onClick:function(){return v(e)}},"Select")))}));return r.a.createElement("aside",null,r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Lvl"),r.a.createElement("th",null,"Name"),r.a.createElement("th",null)))),r.a.createElement("div",{style:{overflowY:"scroll",height:"70vh"}},r.a.createElement("table",null,r.a.createElement("tbody",null,a))))},W=function(e){var t=Object(j.a)({},S),a=e.target.name,n=e.target.value;"caster_level"===a||"potion_or_oil"===a||"scroll_type"===a||"spell_level"===a||"charges"===a||"name"===a||"description"===a?t[a]=n:"known"!==a&&"discovered"!==a||(t[a]=!t[a]),O(t)};return r.a.createElement("article",null,r.a.createElement(r.a.Fragment,null,r.a.createElement("label",null,r.a.createElement("input",{type:"radio",name:"itemType",value:"scroll",checked:"scroll"===n,onChange:function(){return l("scroll")}}),"Scroll"),r.a.createElement("label",null,r.a.createElement("input",{type:"radio",name:"itemType",value:"potion",checked:"potion"===n,onChange:function(){return l("potion")}}),"Potion"),r.a.createElement("label",null,r.a.createElement("input",{type:"radio",name:"itemType",value:"Wand",checked:"wand"===n,onChange:function(){return l("wand")}}),"Wand")),r.a.createElement("div",{style:{display:"grid",gridTemplateColumns:"1fr 2fr 2fr"}},"potion"===n?H(m):r.a.createElement("div",null,r.a.createElement("label",null,"Item Search:",r.a.createElement("input",{type:"text",name:"searchTerm",value:I,onChange:function(e){return N(e.target.value)},onKeyUp:B})),H(c)),function(){var t=null;return Object.keys(b).length&&("potion"===n&&(t=r.a.createElement("p",null,"You are turning ",r.a.createElement("strong",null,b.name)," into a potion/oil")),"scroll"===n&&(t=r.a.createElement("p",null,"You are writing the ",r.a.createElement("strong",null,b.name)," spell onto a scroll")),"wand"===n&&(t=r.a.createElement("p",null,"You are imbuing the ",r.a.createElement("strong",null,b.name)," spell into a wand"))),r.a.createElement("section",null,t,("potion"===n||"wand"===n)&&r.a.createElement(r.a.Fragment,null,r.a.createElement("label",null,"What is the caster level for this ",n,"? (Typically its the lowest)",r.a.createElement("input",{type:"number",name:"caster_level",value:S.caster_level,onChange:W})),r.a.createElement("br",null)),"potion"===n&&r.a.createElement(r.a.Fragment,null,r.a.createElement("label",null,"Is this a potion or an oil? (Potion is imbibed, oil is applied)",r.a.createElement("input",{type:"text",name:"potion_or_oil",value:S.potion_or_oil,onChange:W})),r.a.createElement("br",null)),"wand"===n&&r.a.createElement(r.a.Fragment,null,r.a.createElement("label",null,"How many charges does this wand have?",r.a.createElement("input",{type:"number",name:"charges",value:S.charges,max:"50",min:"1",onChange:W})),r.a.createElement("br",null)),"scroll"===n&&r.a.createElement(r.a.Fragment,null,r.a.createElement("label",null,"What spell level is this?",r.a.createElement("select",{name:"spell_level",value:S.spell_level,onChange:W},r.a.createElement("option",{value:"0"},"0"),r.a.createElement("option",{value:"1"},"1"),r.a.createElement("option",{value:"2"},"2"),r.a.createElement("option",{value:"3"},"3"),r.a.createElement("option",{value:"4"},"4"),r.a.createElement("option",{value:"5"},"5"),r.a.createElement("option",{value:"6"},"6"),r.a.createElement("option",{value:"7"},"7"),r.a.createElement("option",{value:"8"},"8"),r.a.createElement("option",{value:"9"},"9"))),r.a.createElement("br",null)),"scroll"===n&&r.a.createElement(r.a.Fragment,null,r.a.createElement("label",null,"What kind of magic is inscribed on this scroll",r.a.createElement("select",{name:"scroll_type",value:S.scroll_type,onChange:W},r.a.createElement("option",{value:"arcane"},"Arcane"),r.a.createElement("option",{value:"divine"},"Divine"),r.a.createElement("option",{value:"psychic"},"Psychic"))),r.a.createElement("br",null)),"wand"===n&&r.a.createElement(r.a.Fragment,null,r.a.createElement("label",null,"Does this wand have a name?",r.a.createElement("input",{type:"text",name:"name",value:S.name,onChange:W})),r.a.createElement("br",null)),"wand"===n&&r.a.createElement(r.a.Fragment,null,r.a.createElement("label",null,"What does this wand look like?",r.a.createElement("input",{type:"text",name:"description",value:S.description,onChange:W})),r.a.createElement("br",null)),r.a.createElement("label",null,"Does the player known what this item is? ",r.a.createElement("input",{type:"checkbox",name:"known",onChange:W,value:S.known})),r.a.createElement("br",null),r.a.createElement("label",null,"Has the player discovered that this item is on their character sheet? (Typically, no they need to recieve it in the settings)",r.a.createElement("input",{type:"checkbox",name:"discovered",onChange:W,value:S.discovered})),r.a.createElement("br",null),r.a.createElement("br",null),t?e.campaign.characters.map((function(e,t){return r.a.createElement("button",{onClick:function(t){return function(e,t){e.preventDefault();var a=Object(j.a)(Object(j.a)({},S),{},{character_id:t,spell_id:b.id});le("character_".concat(n,"s"),a).then((function(e){404===e.status||500===e.status?console.log(e):(O({caster_level:1,potion_or_oil:"potion",known:!1,discovered:!1,spell_level:0,scroll_type:"arcane",charges:50,name:"",description:""}),v({}),Te({message:"Your DM gave you an item!",reciever_id:t,itemType:n,data:e},{dm:!0},{toggleable:!0}))}))}(t,e.id)}},e.name)})):r.a.createElement("p",null,"Please pick a spell first!"))}(),Object.keys(k).length>0&&r.a.createElement(Xt,{spell:k})))},wc=function(e){var t=r.a.useState("itemSearch"),a=Object(U.a)(t,2),n=a[0],l=a[1];return r.a.createElement("main",null,function(){var e=function(e){n!==e&&l(e)};return r.a.createElement("nav",null,r.a.createElement("button",{onClick:function(){return e("itemSearch")}},"Item Search"),r.a.createElement("button",{onClick:function(){return e("potionsScrollsWands")}},"Potions, Scrolls, Wands"))}(),function(){switch(n){case"itemSearch":return r.a.createElement(Ec,{campaign:e.campaign});case"potionsScrollsWands":return r.a.createElement(kc,{campaign:e.campaign});default:return null}}())},_c=Object(m.f)(Object(h.b)((function(e){return{currentUser:e.currentUser,admin:e.admin}}))((function(e){var t=e.character,a=t.name,n=t.character_magic_items,l=t.id,i=t.character_potions,o=t.character_scrolls,c=t.character_wands,s=n.filter((function(e){return!e.known})),u=i.filter((function(e){return!e.known})),d=o.filter((function(e){return!e.known})),m=c.filter((function(e){return!e.known})),h=function(t,a,n,r){fetch("".concat(p,"/api/v1/character_magic_items_known/").concat(t),{method:"PATCH",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({current_user:e.currentUser.id,item_type:a})}).then((function(e){return e.json()})).then((function(t){Te({message:"You now know that you have a ".concat(n,"!"),reciever_id:e.character.id,itemType:a,data:Object(j.a)(Object(j.a)({},r),{},{known:!0})},{dm:!0},{knownItem:!0})}))};return r.a.createElement("div",{className:"character-campaign-card"},r.a.createElement("p",null,r.a.createElement("strong",{className:"underline-hover",onClick:function(){return e.history.push("/characters/".concat(l))}},a)),function(){if(s.length||u.length||d.length||m.length)return r.a.createElement(r.a.Fragment,null,r.a.createElement("h4",null,"Unknown Magic Items"),s.map((function(e,t){var a=15+e.magic_item.caster_level;return r.a.createElement("p",{key:3*e.magic_item.id-1},e.magic_item.name," || DC ",a," Spellcraft ",r.a.createElement("button",{onClick:function(){return h(e.id,"magic_item",e.magic_item.name,e)}},"Known"))})),u.map((function(e,t){var a=15+e.caster_level,n="".concat(Z.a.capitalize(e.potion_or_oil)," of ").concat(e.spell.name);return r.a.createElement("p",{key:3*e.spell.id-1},n," || DC ",a," Perception ",r.a.createElement("button",{onClick:function(){return h(e.id,"potion",n,e)}},"Known"))})),d.map((function(e,t){var a=20+e.spell_level,n="Scroll of ".concat(e.spell.name);return r.a.createElement("p",{key:3*e.spell.id-1},n," || DC ",a," Spellcraft ",r.a.createElement("button",{onClick:function(){return h(e.id,"scroll",n,e)}},"Known"))})),m.map((function(e,t){var a=15+e.caster_level,n="Wand of ".concat(e.spell.name);return r.a.createElement("p",{key:3*e.spell.id-1},n," || DC ",a," Spellcraft ",r.a.createElement("button",{onClick:function(){return h(e.id,"wand",n,e)}},"Known"))})))}())}))),Cc=Object(h.b)((function(e){return{currentUser:e.currentUser,admin:e.admin}}))((function(e){return r.a.createElement("div",{className:"flex"},function(){var t;return console.log(e),null===(t=e.campaign.characters)||void 0===t?void 0:t.map((function(e,t){return r.a.createElement(_c,{character:e})}))}())})),Sc=Object(h.b)((function(e){return{currentUser:e.currentUser}}))((function(e){var t=r.a.useState(""),a=Object(U.a)(t,2),n=a[0],l=a[1],i=r.a.useState(""),o=Object(U.a)(i,2),c=o[0],s=o[1],u=r.a.useState(1),d=Object(U.a)(u,2),m=d[0],h=d[1],f=r.a.useState(5),g=Object(U.a)(f,2),b=g[0],v=g[1],y=r.a.useState(5),E=Object(U.a)(y,2),k=E[0],w=E[1],_=r.a.useState({months:[],days:[]}),C=Object(U.a)(_,2),S=C[0],O=C[1];r.a.useEffect((function(){console.log(e);var t=e.campaign,a=t.current_weekday,n=t.current_month,r=t.current_day,i=t.current_age,o=t.current_year;l(a),s(n),h(r),v(i),w(o),zt("calendars/".concat(e.campaign.calendar.id)).then((function(e){O(e)}))}),[e.campaign]);var j=function(e){l(e.target.value)},A=function(e){s(e.target.value)},T=function(e){h(e.target.value)},I=function(e){v(e.target.value)},N=function(e){w(e.target.value)},D=function(t){t.preventDefault(),fetch("".concat(p,"/api/v1/campaigns/").concat(e.campaign.id),{method:"PATCH",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({current_weekday:n,current_month:c,current_day:m,current_age:b,current_year:k})}).then((function(e){return e.json()})).then((function(t){t.error?console.log(t):e.dispatch({type:"UPDATE DATE",date:t})}))};return r.a.createElement(r.a.Fragment,null,function(){var e=S.days.map((function(e){return r.a.createElement("option",{value:e.name},e.name)})),t=S.months.map((function(e){return r.a.createElement("option",{value:e.name},e.name)}));return r.a.createElement("form",null,r.a.createElement("label",null,r.a.createElement("select",{name:"weekday",value:n,onChange:j},e)),r.a.createElement("label",null,r.a.createElement("select",{name:"month",value:c,onChange:A},t)),r.a.createElement("label",null,r.a.createElement("input",{type:"number",name:"day",style:{width:"4%"},value:m,onChange:T})),r.a.createElement("label",null,r.a.createElement("input",{type:"text",name:"age",style:{width:"6%"},value:b,onChange:I})),r.a.createElement("label",null,r.a.createElement("input",{type:"number",name:"year",style:{width:"6%"},value:k,onChange:N})),r.a.createElement("button",{onClick:D},"Change Date"))}())})),Oc=function(e){var t=r.a.useState(1),a=Object(U.a)(t,2),n=a[0],l=a[1],i=r.a.useState([]),o=Object(U.a)(i,2),c=o[0],s=o[1];return r.a.createElement("div",null,r.a.createElement("label",null,"Number of Ideas:",r.a.createElement("input",{type:"number",name:"ideas",value:n,onChange:function(e){var t=e.target.value;l(t)}})),r.a.createElement("button",{onClick:function(){fetch("".concat(p,"/api/v1/ideas/").concat(n)).then((function(e){return e.json()})).then(s)}},"Brainstorm"),r.a.createElement("ul",null,c.map((function(e,t){return r.a.createElement("li",{key:3*t-1},t+1,") ",e)}))))},jc=function(e){var t=r.a.useState(""),a=Object(U.a)(t,2),n=a[0],l=a[1],i=r.a.useState([]),o=Object(U.a)(i,2),c=o[0],s=o[1],u=function(){zt("creatures").then((function(e){s(e)}))};return r.a.createElement("section",null,r.a.createElement("aside",null,r.a.createElement("label",{forhtml:"campaign-creature-search"},r.a.createElement("strong",null,"Creature Search")),r.a.createElement("br",null),r.a.createElement("input",{type:"text",id:"campaign-creature-search",name:"campaign-creature-search",value:n,onChange:function(e){return l(e.target.value)}}),r.a.createElement("button",{onClick:u},"Search")),function(){var t=c.map((function(t){var a=t.challenge_rating;a<1&&(a="1/".concat(Math.ceil(1/a)));var n=e.addCreature?r.a.createElement("button",{onClick:function(){return e.addCreature(t)}},"Add"):null;return r.a.createElement(r.a.Fragment,null,r.a.createElement("li",{onClick:function(){return e.displayCreature(t)}},"CR ",a," | ",r.a.createElement("strong",null,t.name)," | ",t.size," ",t.creature_type.name),n)}));return r.a.createElement("ul",null,t)}())},Ac=function(e){var t=r.a.useState(null),a=Object(U.a)(t,2),n=a[0],l=a[1];return r.a.createElement("main",{id:"campaign-show-creatures"},r.a.createElement(jc,{displayCreature:function(e){(null===n||void 0===n?void 0:n.id)===e.id?l(null):l(e)}}),n&&r.a.createElement($a,{creature:n}))},Tc=function(e){return r.a.createElement("aside",null,r.a.createElement("button",{className:"block-list-btn",onClick:function(){return e.toggleEncounterForm(!0)}},"+ Create Encounter"),function(){var t=1;return e.encounters.map((function(a){var n=a.name.length>0?a.name:"Untitled Encounter ".concat(t++);return r.a.createElement("button",{className:"block-list-btn",onClick:function(t){return e.selectedEncounter(t,a)}},n)}))}())},Ic=(F.getState,F.dispatch),Nc=function(e){var t=r.a.useState({name:"",notes:""}),a=Object(U.a)(t,2),n=a[0],l=a[1],i=r.a.useState([]),o=Object(U.a)(i,2),c=o[0],s=o[1];r.a.useEffect((function(){e.editingEncounter&&(l({name:e.editingEncounter.name,notes:e.editingEncounter.notes}),s(e.editingEncounter.creatures))}),[e.editingEncounter]);var u=function(e){var t=Object(j.a)(Object(j.a)({},n),{},Object(O.a)({},e.target.name,e.target.value));l(t)},d=function(){var e=c.map((function(e){var t=e.creature.challenge_rating;t<1&&(t="1/".concat(Math.ceil(1/t)));var a=r.a.createElement("button",{onClick:function(t){return function(e,t,a){e.preventDefault();var n=Object(S.a)(c);n=a>1?n.map((function(e){return e.creature.id===t.id?{creature:e.creature,count:e.count-1}:e})):n.filter((function(e){return e.creature.id!==t.id})),s(n)}(t,e.creature,e.count)}},"Subtract");return r.a.createElement(r.a.Fragment,null,r.a.createElement("li",{onClick:function(){return P("statBlock",e.creature)}},"CR ",t," | ",r.a.createElement("strong",null,e.creature.name)," | ",e.creature.size," ",e.creature.creature_type.name," ",e.count>1?r.a.createElement("strong",null,"x",e.count):null),a)}));return r.a.createElement("ul",{style:{gridArea:"creatures"}},e)},m=function(e){e.preventDefault();var t=window.location.href.split("campaigns/")[1],a=Object(j.a)(Object(j.a)({},n),{},{creatures:c,campaign_id:t});le("encounters",a).then((function(e){e.response||console.log("Unable to create encounter")}))},h=function(t){t.preventDefault();var a=Object(j.a)(Object(j.a)({},n),{},{creatures:c});ie("encounters/".concat(e.editingEncounter.id),a).then((function(t){t.response?(!function(e,t){Ic({type:"UPDATE ENCOUNTER",campaignId:e,encounter:t})}(window.location.href.split("campaigns/")[1],Object(j.a)(Object(j.a)({},a),{},{id:e.editingEncounter.id})),e.resolveEditEncounter(Object(j.a)(Object(j.a)({},a),{},{id:e.editingEncounter.id}))):console.log("Unable to update encounter")}))};return r.a.createElement(r.a.Fragment,null,r.a.createElement("main",null,function(){var t=e.editingEncounter?r.a.createElement("button",null,"Update Encounter"):r.a.createElement("button",null,"Create Encounter"),a=e.editingEncounter?h:m;return r.a.createElement("form",{id:"campaign-new-encounter",onSubmit:a},r.a.createElement("label",{style:{gridArea:"name"}},r.a.createElement("strong",null,"Encounter Name "),r.a.createElement("input",{type:"text",name:"name",value:n.name,onChange:u})),r.a.createElement("button",{style:{gridArea:"close"},onClick:function(){return e.toggleEncounterForm(!1)}},"X"),r.a.createElement("label",{style:{gridArea:"notes"}},"Notes",r.a.createElement("textarea",{type:"text",name:"notes",rows:"10",cols:"60",value:n.notes,onChange:u})),d(),t)}()),r.a.createElement("aside",null,r.a.createElement(jc,{displayCreature:function(e){return P("statBlock",e)},addCreature:function(e){var t=c.find((function(t){return t.creature.id===e.id})),a=Object(S.a)(c);t?a=a.map((function(t){return t.creature.id===e.id?{creature:t.creature,count:t.count+1}:t})):a.push({creature:e,count:1}),s(a)}})))},Dc=(F.getState,F.dispatch),Mc=function(e){var t=function(t){t.preventDefault(),Yt("encounters/".concat(e.encounter.id)).then((function(t){var a=window.location.pathname;!function(e,t){Dc({type:"REMOVE ENCOUNTER",campaignId:e,encounterId:t})}(parseInt(a.substring(a.lastIndexOf("/")+1)),e.encounter.id)}))};return r.a.createElement(r.a.Fragment,null,r.a.createElement("main",{id:"campaign-show-encounter"},function(){var a=e.encounter,n=a.name,l=(a.notes,a.description,a.creatures),i=[];return l.forEach((function(e){var t=e.creature,a=t.name,n=t.size,l=t.creature_type,o=t.challenge_rating;o<1&&(o="1/".concat(Math.ceil(1/o)));for(var c=r.a.createElement("li",{onClick:function(){return bt("statBlock",e.creature)}},"CR ",o," | ",r.a.createElement("strong",null,a)," | ",n," ",l.name),s=1;s<=e.count;s++)i.push(c)})),r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",{style:{gridArea:"name"}},n||"Untited Encounter"),r.a.createElement("div",{style:{gridArea:"buttons"}},r.a.createElement("button",{onClick:function(t){return e.startEncounter(t,e.encounter)}},"Start Encounter"),r.a.createElement("button",{onClick:function(){return e.editEncounter(e.encounter)}},"Edit"),r.a.createElement("button",{onClick:t},"Delete")),r.a.createElement("div",{style:{gridArea:"creatures"}},i))}()))},xc=function(e){var t=r.a.useState(!1),a=Object(U.a)(t,2),n=a[0],l=a[1],i=r.a.useState({}),o=Object(U.a)(i,2),c=o[0],s=o[1],u=r.a.useState(null),d=Object(U.a)(u,2),m=d[0],h=d[1];return r.a.createElement("main",{id:"campaign-show-encounters"},r.a.createElement(Tc,{toggleEncounterForm:function(e){s({}),l(e)},encounters:e.encounters,selectedEncounter:function(e,t){e.preventDefault(),c.id!==t.id?(s(t),l(!1)):s({})}}),n&&r.a.createElement(Nc,{toggleEncounterForm:l,editingEncounter:m,resolveEditEncounter:function(e){h(null),s(e),l(!1)}}),c.id&&r.a.createElement(Mc,{encounter:c,editEncounter:function(e){h(e),s({}),l(!0)},startEncounter:e.startEncounter}))},Fc=function(e){var t=r.a.useState([]),a=Object(U.a)(t,2),n=a[0],l=a[1],i=r.a.useState(!1),o=Object(U.a)(i,2),c=o[0];o[1];r.a.useEffect((function(){var t=e.creatures.map((function(e){return Object(j.a)(Object(j.a)({},e),{},{initiative:null})}));l(t)}),[e.creatures]);var s=function(){Te({message:"Combat is starting! Please roll initiative!",askForInitiative:!0},{dm:!0})};return r.a.createElement("ul",null,function(){var t=[],a=n.filter((function(e){return null===e.initiative}));t.push.apply(t,Object(S.a)(a));var l=n.filter((function(e){return"number"===typeof e.initiative})).sort((function(e,t){return e.initiative>t.initiative}));t.push.apply(t,Object(S.a)(l));var i=[];return t.forEach((function(t){for(var a=null!==t.initiative?t.initiative:r.a.createElement("input",{type:"number",placeholder:"-"}),n=0;n<t.count;n++){var l=Ga(t.creature.hit_dice,t.creature.creature_type.hit_die,t.creature.constitution);i.push(r.a.createElement("li",null,r.a.createElement("strong",{onClick:function(){return e.seeDetails(t.creature)}},t.creature.name)," | Init: ",a," | HP: ",l))}})),c||i.push(r.a.createElement("button",{onClick:s},"Ask Players for Initiative (Start Connection)")),i}())},Rc=function(e){var t=Object(h.d)((function(e){return e.activeEncounter})),a=r.a.useState({}),n=Object(U.a)(a,2),l=n[0],i=n[1];return r.a.createElement("main",{id:"campaign-show-active-encounter"},r.a.createElement(Fc,{creatures:t.creatures,seeDetails:function(e){l.id===e.id?i({}):i(e)},campaign:e.campaign}),l.id&&r.a.createElement("aside",null,r.a.createElement($a,{creature:l})),r.a.createElement("p",null,"I'm your active encounter"),r.a.createElement("button",{onClick:e.endEncounter},"End"),r.a.createElement("button",null,"Delete"))},Pc=(F.getState,F.dispatch),Lc=Object(h.b)((function(e){return{currentUser:e.currentUser,admin:e.admin,activeEncounter:e.activeEncounter}}))((function(e){var t=r.a.useState("Characters"),a=Object(U.a)(t,2),n=a[0],l=a[1],i=e.history.location.pathname,o=parseInt(i.substring(i.lastIndexOf("/")+1)),c=!!e.currentUser&&e.currentUser.campaigns.find((function(e){return e.id===o}));r.a.useEffect((function(){c&&Ae(null,{dm:!0,websocketCode:c.websocket_code})}),[c]);var s=function(e,t){e.preventDefault(),l(t.name),Ae(null,{dm:!0,websocketCode:c.websocket_code,askForInitiative:!0}),Pc({type:"START ENCOUNTER",encounter:t})},u=function(e){e.preventDefault(),l("Encounters"),Pc({type:"END ENCOUNTER"})};return e.currentUser?r.a.createElement(r.a.Fragment,null,function(){var t,a=null;switch(n){case"Characters":a=r.a.createElement(r.a.Fragment,null,r.a.createElement(Cc,{campaign:c}));break;case"Item Search":a=r.a.createElement(wc,{campaign:c});break;case"Details":a=r.a.createElement(r.a.Fragment,null,r.a.createElement("article",null,r.a.createElement("span",null,r.a.createElement("p",null,"Setting: ",c.setting)),r.a.createElement("span",null,r.a.createElement("p",null,"Theme: ",c.theme)),r.a.createElement("span",null,r.a.createElement("p",null,"notes: ",c.custom_notes))),r.a.createElement(Sc,{campaign:c}),r.a.createElement(Oc,null));break;case"Creatures":a=r.a.createElement(Ac,null);break;case"Encounters":a=r.a.createElement(xc,{encounters:c.encounters,startEncounter:s});break;case"".concat(null!==(t=e.activeEncounter.name)&&void 0!==t?t:null):a=r.a.createElement(Rc,{endEncounter:u,campaign:c})}return r.a.createElement("section",{style:{margin:"1em"}},r.a.createElement("h1",null,c.name),r.a.createElement(vc,{renderTabClick:l,activeTab:n,encounter:e.activeEncounter}),a)}()):null})),Bc=function(e){var t=r.a.useState(!1),a=Object(U.a)(t,2),n=a[0],l=a[1],i=null;if(n){var o,c=e.classes.sort((function(e,t){return e.source.code>=t.source.code?1:-1})),s=Z.a.uniq(c.map((function(e){return e.source.title}))),u=s.filter((function(e){return"Custom"!==e}));u.length+1===s.length&&(s=u).push("Custom"),console.log(s),o=s.map((function(t,a){var n=e.classes.filter((function(e){return e.source.title===t})).map((function(t){return r.a.createElement("span",{key:3*t.id-1},r.a.createElement("input",{type:"checkbox",id:t.name,name:t.name,value:t.id,checked:e.selectedClassIds.includes(t.id),onChange:function(){return d(t.id)}}),r.a.createElement("label",{htmlFor:t.name}," ",t.name))}));return r.a.createElement("section",{key:3*a+1},r.a.createElement("h4",null,t,":"),r.a.createElement("section",{className:"form-races-checkbox-options"},n))})),i=r.a.createElement("div",{id:"new-campaign-form-all-races"},o)}var d=function(t){var a=e.selectedClassIds.filter((function(e){return e!==t}));a.length===e.selectedClassIds.length&&a.push(t),e.updateSelectedClassIds(a)},m=function(){n||e.updateSelectedClassIds(e.classes.map((function(e){return e.id}))),l(!n)};return r.a.createElement("section",{id:"new-campaign-form-classes",className:"standard-container-bubble"},r.a.createElement("h3",{style:{marginBottom:"0"}},"Available Classes"),e.classes.length?r.a.createElement(r.a.Fragment,null,r.a.createElement("input",{type:"checkbox",id:"all-classes",name:"all-classes",value:"All",checked:!n,onChange:m}),r.a.createElement("label",{htmlFor:"all-classes"}," All Classes"),r.a.createElement("br",null),i):r.a.createElement(r.a.Fragment,null,e.loadingDie))},Hc=function(e){var t=r.a.useState(!1),a=Object(U.a)(t,2),n=a[0],l=a[1],i=null;if(n){var o,c=e.races.sort((function(e,t){return e.source.code>=t.source.code?1:-1})),s=Z.a.uniq(c.map((function(e){return e.source.title}))),u=s.filter((function(e){return"Custom"!==e}));u.length+1===s.length&&(s=u).push("Custom"),console.log(s),o=s.map((function(t,a){var n=e.races.filter((function(e){return e.source.title===t})).map((function(t){return r.a.createElement("span",{key:3*t.id-1},r.a.createElement("input",{type:"checkbox",id:t.name,name:t.name,value:t.id,checked:e.selectedRaceIds.includes(t.id),onChange:function(){return d(t.id)}}),r.a.createElement("label",{htmlFor:t.name}," ",t.name))}));return r.a.createElement("section",{key:3*a+1},r.a.createElement("h4",null,t,":"),r.a.createElement("section",{className:"form-races-checkbox-options"},n))})),i=r.a.createElement("div",{id:"new-campaign-form-all-races"},o)}var d=function(t){var a=e.selectedRaceIds.filter((function(e){return e!==t}));a.length===e.selectedRaceIds.length&&a.push(t),e.updateSelectedRaceIds(a)},m=function(){n||e.updateSelectedRaceIds(e.races.map((function(e){return e.id}))),l(!n)};return r.a.createElement("section",{id:"new-campaign-form-races",className:"standard-container-bubble"},r.a.createElement("h3",{style:{marginBottom:"0"}},"Available Ancestries"),e.races.length?r.a.createElement(r.a.Fragment,null,r.a.createElement("input",{type:"checkbox",id:"all-races",name:"all-races",value:"All",checked:!n,onChange:m}),r.a.createElement("label",{htmlFor:"all-races"}," All Ancestries"),r.a.createElement("br",null),i):r.a.createElement(r.a.Fragment,null,e.loadingDie))},Wc=function(e){var t=r.a.useState(!1),a=Object(U.a)(t,2),n=(a[0],a[1],r.a.useState(!1)),l=Object(U.a)(n,2),i=(l[0],l[1],null);if("0"!==e.selectedCalendarId){var o=e.calendars.find((function(t){return t.id===parseInt(e.selectedCalendarId)}));console.log(o);e.selectedMonth&&o.months.find((function(t){return t.name===e.selectedMonth}));i=r.a.createElement("p",{id:"new-campaign-starting-date"},r.a.createElement("strong",{style:{gridArea:"start"}},"Starting Date:"),r.a.createElement("label",{htmlFor:"new-campaign-calender-month",name:"new-campaign-calender-month"},"Month:"),r.a.createElement("select",{id:"new-campaigin-calendar-month",name:"new-campaign-calendar-month",value:e.selectedMonth,onChange:function(t){return e.updateMonth(t.target.value)}},r.a.createElement("option",{value:""},"Month"),o.months.map((function(e,t){return r.a.createElement("option",{key:3*e.id-1,value:e.name},t+1,". ",e.name," (",e.num_of_days?e.num_of_days:"??"," days)")}))),r.a.createElement("label",{htmlFor:"new-campaign-calender-day",name:"new-campaign-calender-day"},"Weekday:"),r.a.createElement("select",{id:"new-campaigin-calendar-day",name:"new-campaign-calendar-day",value:e.selectedDay,onChange:function(t){return e.updateDay(t.target.value)}},r.a.createElement("option",{value:""},"Day"),o.days.map((function(e,t){return r.a.createElement("option",{key:3*e.id-1,value:e.name},t+1,". ",e.name)}))),r.a.createElement("label",{htmlFor:"new-campaign-calendar-day-number",name:"new-campaign-calendar-day-number"},"Day:"),r.a.createElement("input",{type:"number",id:"new-campaign-calendar-day-number",name:"new-campaign-calendar-day-number",value:e.selectedDayNumber,onChange:function(t){return e.updateDayNumber(t.target.value)}}),r.a.createElement("label",{htmlFor:"new-campaign-calendar-year",name:"new-campaign-calendar-year"},"Year:"),r.a.createElement("input",{type:"number",id:"new-campaign-calendar-year",name:"new-campaign-calendar-year",value:e.selectedYear,onChange:function(t){return e.updateYear(t.target.value)}}),r.a.createElement("label",{htmlFor:"new-campaign-calendar-age",name:"new-campaign-calendar-age"},"Age:"),r.a.createElement("input",{type:"text",id:"new-campaign-calendar-age",name:"new-campaign-calendar-age",value:e.selectedAge,placeholder:"3rd Age, Cenozoic Period, BCE, etc.",onChange:function(t){return e.updateAge(t.target.value)}}))}return r.a.createElement("section",{id:"new-campaign-form-calendar",className:"standard-container-bubble"},r.a.createElement("label",{htmlFor:"new-campaign-calendar"},r.a.createElement("h3",null,"Calendar")),e.calendars.length?r.a.createElement(r.a.Fragment,null,r.a.createElement("select",{id:"new-campaigin-calendar",name:"new-campaign-calendar",value:e.selectedCalendarId,onChange:function(t){return e.updateSelectedCalendarId(t.target.value)}},r.a.createElement("option",{value:"0"},"Select A Calendar"),e.calendars.map((function(e){return r.a.createElement("option",{key:3*e.id-1,value:e.id},e.name)}))),i):r.a.createElement(r.a.Fragment,null,e.loadingDie))},qc=function(e){var t=r.a.useState(!1),a=Object(U.a)(t,2),n=a[0],l=a[1],i=r.a.useState(!1),o=Object(U.a)(i,2),c=o[0],s=o[1],u=r.a.useState(!1),d=Object(U.a)(u,2),m=d[0],h=d[1],p=r.a.useRef(null),f=r.a.useRef(null),g=r.a.useRef(null);return r.a.createElement("section",{id:"new-campaign-form-setting",className:"standard-container-bubble"},r.a.createElement("p",{style:{textAlign:"left"}},r.a.createElement("label",{htmlFor:"new-campaign-name",onClick:function(){return l(!0)}},r.a.createElement("strong",{style:{fontSize:"1.2rem",fontFamily:"Lato,'Helvetica Neue',Arial,Helvetica,sans-serif",color:n&&"grey"}},"Campaign Name")),": ",r.a.createElement("strong",null,e.name),n&&r.a.createElement("input",{type:"text",ref:p,id:"new-campaign-name",name:"new-campaign-name",value:e.name,style:{position:"absolute",top:"-25px"},onChange:function(t){return e.setName(t.target.value)},onBlur:function(){return l(!1)}})),r.a.createElement("p",{style:{textAlign:"left"}},r.a.createElement("label",{htmlFor:"new-campaign-setting",onClick:function(){return s(!0)}},r.a.createElement("strong",{style:{fontSize:"1.2rem",fontFamily:"Lato,'Helvetica Neue',Arial,Helvetica,sans-serif",color:c&&"grey"}},"Setting")),": ",r.a.createElement("strong",null,e.setting),c&&r.a.createElement("input",{type:"text",ref:f,id:"new-campaign-setting",name:"new-campaign-setting",value:e.setting,style:{position:"absolute",top:"-25px"},onChange:function(t){return e.setSetting(t.target.value)},onBlur:function(){return s(!1)}})),r.a.createElement("p",{style:{textAlign:"left"}},r.a.createElement("label",{htmlFor:"new-campaign-theme",onClick:function(){return h(!0)}},r.a.createElement("strong",{style:{fontSize:"1.2rem",fontFamily:"Lato,'Helvetica Neue',Arial,Helvetica,sans-serif",color:m&&"grey"}},"Theme")),": ",r.a.createElement("strong",{style:{fontWeight:"bold"}},e.theme),m&&r.a.createElement("input",{type:"text",ref:g,id:"new-campaign-theme",name:"new-campaign-theme",value:e.theme,style:{position:"absolute",top:"-25px"},onChange:function(t){return e.setTheme(t.target.value)},onBlur:function(){return h(!1)}})))},zc=function(e){var t=r.a.useState(!1),a=Object(U.a)(t,2),n=a[0],l=a[1],i=r.a.useState(!1),o=Object(U.a)(i,2),c=o[0],s=o[1],u=r.a.useRef(null),d=r.a.useRef(null),m=1;if(d.current)for(var h=!0,p=d.current.value.length,f=d.current.offsetWidth/7.5;h;)p>f?(p-=f,m++):h=!1;return r.a.createElement("section",{id:"new-campaign-form-details",className:"standard-container-bubble"},r.a.createElement("p",{style:{textAlign:"left"}},r.a.createElement("label",{htmlFor:"new-campaign-starting-level",onClick:function(){return l(!0)}},r.a.createElement("strong",{style:{fontSize:"1.2rem",fontFamily:"Lato,'Helvetica Neue',Arial,Helvetica,sans-serif",color:n&&"grey"}},"Starting Level")),": ",r.a.createElement("strong",null,e.startingLvl),n&&r.a.createElement("input",{type:"number",ref:u,id:"new-campaign-starting-level",name:"new-campaign-starting-level",value:e.startingLvl,min:"1",max:"20",style:{position:"absolute",top:"-25px"},onChange:function(t){return e.setStartingLvl(t.target.value)},onBlur:function(){return l(!1)}}),e.startingLvlError&&r.a.createElement("span",{id:"decay-animation"}," Level must be between 1 and 20")),r.a.createElement("p",{style:{textAlign:"left"}},r.a.createElement("label",{htmlFor:"new-campaign-skillset"},r.a.createElement("strong",{style:{fontSize:"1.2rem",fontFamily:"Lato,'Helvetica Neue',Arial,Helvetica,sans-serif"}},"Skillset:")),!!e.skillsets.length&&r.a.createElement("select",{id:"new-campaigin-skillset",name:"new-campaign-skillset",value:e.selectedSkillsetId,onChange:function(t){return e.updateSelectedSkillsetId(t.target.value)}},r.a.createElement("option",{value:"0"},"Select A Skillset"),e.skillsets.map((function(e){return r.a.createElement("option",{key:3*e.id-1,value:e.id},e.name," (",e.skills.length,")")}))),function(){if(parseInt(e.selectedSkillsetId)){var t=e.skillsets.find((function(t){return t.id==e.selectedSkillsetId}));return r.a.createElement("span",{onClick:function(){return e.editSidebar(!0,"bottom","skillset",t)}},"More Info")}}(),!e.skillsets.length&&r.a.createElement(r.a.Fragment,null,e.loadingDie)),r.a.createElement("p",{style:{textAlign:"left"}},r.a.createElement("label",{htmlFor:"new-campaign-custom-notes",onClick:function(){return s(!0)}},r.a.createElement("strong",{style:{fontSize:"1.2rem",fontFamily:"Lato,'Helvetica Neue',Arial,Helvetica,sans-serif",color:c&&"grey"}},"Custom Notes")),":",r.a.createElement("br",null),r.a.createElement("textarea",{type:"text",ref:d,id:"new-campaign-custom-notes",name:"new-campaign-custom-notes",value:e.customNotes,style:{background:"none",border:"none",width:"100%",color:"#0f52ba",overflowWrap:"break-word"},rows:m,onChange:function(t){return e.setCustomNotes(t.target.value)},onBlur:function(){s(!1),e.toggleVirtualKeyboard(!1)},onFocus:function(){return e.toggleVirtualKeyboard(!0)}})))},Uc=Object(m.f)(Object(h.b)((function(e){return{currentUser:e.currentUser,admin:e.admin}}))((function(e){var t=r.a.useState([]),a=Object(U.a)(t,2),n=a[0],l=a[1],i=r.a.useState([]),o=Object(U.a)(i,2),c=o[0],s=o[1],u=r.a.useState([]),d=Object(U.a)(u,2),m=d[0],h=d[1],f=r.a.useState([]),g=Object(U.a)(f,2),b=g[0],v=g[1],y=r.a.useState([]),E=Object(U.a)(y,2),k=E[0],C=E[1],S=r.a.useState([]),O=Object(U.a)(S,2),j=O[0],A=O[1],T=r.a.useState("0"),I=Object(U.a)(T,2),N=I[0],D=I[1],M=r.a.useState("0"),x=Object(U.a)(M,2),F=x[0],R=x[1],P=r.a.useState(""),L=Object(U.a)(P,2),B=L[0],H=L[1],W=r.a.useState(""),q=Object(U.a)(W,2),z=q[0],G=q[1],Y=r.a.useState(0),K=Object(U.a)(Y,2),V=K[0],J=K[1],Q=r.a.useState(0),Z=Object(U.a)(Q,2),X=Z[0],$=Z[1],ee=r.a.useState(""),te=Object(U.a)(ee,2),ae=te[0],ne=te[1],re=r.a.useState(""),le=Object(U.a)(re,2),ie=le[0],oe=le[1],ce=r.a.useState(""),se=Object(U.a)(ce,2),ue=se[0],de=se[1],me=r.a.useState(""),he=Object(U.a)(me,2),pe=he[0],fe=he[1],ge=r.a.createElement(w.a,{icon:_.g,className:"spinning-die"}),be=r.a.useState(1),ve=Object(U.a)(be,2),ye=ve[0],Ee=ve[1],ke=r.a.useState(!1),we=Object(U.a)(ke,2),_e=we[0],Ce=we[1],Se=r.a.useState(""),Oe=Object(U.a)(Se,2),je=Oe[0],Ae=Oe[1],Te=r.a.useState(!1),Ie=Object(U.a)(Te,2),Ne=Ie[0],De=Ie[1],Me=r.a.useState({display:!1}),xe=Object(U.a)(Me,2),Fe=xe[0],Re=xe[1];r.a.useEffect((function(){fetch("".concat(p,"/api/v1/campaigns/new")).then((function(e){return e.json()})).then((function(e){console.log(e),l(e.calendars),s(e.races),h(e.klasses),v(e.skillsets),C(e.races.map((function(e){return e.id}))),A(e.klasses.map((function(e){return e.id})))}))}),[]);var Pe=function(t){ye>=1&&ye<=20?(t.preventDefault(),fetch("".concat(p,"/api/v1/campaigns/new"),{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({name:ie,theme:pe,setting:ue,customNotes:je,calendar_id:N,race_ids:k,klass_ids:j,skillset_id:F,dm_id:e.currentUser.id,starting_level:ye,month:B,weekday:z,day:V,year:X,age:ae})}).then((function(e){return e.json()})).then((function(t){e.history.push("/campaigns/".concat(t.id))}))):Le(0)},Le=function(e){e>=1&&e<=20?(Ee(e),Ce(!1)):(""===e&&Ee(e),Ce(!0),setTimeout((function(){return Ce(!1)}),2900))},Be=function(e,t,a,n){Re({display:e,position:t,description:a,content:n})};return r.a.createElement(r.a.Fragment,null,r.a.createElement(r.a.Fragment,null,r.a.createElement("form",{id:"new-campaign-form",onSubmit:Pe},r.a.createElement(qc,{name:ie,setName:oe,theme:pe,setTheme:fe,setting:ue,setSetting:de}),r.a.createElement(Wc,{calendars:n,selectedCalendarId:N,updateSelectedCalendarId:D,selectedMonth:B,updateMonth:H,selectedDay:z,updateDay:G,selectedDayNumber:V,updateDayNumber:J,selectedYear:X,updateYear:$,selectedAge:ae,updateAge:ne,loadingDie:ge}),r.a.createElement(Hc,{races:c,selectedRaceIds:k,updateSelectedRaceIds:C,loadingDie:ge}),r.a.createElement(Bc,{classes:m,selectedClassIds:j,updateSelectedClassIds:A,loadingDie:ge}),r.a.createElement(zc,{startingLvl:ye,setStartingLvl:Le,startingLvlError:_e,customNotes:je,setCustomNotes:Ae,toggleVirtualKeyboard:De,skillsets:b,selectedSkillsetId:F,updateSelectedSkillsetId:R,loadingDie:ge,editSidebar:Be}),r.a.createElement("section",{id:"new-campaign-form-submit",style:{display:Ne?"none":"block"}},r.a.createElement("input",{type:"submit",value:"Create Campaign"}))),Fe.display&&r.a.createElement(Po,{sidebar:Fe,editSidebar:Be})))}))),Gc=function(e){var t=Object(h.d)((function(e){return e.settings}));t.layout,t.colorTheme;return r.a.createElement("section",{id:"character-details-details-brief",className:"section-background"},function(){var t=e.character,a=t.name,n=t.alignment,l=t.deity,i=t.homeland,o=t.race,c=t.gender,s=t.age,u=t.height,d=t.weight,m=t.hair,h=t.eyes;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"character-details-details-brief-name fill-space"},r.a.createElement("p",{className:"underline-input-field user-data"},a||""),r.a.createElement("div",{className:"underline-description"},"Character Name")),r.a.createElement("div",{className:"character-details-details-brief-alignment fill-space"},r.a.createElement("p",{className:"underline-input-field user-data"},Ye(n)||""),r.a.createElement("div",{className:"underline-description"},"Alignment")),r.a.createElement("div",{className:"character-details-details-brief-character-level fill-space"},r.a.createElement("p",{className:"underline-input-field user-data"},function(e){var t=e.class_obj,a=e.uniq_klasses,n="";return t.forEach((function(e){var t=a.find((function(t){return t.id===e.klass_id}));n.length>0&&(n+=" "),n+=t.name+" "+e.level})),n}(e.character)||""),r.a.createElement("div",{className:"underline-description"},"Character Level")),r.a.createElement("div",{className:"character-details-details-brief-deity fill-space"},r.a.createElement("p",{className:"underline-input-field user-data"},l||""),r.a.createElement("div",{className:"underline-description"},"Diety")),r.a.createElement("div",{className:"character-details-details-brief-homeland fill-space"},r.a.createElement("p",{className:"underline-input-field user-data"},i||""),r.a.createElement("div",{className:"underline-description"},"Homeland")),r.a.createElement("div",{className:"character-details-details-brief-race fill-space"},r.a.createElement("p",{className:"underline-input-field user-data"},o.name||""),r.a.createElement("div",{className:"underline-description"},"Race")),r.a.createElement("div",{className:"character-details-details-brief-size fill-space"},r.a.createElement("p",{className:"underline-input-field user-data"},Ye(o.size)||""),r.a.createElement("div",{className:"underline-description"},"Size")),r.a.createElement("div",{className:"character-details-details-brief-gender fill-space"},r.a.createElement("p",{className:"underline-input-field user-data"},c||""),r.a.createElement("div",{className:"underline-description"},"Gender")),r.a.createElement("div",{className:"character-details-details-brief-age fill-space"},r.a.createElement("p",{className:"underline-input-field user-data"},s||""),r.a.createElement("div",{className:"underline-description"},"Age")),r.a.createElement("div",{className:"character-details-details-brief-height fill-space"},r.a.createElement("p",{className:"underline-input-field user-data"},u||""),r.a.createElement("div",{className:"underline-description"},"Height")),r.a.createElement("div",{className:"character-details-details-brief-weight fill-space"},r.a.createElement("p",{className:"underline-input-field user-data"},d||""),r.a.createElement("div",{className:"underline-description"},"Weight")),r.a.createElement("div",{className:"character-details-details-brief-hair fill-space"},r.a.createElement("p",{className:"underline-input-field user-data"},m||""),r.a.createElement("div",{className:"underline-description"},"Hair")),r.a.createElement("div",{className:"character-details-details-brief-eyes fill-space"},r.a.createElement("p",{className:"underline-input-field user-data"},h||""),r.a.createElement("div",{className:"underline-description"},"Eyes")))}())},Yc=function(e){var t=Object(h.d)((function(e){return e.settings})),a=(t.layout,t.colorTheme,function(e){var t=e.name,a=e.score,n=t.substring(0,3).toUpperCase(),l=qe(We(a)),i=qe(We(a+0))!==l?qe(We(a+0)):"";return r.a.createElement(r.a.Fragment,null,r.a.createElement("span",null,n),r.a.createElement("span",null,a),r.a.createElement("span",null,l),r.a.createElement("span",null,""),r.a.createElement("span",null,i))});return r.a.createElement("section",{id:"character-details-ability-scores",className:"section-background"},function(){var t=e.character,n=[{name:"Strength",score:t.strength},{name:"Dexterity",score:t.dexterity},{name:"Constitution",score:t.constitution},{name:"Intelligence",score:t.intelligence},{name:"Wisdom",score:t.wisdom},{name:"Charisma",score:t.charisma}];return r.a.createElement(r.a.Fragment,null,r.a.createElement(r.a.Fragment,null,r.a.createElement("span",null,"Ability Name"),r.a.createElement("span",null,"Ability Score"),r.a.createElement("span",null,"Ability Modifier"),r.a.createElement("span",null,"Temp Adjustment"),r.a.createElement("span",null,"Temp Modifier")),n.map(a))}())},Kc={character:{id:10001,name:"Jezebel",strength:9,dexterity:9,constitution:15,intelligence:9,wisdom:6,charisma:10,alignment:"Chaotic Neutral",deity:null,homeland:null,gender:null,age:null,height:"2'3\"",weight:"9 lbs",hair:null,eyes:null,description:"",any_bonus:null,skillset_id:3,lethal_damage:0,non_lethal_damage:0,temp_hp:0,is_done_preparing_spells:!1,full_name:null,campaign_id:3,max_hp:21,pp:null,gp:null,sp:null,cp:null,uniq_klasses:[{id:15,name:"Kineticist",description:"Kineticists are living channels for elemental matter and energy, manipulating the world around them by drawing upon inner reserves from their own bodies. Kineticists often awaken to their kinetic abilities during a violent or traumatic experience, releasing their power involuntarily. As kinetic power is seldom inherited, kineticists are rarely able to find mentors to guide them, so they must delve into these mysteries on their own to learn to control their gifts.\n\nRole: Kineticists generally use their powers to assail their foes from range, but based on the way their talents develop, they can channel their kinetic abilities for a variety of situations. Kineticists are usually quite different from their families and friends, so they often strike out on their own or alongside others with extraordinary talents.\n\nAlignment: Any.",hit_die:8,skill_ranks:4,fortitude:.5,reflex:.5,will:.34,source:{id:11,title:"Occult Adventures",abbreviation:"OA",code:"PZO1132"},klass_features:[{id:122,klass_id:15,name:"Weapon and Armor Proficiency",description:"Kineticists are proficient with all simple weapons and light armor, but not shields.",created_at:"2021-01-02T15:58:19.255Z",updated_at:"2021-01-02T15:58:19.255Z",specialization:null,choice_amount:0,base_klass_feature_id:null,has_klass_feature_options:null},{id:123,klass_id:15,name:"Elemental Focus",description:"At 1st level, a kineticist chooses one primary element on which to focus. This element determines how she accesses the raw power of the Ethereal Plane, and grants her access to specific wild talents (see below) and additional class skills. She gains her selected element\u2019s basic utility wild talent (basic telekinesis, basic aerokinesis, etc.) as a bonus wild talent.",created_at:"2021-01-02T15:58:19.288Z",updated_at:"2021-01-02T15:58:19.288Z",specialization:!0,choice_amount:1,base_klass_feature_id:null,has_klass_feature_options:null},{id:124,klass_id:15,name:"Wild Talents",description:"A kineticist can use wild talents\u2014magical abilities similar to spells but drawn from the kineticist\u2019s innate psychic talent and usable at will. Wild talents are typically spell-like abilities (though some are supernatural abilities), and take a standard action to use unless otherwise noted. A wild talent always has the elemental descriptor or descriptors (aether, air, earth, fire, or water) matching its element entry. A wild talent that can be used with any of several elements gains the appropriate elemental descriptor when used with an element. For example, the wall wild talent gains the earth descriptor when used by a geokineticist.\n\nEvery wild talent has an effective spell level. A kineticist can always select 1st-level wild talents, but she can select a wild talent of a higher level only if her kineticist level is at least double the wild talent\u2019s effective spell level. Kinetic blast and defense wild talents are always considered to have an effective spell level equal to 1/2 the kineticist\u2019s class level (to a maximum effective spell level of 9th at kineticist level 18th).\n\nUnless otherwise noted, the DC for a saving throw against a wild talent is equal to 10 + the wild talent\u2019s effective spell level + the kineticist\u2019s Constitution modifier. The kineticist uses her Constitution modifier on all concentration checks for wild talents.\n\nIn addition to the wild talents she gains from her other class features, at 2nd level and every 2 levels thereafter, a kineticist selects a new utility wild talent from the list of options available to her. A kineticist can select only universal wild talents or those that match her element (see Elemental Focus above). At 6th, 10th, and 16th levels, a kineticist can replace one of her utility wild talents with another wild talent of the same level or lower. She can\u2019t replace a wild talent that she used to qualify for another of her wild talents.",created_at:"2021-01-02T15:58:19.300Z",updated_at:"2021-01-02T15:58:19.300Z",specialization:null,choice_amount:0,base_klass_feature_id:null,has_klass_feature_options:null},{id:125,klass_id:15,name:"Burn",description:"At 1st level, a kineticist can overexert herself to channel more power than normal, pushing past the limit of what is safe for her body by accepting burn. Some of her wild talents allow her to accept burn in exchange for a greater effect, while others require her to accept a certain amount of burn to use that talent at all. For each point of burn she accepts, a kineticist takes 1 point of nonlethal damage per character level. This damage can\u2019t be healed by any means other than getting a full night\u2019s rest, which removes all burn and associated nonlethal damage. Nonlethal damage from burn can\u2019t be reduced or redirected, and a kineticist incapable of taking nonlethal damage can\u2019t accept burn. A kineticist can accept only 1 point of burn per round. This limit rises to 2 points of burn at 6th level, and rises by 1 additional point every 3 levels thereafter. A kineticist can\u2019t choose to accept burn if it would put her total number of points of burn higher than 3 + her Constitution modifier (though she can be forced to accept more burn from a source outside her control). A kineticist who has accepted burn never benefits from abilities that allow her to ignore or alter the effects she receives from nonlethal damage.",created_at:"2021-01-02T15:58:19.364Z",updated_at:"2021-01-02T15:58:19.364Z",specialization:null,choice_amount:0,base_klass_feature_id:null,has_klass_feature_options:null},{id:126,klass_id:15,name:"Kinetic Blast",description:"At 1st level, a kineticist gains a kinetic blast wild talent of her choice. This kinetic blast must be a simple blast that matches her element. Simple blasts are listed with their corresponding elements.\n\nAs a standard action, the kineticist can unleash a kinetic blast at a single target up to a range of 30 feet. She must have at least one hand free to aim the blast (or one prehensile appendage, if she doesn\u2019t have hands). All damage from a kinetic blast is treated as magic for the purpose of bypassing damage reduction. Kinetic blasts count as a type of weapon for the purpose of feats such as Weapon Focus. The kineticist is never considered to be wielding or gripping the kinetic blast (regardless of effects from form infusions; see Infusion), and she can\u2019t use Vital Strike feats with kinetic blasts. Even the weakest kinetic blast involves a sizable mass of elemental matter or energy, so kinetic blasts always deal full damage to swarms of any size (though only area blasts deal extra damage to swarms). A readied kinetic blast can be used to counterspell any spell of equal or lower level that shares its descriptor. A kinetic blast that deals energy damage of any type (including force) has the corresponding descriptor.\n\nEach simple blast is either a physical blast or an energy blast.\n\nPhysical blasts are ranged attacks that deal an amount of damage equal to 1d6+1 + the kineticist\u2019s Constitution modifier, increasing by 1d6+1 for every 2 kineticist levels beyond 1st. Spell resistance doesn\u2019t apply against physical blasts.\n\nEnergy blasts are ranged touch attacks that deal an amount of damage equal to 1d6 + 1/2 the kineticist\u2019s Constitution modifier, increasing by 1d6 for every 2 kineticist levels beyond 1st.\n\nComposite blasts combine elements to form a new blast. When a kineticist gains a new element through expanded element, she gains access to all composite blasts for which she qualifies. All composite blasts are listed after the kineticist elements.\n\nMost composite blasts are either physical or energy blasts, like simple blasts.\n\nPhysical composite blasts deal an amount of damage equal to 2d6+2 + the kineticist\u2019s Constitution modifier, increasing by 2d6+2 for every 2 kineticist levels beyond 1st.\n\nEnergy composite blasts deal an amount of damage equal to 2d6 + 1/2 the kineticist\u2019s Constitution modifier, increasing by 2d6 for every 2 kineticist levels beyond 1st.",created_at:"2021-01-02T15:58:19.375Z",updated_at:"2021-01-02T15:58:19.375Z",specialization:!0,choice_amount:1,base_klass_feature_id:null,has_klass_feature_options:null},{id:127,klass_id:15,name:"Gather Power",description:"If she has both hands free (or all of her prehensile appendages free, for unusual kineticists), a kineticist can gather energy or elemental matter as a move action. Gathering power creates an extremely loud, visible display in a 20-foot radius centered on the kineticist, as the energy or matter swirls around her. Gathering power in this way allows the kineticist to reduce the total burn cost of a blast wild talent she uses in the same round by 1 point. The kineticist can instead gather power for 1 full round in order to reduce the total burn cost of a blast wild talent used on her next turn by 2 points (to a minimum of 0 points). If she does so, she can also gather power as a move action during her next turn to reduce the burn cost by a total of 3 points. If the kineticist takes damage during or after gathering power and before using the kinetic blast that releases it, she must succeed at a concentration check (DC = 10 + damage taken + effective spell level of her kinetic blast) or lose the energy in a wild surge that forces her to accept a number of points of burn equal to the number of points by which her gathered power would have reduced the burn cost. This ability can never reduce the burn cost of a wild talent below 0 points.",created_at:"2021-01-02T15:58:19.387Z",updated_at:"2021-01-02T15:58:19.387Z",specialization:null,choice_amount:0,base_klass_feature_id:null,has_klass_feature_options:null},{id:136,klass_id:15,name:"Composite Specialization",description:"At 16th level, a kineticist becomes more adept at creating composite blasts. She reduces the burn cost of all composite blasts by 1 point.\n\nThis can\u2019t reduce the cost of a composite blast below 0 points.",created_at:"2021-01-02T15:58:19.664Z",updated_at:"2021-01-02T15:58:19.664Z",specialization:null,choice_amount:0,base_klass_feature_id:null,has_klass_feature_options:null},{id:137,klass_id:15,name:"Metakinetic Master",description:"At 19th level, a kineticist chooses one type of metakinesis, such as empower or quicken. She reduces the burn cost of that metakinesis by 1 point (to a minimum of 0 points).",created_at:"2021-01-02T15:58:19.678Z",updated_at:"2021-01-02T15:58:19.678Z",specialization:null,choice_amount:0,base_klass_feature_id:null,has_klass_feature_options:null},{id:128,klass_id:15,name:"Infusion",description:"At 1st level, a kineticist gains an infusion wild talent from the list of options available based on her elemental focus. She gains additional infusions at 3rd, 5th, 9th, 11th, 13th, 17th, and 19th levels. By using infusions along with her kinetic blasts, a kineticist can alter her kinetic blasts to suit her needs. Infusions come in two types, each of which changes a kinetic blast differently: a substance infusion causes an additional effect, while a form infusion causes the kinetic blast to manifest in a different way. Each infusion can alter only certain kinds of kinetic blasts, which are listed in its Associated Blasts entry. Each time the kineticist uses one of her kinetic blast wild talents, she can apply up to one associated form infusion and up to one associated substance infusion.\n\nSome infusions change the action required to activate a kinetic blast or entirely transform the kinetic blast\u2019s normal effects.\n\nThe burn cost listed in each infusion\u2019s Burn entry is added to the burn cost of the kinetic blast the infusion modifies.\n\nThe DC for a save against an infusion is based on the associated kinetic blast\u2019s effective spell level, not the level of the infusion. The DCs for form infusions are calculated using the kineticist\u2019s Dexterity modifier instead of her Constitution modifier. When a kineticist modifies a kinetic blast with a form infusion and a substance infusion that both require saving throws, each target first attempts a saving throw against the form infusion. If a target succeeds and a successful save negates the infusion\u2019s effects, the entire kinetic blast is negated; otherwise, the target then attempts a saving throw against the substance infusion. If a kineticist\u2019s form and substance infusions both alter the kinetic blast\u2019s damage, apply the substance infusion\u2019s alteration first.\n\nAt 5th, 11th, and 17th levels, a kineticist can replace one of her infusions with another infusion of the same effective spell level or lower. She can\u2019t replace an infusion that she used to qualify for another of her wild talents.",created_at:"2021-01-02T15:58:19.413Z",updated_at:"2021-01-02T15:58:19.413Z",specialization:null,choice_amount:0,base_klass_feature_id:null,has_klass_feature_options:null},{id:129,klass_id:15,name:"Elemental Defense",description:"At 2nd level, a kineticist gains her element\u2019s defensive wild talent.\n\nShe must select the expanded defense utility wild talent to gain the defensive wild talent of any element she gains via the expanded element class feature.",created_at:"2021-01-02T15:58:19.464Z",updated_at:"2021-01-02T15:58:19.464Z",specialization:null,choice_amount:0,base_klass_feature_id:null,has_klass_feature_options:null},{id:130,klass_id:15,name:"Elemental Overflow",description:"At 3rd level, a kineticist\u2019s body surges with energy from her chosen element whenever she accepts burn, causing her to glow with a nimbus of fire, weep water from her pores, or experience some other thematic effect. In addition, she receives a bonus on her attack rolls with kinetic blasts equal to the total number of points of burn she currently has, to a maximum bonus of +1 for every 3 kineticist levels she possesses. She also receives a bonus on damage rolls with her kinetic blast equal to double the bonus on attack rolls. The kineticist can suppress the visual effects of elemental overflow by concentrating for 1 full round, but doing so suppresses all of this ability\u2019s other benefits, as well. The next time the kineticist uses any wild talent, the visual effects and benefits return instantly.\n\nAs a kineticist\u2019s body becomes more and more suffused with her element, she begins to gain more powerful benefits.\n\nStarting at 6th level, whenever she has at least 3 points of burn, the kineticist gains a +2 size bonus to two physical ability scores of her choice. She also gains a chance to ignore the effects of a critical hit or sneak attack equal to 5% \xd7 her current number of points of burn. At 11th level, whenever the kineticist has at least 5 points of burn, these bonuses increase to a +4 size bonus to one physical ability score of her choice and a +2 size bonus to each of her other two physical ability scores.\n\nAt 16th level, whenever the kineticist has at least 7 points of burn, these bonuses increase to a +6 size bonus to one physical ability score of her choice, a +4 size bonus to a second physical ability score of her choice, and a +2 size bonus to the remaining physical ability score.",created_at:"2021-01-02T15:58:19.476Z",updated_at:"2021-01-02T15:58:19.476Z",specialization:null,choice_amount:0,base_klass_feature_id:null,has_klass_feature_options:null},{id:131,klass_id:15,name:"Infusion Specialization",description:"At 5th level, whenever a kineticist uses one or more infusions with a blast, she reduces the combined burn cost of the infusions by 1. This can\u2019t reduce the total cost of the infusions used below 0.\n\nShe reduces the burn cost by 1 additional point at 8th, 11th, 14th, 17th, and 20th levels.",created_at:"2021-01-02T15:58:19.538Z",updated_at:"2021-01-02T15:58:19.538Z",specialization:null,choice_amount:0,base_klass_feature_id:null,has_klass_feature_options:null},{id:132,klass_id:15,name:"Metakinesis",description:"At 5th level, a kineticist gains the ability to alter her kinetic blasts as if with metamagic feats by accepting burn. By accepting 1 point of burn, she can empower her kinetic blast (as if using Empower Spell). At 9th level, by accepting 2 points of burn, she can maximize her kinetic blast as if using Maximize Spell. At 13th level, by accepting 3 points of burn, she can quicken her kinetic blast as if using Quicken Spell.\n\nAt 17th level, by accepting 4 points of burn, the kineticist can use her kinetic blast twice with the same standard action, or swift action if she also uses metakinesis to quicken the blast.\n\nWhen she uses a double kinetic blast, all modifications, such as metakinesis and infusions, apply to both of the blasts, but the kineticist needs to pay the burn cost only once.",created_at:"2021-01-02T15:58:19.579Z",updated_at:"2021-01-02T15:58:19.579Z",specialization:null,choice_amount:0,base_klass_feature_id:null,has_klass_feature_options:null},{id:133,klass_id:15,name:"Internal Buffer",description:"At 6th level, a kineticist\u2019s study of her body and the elemental forces that course through it allow her to form an internal buffer to store extra energy.\n\nThe buffer starts empty and doesn\u2019t replenish each day, but the kineticist can accept 1 point of burn to add 1 point to the buffer as a full-round action, to a maximum of 1 point total. This maximum increases to 2 points at 11th level and to 3 points at 16th level. Once the kineticist adds points to her buffer, they remain indefinitely until she spends them.\n\nWhen she would otherwise accept burn, a kineticist can spend 1 point from her buffer to avoid accepting 1 point of burn. She cannot spend more than 1 point from her buffer in this way for a single wild talent. Points spent from the internal buffer don\u2019t activate elemental overflow or add to its effects. Similarly, this buffer can be used to exceed the limit on the number of points of burn the kineticist can accept in a single turn.",created_at:"2021-01-02T15:58:19.610Z",updated_at:"2021-01-02T15:58:19.610Z",specialization:null,choice_amount:0,base_klass_feature_id:null,has_klass_feature_options:null},{id:134,klass_id:15,name:"Expanded Element",description:"At 7th level, a kineticist learns to use another element or expands her understanding of her own element. She can choose any element, including her primary element. She gains one of that element\u2019s simple blast wild talents that she does not already possess, if any. She also gains all composite blast wild talents whose prerequisites she meets, as well as the basic wild talent of her chosen expanded element (for instance, basic aerokinesis if she chooses air). See Composite Blasts for additional rules for and descriptions of composite blasts. She doesn\u2019t gain the defensive wild talent of the expanded element unless she later selects it with the expanded defense utility wild talent, nor does she gain the additional class skills from her expanded element unless she later selects the Elemental Knowledge feat.\n\nIf the kineticist\u2019s expanded element is different from her primary element, she treats her kineticist level as 4 levels lower for the purpose of determining which wild talents she can learn from her expanded element.\n\nIf the kineticist chooses to expand her understanding of an element she already has, she gains an additional utility wild talent or infusion of her choice from that element, as if from her infusion or wild talent class feature, as appropriate.\n\nAt 15th level, the kineticist can either select a new element or expand her understanding of her original element. She can\u2019t select the same element she selected at 7th level unless it is her primary element. She gains all the benefits from her new expanded element as listed above. However, if the kineticist selected her primary element as her expanded element at both 7th and 15th levels, her mastery of that element increases. For wild talents of her element, the kineticist gains a +1 bonus on attack rolls and damage rolls, as well as to caster level and DCs.",created_at:"2021-01-02T15:58:19.634Z",updated_at:"2021-01-02T15:58:19.634Z",specialization:null,choice_amount:0,base_klass_feature_id:null,has_klass_feature_options:null},{id:135,klass_id:15,name:"Supercharge",description:"At 11th level, when using gather power as a move action, a kineticist can reduce the total burn cost of a single wild talent by 2 points instead of 1. When using gather power for 1 full round, she can reduce the burn cost of a single wild talent by 3 points instead of 2.",created_at:"2021-01-02T15:58:19.652Z",updated_at:"2021-01-02T15:58:19.652Z",specialization:null,choice_amount:0,base_klass_feature_id:null,has_klass_feature_options:null},{id:138,klass_id:15,name:"Omnikinesis",description:"At 20th level, a kineticist transcends the distinction between the different elements and can bend all creation to her will. By accepting 1 point of burn (in addition to any burn requirement of the kinetic blast she chooses), she can use any blast wild talent she doesn\u2019t know.\n\nBy accepting 1 point of burn as a standard action, she can change any of her wild talents into any other wild talent of the same category (such as simple blasts or defense) for 24 hours, ignoring any elemental requirements or restrictions (but not any other requirements or restrictions).",created_at:"2021-01-02T15:58:19.690Z",updated_at:"2021-01-02T15:58:19.690Z",specialization:null,choice_amount:0,base_klass_feature_id:null,has_klass_feature_options:null}],class_skillset_skills:[{id:190,klass_id:15,skillset_id:1,skill_id:1},{id:191,klass_id:15,skillset_id:1,skill_id:5},{id:192,klass_id:15,skillset_id:1,skill_id:12},{id:193,klass_id:15,skillset_id:1,skill_id:13},{id:194,klass_id:15,skillset_id:1,skill_id:24},{id:195,klass_id:15,skillset_id:1,skill_id:26},{id:196,klass_id:15,skillset_id:1,skill_id:28},{id:197,klass_id:15,skillset_id:1,skill_id:33},{id:198,klass_id:15,skillset_id:1,skill_id:36},{id:199,klass_id:15,skillset_id:3,skill_id:1},{id:200,klass_id:15,skillset_id:3,skill_id:5},{id:201,klass_id:15,skillset_id:3,skill_id:12},{id:202,klass_id:15,skillset_id:3,skill_id:13},{id:203,klass_id:15,skillset_id:3,skill_id:24},{id:204,klass_id:15,skillset_id:3,skill_id:26},{id:205,klass_id:15,skillset_id:3,skill_id:28},{id:206,klass_id:15,skillset_id:3,skill_id:33}],skills:[{id:1,name:"Acrobatics",ability_score:"Dexterity",description:"You can use Acrobatics to move on narrow surfaces and uneven ground without falling. A successful check allows you to move at half speed across such surfaces\u2014only one check is needed per round. Use the following table to determine the base DC, which is then modified by the Acrobatics skill modifiers noted below. While you are using Acrobatics in this way, you are considered flat-footed and lose your Dexterity bonus to your AC (if any). If you take damage while using Acrobatics, you must immediately make another Acrobatics check at the same DC to avoid falling or being knocked prone. *No Acrobatics check is needed to move across these surfaces unless the modifiers increase the DC to 10 or higher.\n\n<table>\n  <tr>\n    <th>Surface Width</th>\n    <th>Base Acrobatics DC</th>\n  </tr>\n  <tr>\n    <td>Greater Than 3 Feet Wide</td>\n    <td>0*</td>\n  </tr>\n  <tr>\n    <td>1-3 Feet Wide</td>\n    <td>5*</td>\n  </tr>\n  <tr>\n    <td>7-11 Inches Wide</td>\n    <td>10</td>\n  </tr>\n  <tr>\n    <td>2-6 Inches Wide</td>\n    <td>15</td>\n  </tr>\n  <tr>\n    <td>Less Than 2 Inches Wide</td>\n    <td>20</td>\n  </tr>\n</table>\n\nIn addition, you can move through a threatened square without provoking an attack of opportunity from an enemy by using Acrobatics. When moving in this way, you move at half speed. You can move at full speed by increasing the DC of the check by 10. You cannot use Acrobatics to move past foes if your speed is reduced due to carrying a medium or heavy load or wearing medium or heavy armor. If an ability allows you to move at full speed under such conditions, you can use Acrobatics to move past foes. You can use Acrobatics in this way while prone, but doing so requires a full-round action to move 5 feet, and the DC is increased by 5. If you attempt to move through an enemy\u2019s space and fail the check, you lose the move action and provoke an attack of opportunity. *This DC is used to avoid an attack of opportunity due to movement. This DC increases by 2 for each additional opponent avoided in 1 round.\n\n<table>\n  <tr>\n    <th>Situation</th>\n    <th>Base Acrobatics DC*</th>\n  </tr>\n  <tr>\n    <td>Move Through a Threatened Area</td>\n    <td>Opponent's Combat Maneuver Defense</td>\n  </tr>\n  <tr>\n    <td>Move Through an Enemy's Space</td>\n    <td>5 + Opponent's Combat Maneuver Defense</td>\n  </tr>\n</table>\n\nFinally, you can use the Acrobatics skill to make jumps or to soften a fall. The base DC to make a jump is equal to the distance to be crossed (if horizontal) or four times the height to be reached (if vertical). These DCs double if you do not have at least 10 feet of space to get a running start. The only Acrobatics modifiers that apply are those concerning the surface you are jumping from. If you fail this check by 4 or less, you can attempt a DC 20 Reflex save to grab hold of the other side after having missed the jump. If you fail by 5 or more, you fail to make the jump and fall (or land prone, in the case of a vertical jump).\n\nCreatures with a base land speed above 30 feet receive a +4 racial bonus on Acrobatics checks made to jump for every 10 feet of their speed above 30 feet. Creatures with a base land speed below 30 feet receive a \u20134 racial bonus on Acrobatics checks made to jump for every 10 feet of their speed below 30 feet. No jump can allow you to exceed your maximum movement for the round.\n\nFor a running jump, the result of your Acrobatics check indicates the distance traveled in the jump (and if the check fails, the distance at which you actually land and fall prone). Halve this result for a standing long jump to determine where you land.\n\nWhen you deliberately fall any distance, even as a result of a missed jump, a DC 15 Acrobatics skill check allows you to ignore the first 10 feet fallen, although you still end up prone if you take damage from a fall.\n\n<table>\n  <tr>\n    <th>Long Jump</th>\n    <th>Acrobatics DC</th>\n  </tr>\n  <tr>\n    <td>5 Feet</td>\n    <td>5</td>\n  </tr>\n  <tr>\n    <td>10 Feet</td>\n    <td>10</td>\n  </tr>\n  <tr>\n    <td>15 Feet</td>\n    <td>15</td>\n  </tr>\n  <tr>\n    <td>20 Feet</td>\n    <td>20</td>\n  </tr>\n  <tr>\n    <td>Greater Than 20 Feet</td>\n    <td>+5 per 5 Feet</td>\n  </tr>\n</table>\n\n<table>\n  <tr>\n    <th>High Jump</th>\n    <th>Acrobatics DC</th>\n  </tr>\n  <tr>\n    <td>1 Foot</td>\n    <td>4</td>\n  </tr>\n  <tr>\n    <td>2 Feet</td>\n    <td>8</td>\n  </tr>\n  <tr>\n    <td>3 Feet</td>\n    <td>12</td>\n  </tr>\n  <tr>\n    <td>4 Feet</td>\n    <td>16</td>\n  </tr>\n  <tr>\n    <td>Greater Than 4 Feet</td>\n    <td>+4 per Foot</td>\n  </tr>\n</table>\n\nThe following modifiers apply to all Acrobatics skill checks. The modifiers stack with one another, but only the most severe modifier for any given condition applies.\n\n<table>\n  <tr>\n    <th>Acrobatics Modifiers</th>\n    <th>DC Modifier</th>\n  </tr>\n  <tr>\n    <td>Slightly Obstructed (Gravel, Sand)</td>\n    <td>+2</td>\n  </tr>\n  <tr>\n    <td>Severyly Obstructed (Cavern, Rubble)</td>\n    <td>+5</td>\n  </tr>\n  <tr>\n    <td>Slightly Slippery (Wet)</td>\n    <td>+2</td>\n  </tr>\n  <tr>\n    <td>Severly Slippery</td>\n    <td>+5</td>\n  </tr>\n  <tr>\n    <td>Slightly Sloped (<45 degrees)</td>\n    <td>+2</td>\n  </tr>\n  <tr>\n    <td>Severly Sloped (>45 degrees)</td>\n    <td>+5</td>\n  </tr>\n  <tr>\n    <td>Slightly Unsteady (Boat in Rough Water)</td>\n    <td>+2</td>\n  </tr>\n  <tr>\n    <td>Moderately Unsteady (Boat in a Storm)</td>\n    <td>+5</td>\n  </tr>\n  <tr>\n    <td>Move at Full Speed on Narrow or Uneven Surfaces</td>\n    <td>+5 (not to Jumps)</td>\n  </tr>\n</table>",untrained:!0,customizable:!1,knowledge:!1,blurb:"You can keep your balance while traversing narrow or treacherous surfaces. You can also dive, flip, jump, and roll, avoiding attacks and confusing your opponents.",action:"None. An Acrobatics check is made as part of another action or as a reaction to a situation.",try_again:"",special:"If you have 3 or more ranks in Acrobatics, you gain a +3 dodge bonus to AC when fighting defensively instead of the usual +2, and a +6 dodge bonus to AC when taking the total defense action instead of the usual +4.",skill_unlock_5:"You can move at normal speed through a threatened square without provoking an attack of opportunity by increasing the DC of the check by 5 (instead of by 10). You aren\u2019t denied your Dexterity bonus when attempting Acrobatics checks with DCs of 20 or lower.",skill_unlock_10:"You can attempt an Acrobatics check at a \u201310 penalty and use the result as your CMD against trip maneuvers. You can also attempt an Acrobatics check at a \u201310 penalty in place of a Reflex save to avoid falling. You must choose to use this ability before the trip attempt or Reflex save is rolled. With a successful DC 20 Acrobatics check, you treat an unintentional fall as 10 feet shorter plus 10 feet for every 10 by which you exceed the DC, and treat an intentional fall as 10 feet shorter for every 10 by which you exceed the DC.",skill_unlock_15:"You do not provoke attacks of opportunity when standing up from prone.",skill_unlock_20:"You double the result of any Acrobatics check when jumping and never fall prone at the end of a fall as long as you remain conscious."},{id:5,name:"Craft",ability_score:"Intelligence",description:"You can practice your trade and make a decent living, earning half your check result in gold pieces per week of dedicated work. You know how to use the tools of your trade, how to perform the craft\u2019s daily tasks, how to supervise untrained helpers, and how to handle common problems. (Untrained laborers and assistants earn an average of 1 silver piece per day.)\n\nThe basic function of the Craft skill, however, is to allow you to make an item of the appropriate type. The DC depends on the complexity of the item to be created. The DC, your check result, and the price of the item determine how long it takes to make a particular item. The item\u2019s finished price also determines the cost of raw materials.\n\nTo determine how much time and money it takes to make an item, follow these steps.\n\n1) Find the item\u2019s price in silver pieces (1 gp = 10 sp).\n\n2) Find the item\u2019s DC from Table: Craft Skills.\n\n3) Pay 1/3 of the item\u2019s price for the raw material cost.\n\n4) Make an appropriate Craft check representing one week\u2019s worth of work. If the check succeeds, multiply your check result by the DC. If the result \xd7 the DC equals the price of the item in sp, then you have completed the item. (If the result \xd7 the DC equals double or triple the price of the item in silver pieces, then you\u2019ve completed the task in one-half or one-third of the time. Other multiples of the DC reduce the time in the same manner.) If the result \xd7 the DC doesn\u2019t equal the price, then it represents the progress you\u2019ve made this week. Record the result and make a new Craft check for the next week. Each week, you make more progress until your total reaches the price of the item in silver pieces.\n\nIf you fail a check by 4 or less, you make no progress this week (or day, see below). If you miss by 5 or more, you ruin half the raw materials and have to pay half the original raw material cost again.\n\nTools: All crafts require artisan\u2019s tools to give the best chance of success. If improvised tools are used, the check is made with a \u20132 penalty. On the other hand, masterwork artisan\u2019s tools provide a +2 circumstance bonus on the check.\n\nFabricate Spell: In some cases, the fabricate spell can be used to achieve the results of a Craft check with no actual check involved. You must still make an appropriate Craft check when using the spell to make articles requiring a high degree of craftsmanship.\n\nIronwood Spell: A successful Craft check related to woodworking in conjunction with the casting of the ironwood spell enables you to make wooden items that have the strength of steel.\n\nMinor Creation: When casting the spell minor creation, you must succeed on an appropriate Craft check to make a complex item.\n\nProgress by the Day: You can make checks by the day instead of by the week. In this case your progress (check result \xd7 DC) should be divided by the number of days in a week.\n\nCreate Masterwork Items: You can make a masterwork item: a weapon, suit of armor, shield, or tool that conveys a bonus on its use through its exceptional craftsmanship. To create a masterwork item, you create the masterwork component as if it were a separate item in addition to the standard item. The masterwork component has its own price (300 gp for a weapon or 150 gp for a suit of armor or a shield, see Chapter 6 for the price of other masterwork tools) and a Craft DC of 20. Once both the standard component and the masterwork component are completed, the masterwork item is finished. The cost you pay for the masterwork component is one-third of the given amount, just as it is for the cost in raw materials.\n\nRepair Items: You can repair an item by making checks against the same DC that it took to make the item in the first place. The cost of repairing an item is one-fifth of the item\u2019s price.\n\n*You must be trained in the listed skill to attempt this task.\n\n<table>\n  <tr>\n    <th>Item/Task</th>\n    <th>Craft Skill</th>\n    <th>Craft DC</th>\n  </tr>\n  <tr>\n    <td>Craft Acid</td>\n    <td>Alchemy</td>\n    <td>15</td>\n  </tr>\n  <tr>\n    <td>Determine the Items an Alchemist Makes with Substances from Their Lab*</td>\n    <td>Alchemy</td>\n    <td>15</td>\n  </tr>\n  <tr>\n    <td>Craft Alchemist's Fire, Smokestick, or Tindertwig</td>\n    <td>Alchemy</td>\n    <td>20</td>\n  </tr>\n  <tr>\n    <td>Craft Antitoxin, Sunrod, Tanglefoot Bag, or Thunderstone</td>\n    <td>Alchemy</td>\n    <td>25</td>\n  </tr>\n  <tr>\n    <td>Craft Armor or Shield</td>\n    <td>Armor</td>\n    <td>10 + AC Bonus</td>\n  </tr>\n  <tr>\n    <td>Etch Metal Armor Plates with Decorative Designs</td>\n    <td>Armor or Paintings</td>\n    <td>15</td>\n  </tr>\n  <tr>\n    <td>Identify a Suit of Masterwork Armor on Sight</td>\n    <td>Armor</td>\n    <td>15</td>\n  </tr>\n  <tr>\n    <td>Determine What Type of Environment a Basket's Material Came From</td>\n    <td>Baskets</td>\n    <td>10</td>\n  </tr>\n  <tr>\n    <td>Determine the Specific Region a Basket's Material Came From</td>\n    <td>Baskets</td>\n    <td>20</td>\n  </tr>\n  <tr>\n    <td>Smelt Ore and Refine the Metal</td>\n    <td>Blacksmithing</td>\n    <td>15</td>\n  </tr>\n  <tr>\n    <td>Create Armor Spikes or Shield Spikes Without Craft (Armor)*</td>\n    <td>Blacksmithing</td>\n    <td>+5</td>\n  </tr>\n  <tr>\n    <td>Determine a Book's Approxiamte Age</td>\n    <td>Books</td>\n    <td>10</td>\n  </tr>\n  <tr>\n    <td>Identify a Composite Bow on Site</td>\n    <td>Bows</td>\n    <td>10</td>\n  </tr>\n  <tr>\n    <td>Craft Longbow, Shortbow, or Arrows</td>\n    <td>Bows</td>\n    <td>12</td>\n  </tr>\n  <tr>\n    <td>Craft Composite Longbow or Composite Shortbow</td>\n    <td>Bows</td>\n    <td>15</td>\n  </tr>\n  <tr>\n    <td>Identify a Masterwork Bow on Sight</td>\n    <td>Bows</td>\n    <td>15</td>\n  </tr>\n  <tr>\n    <td>Craft Composite Longbow or Composite Shortbow With High Strength Rating</td>\n    <td>Bows</td>\n    <td>15 + (2 x Rating)</td>\n  </tr>\n  <tr>\n    <td>Determine a Writer's Experience Level and Handedness*</td>\n    <td>Calligraphy</td>\n    <td>10</td>\n  </tr>\n  <tr>\n    <td>Write an Invitation That Matches Appropriate Social Conventions</td>\n    <td>Calligraphy</td>\n    <td>10</td>\n  </tr>\n  <tr>\n    <td>Make a Makeshift Barrel or Crate</td>\n    <td>Carpentry</td>\n    <td>10</td>\n  </tr>\n  <tr>\n    <td>Create a Rudiementary Raft from Found Materials</td>\n    <td>Carpentry or Ships</td>\n    <td>15</td>\n  </tr>\n  <tr>\n    <td>Carve Fine Woodworking</td>\n    <td>Carpentry or Sculptures</td>\n    <td>15</td>\n  </tr>\n  <tr>\n    <td>Craft Wooden Armor or a Wooden Shield Without Craft (Armor)</td>\n    <td>Carpentry</td>\n    <td>+5</td>\n  </tr>\n  <tr>\n    <td>Correctly Dye a Garment or Bolt of Cloth</td>\n    <td>Cloth</td>\n    <td>10</td>\n  </tr>\n  <tr>\n    <td>Mend a Sail</td>\n    <td>Cloth, Clothin, or Ships</td>\n    <td>15</td>\n  </tr>\n  <tr>\n    <td>Tailor a Garment to Another Size or Body Shape</td>\n    <td>Clothing</td>\n    <td>10</td>\n  </tr>\n  <tr>\n    <td>Create Temporary Cold-Weather Gear (Grants a +2 Bonus)</td>\n    <td>Clothing</td>\n    <td>20</td>\n  </tr>\n  <tr>\n    <td>Create Padded Armor Without Craft (Armor)</td>\n    <td>Clothing</td>\n    <td>+5</td>\n  </tr>\n  <tr>\n    <td>Craft One-Handed Firearm or Two-Handed Firearm</td>\n    <td>Firearms</td>\n    <td>20</td>\n  </tr>\n  <tr>\n    <td>Craft Seige Firearm, Heavy</td>\n    <td>Firearms</td>\n    <td>30</td>\n  </tr>\n  <tr>\n    <td>Craft Seige Firearm, Light</td>\n    <td>Firearms</td>\n    <td>35</td>\n  </tr>\n  <tr>\n    <td>Locate or Identify Naturally Formed Glass</td>\n    <td>Glass</td>\n    <td>10</td>\n  </tr>\n  <tr>\n    <td>Identify the Work of Famous Jewelers</td>\n    <td>Jewelry</td>\n    <td>15</td>\n  </tr>\n  <tr>\n    <td>Create a Fake Gemstone*</td>\n    <td>Jewelry</td>\n    <td>Opposed</td>\n  </tr>\n  <tr>\n    <td>Identify the Sort of Creature From Which a Piece of Leather Came*</td>\n    <td>Leather</td>\n    <td>10+</td>\n  </tr>\n  <tr>\n    <td>Skin an Animal and Tan the Hide</td>\n    <td>Leather</td>\n    <td>15</td>\n  </tr>\n  <tr>\n    <td>Create a High-Quality Item From the Hide of a Non-Standard Creature*</td>\n    <td>Leather</td>\n    <td>20</td>\n  </tr>\n  <tr>\n    <td>Create Leather, Studded Leather, or Hide Armor Without Craft (Armor)</td>\n    <td>Leather</td>\n    <td>+5</td>\n  </tr>\n  <tr>\n    <td>Aid Another on a Skill Check to Open a Lock*</td>\n    <td>Locks</td>\n    <td>5</td>\n  </tr>\n  <tr>\n    <td>Tune a Musical Instrument</td>\n    <td>Musical Instruments</td>\n    <td>10</td>\n  </tr>\n  <tr>\n    <td>Create Paint or Other Pigments from Scratch</td>\n    <td>Paintings</td>\n    <td>10</td>\n  </tr>\n  <tr>\n    <td>Re-create Someone's Likeness from Memory</td>\n    <td>Paintings</td>\n    <td>15</td>\n  </tr>\n  <tr>\n    <td>Re-create Someone's Likeness from an Eyewitness Account</td>\n    <td>Paintings</td>\n    <td>20</td>\n  </tr>\n  <tr>\n    <td>Create a Temporary or Makeshift Kiln</td>\n    <td>Pottery</td>\n    <td>20</td>\n  </tr>\n  <tr>\n    <td>Make a Mold of an Object or Part of a Body</td>\n    <td>Sculptures</td>\n    <td>10</td>\n  </tr>\n  <tr>\n    <td>Craft Ranged Seige Engine, Heavy</td>\n    <td>Seige Engines</td>\n    <td>20</td>\n  </tr>\n  <tr>\n    <td>Craft Ranged Seige Engine, Medium</td>\n    <td>Seige Engines</td>\n    <td>25</td>\n  </tr>\n  <tr>\n    <td>Craft Ranged Seige Engine, Light</td>\n    <td>Seige Engines</td>\n    <td>30</td>\n  </tr>\n  <tr>\n    <td>Alter Shoes to a Different Size or Foot Shape*</td>\n    <td>Shoes</td>\n    <td>10</td>\n  </tr>\n  <tr>\n    <td>Recognize a Famous Ship and Where it Likely Came From</td>\n    <td>Ships</td>\n    <td>10</td>\n  </tr>\n  <tr>\n    <td>Identify Whether a Stone Wall is Entirely Stone or a Veneer</td>\n    <td>Stonemasonry</td>\n    <td>10</td>\n  </tr>\n  <tr>\n    <td>Create a Temporary Stone Support or Small Rampart with Found Supplies</td>\n    <td>Stonemasonry</td>\n    <td>15</td>\n  </tr>\n  <tr>\n    <td>Craft Mechanical Traps</td>\n    <td>Traps</td>\n    <td>Varies</td>\n  </tr>\n  <tr>\n    <td>Determine the Age of a Mechanical Trap</td>\n    <td>Traps</td>\n    <td>15</td>\n  </tr>\n  <tr>\n    <td>Identify a Masterwork Weapon on Sight</td>\n    <td>Weapons</td>\n    <td>15</td>\n  </tr>\n  <tr>\n    <td>Craft Crossbow or Bolts</td>\n    <td>Weapons</td>\n    <td>15</td>\n  </tr>\n  <tr>\n    <td>Craft Simple Melee or Thrown Weapon</td>\n    <td>Weapons</td>\n    <td>12</td>\n  </tr>\n  <tr>\n    <td>Craft Martial Melee or Thrown Weapon</td>\n    <td>Weapons</td>\n    <td>15</td>\n  </tr>\n  <tr>\n    <td>Craft Exotic Melee or Thrown Weapon</td>\n    <td>Weapons</td>\n    <td>18</td>\n  </tr>\n  <tr>\n    <td>Very Simple Item (Wooden Spoon)</td>\n    <td>Varies</td>\n    <td>5</td>\n  </tr>\n  <tr>\n    <td>Craft Typical Item (Iron Pot)</td>\n    <td>Varies</td>\n    <td>10</td>\n  </tr>\n  <tr>\n    <td>Identify a Famous Maker's Mark</td>\n    <td>Varies</td>\n    <td>10</td>\n  </tr>\n  <tr>\n    <td>Craft High-Quality Item (Bell)</td>\n    <td>Varies</td>\n    <td>15</td>\n  </tr>\n  <tr>\n    <td>Detemine What Culture (e.g. Elves, Frost Giants) Made an Item</td>\n    <td>Varies</td>\n    <td>15</td>\n  </tr>\n  <tr>\n    <td>Craft Complex or Superior Item (Lock)</td>\n    <td>Varies</td>\n    <td>20</td>\n  </tr>\n  <tr>\n    <td>Identify an Obscure Maker's Mark*</td>\n    <td>Varies</td>\n    <td>20</td>\n  </tr>\n  <tr>\n    <td>Determine the Hardness and Hit Points of an Item*</td>\n    <td>Varies</td>\n    <td>20</td>\n  </tr>\n  <tr>\n    <td>Identify the Creator of an Item with No Mark*</td>\n    <td>Varies</td>\n    <td>30</td>\n  </tr>\n</table>\n\nThe table below lists which craft skills to use for certain prominent items and adventuring tools. This list omits obvious items - outfits are made with Craft (clothing), keelboats with Craft (ships),  and so on. More specific skills can also be used instead of the listed skill, such as using Craft (tattoos) instead of Craft (paintings) for a tattoo.\n\n<table>\n  <tr>\n    <th>Item</th>\n    <th>Craft Skill</th>\n  </tr>\n  <tr>\n    <td>Alchemist's Lab</td>\n    <td>Alchemy</td>\n  </tr>\n  <tr>\n    <td>Artisan's Tools</td>\n    <td>Blacksmithing or Carpentry</td>\n  </tr>\n  <tr>\n    <td>Backpack</td>\n    <td>Clothing or Leather</td>\n  </tr>\n  <tr>\n    <td>Barding</td>\n    <td>Armor</td>\n  </tr>\n  <tr>\n    <td>Bedroll</td>\n    <td>Cloth or Leather</td>\n  </tr>\n  <tr>\n    <td>Caltrops</td>\n    <td>Weapons</td>\n  </tr>\n  <tr>\n    <td>Cart or Carriage</td>\n    <td>Carpentry</td>\n  </tr>\n  <tr>\n    <td>Chain</td>\n    <td>Blacksmithing or Traps</td>\n  </tr>\n  <tr>\n    <td>Chest</td>\n    <td>Carpentry or Locks</td>\n  </tr>\n  <tr>\n    <td>Climber's Kit</td>\n    <td>Blacksmithing</td>\n  </tr>\n  <tr>\n    <td>Disguise Kit</td>\n    <td>Alchemy or Paintings</td>\n  </tr>\n  <tr>\n    <td>Flint and Steel</td>\n    <td>Blacksmithing or Stonemasonry</td>\n  </tr>\n  <tr>\n    <td>Grappling Hook</td>\n    <td>Blacksmithing or Weapons</td>\n  </tr>\n  <tr>\n    <td>Gunslinger's Kit</td>\n    <td>Alchemy or Blacksmithing</td>\n  </tr>\n  <tr>\n    <td>Harrow Deck</td>\n    <td>Paintings</td>\n  </tr>\n  <tr>\n    <td>Healer's Kit</td>\n    <td>Alchemy or Cloth</td>\n  </tr>\n  <tr>\n    <td>Hemp Rope</td>\n    <td>Baskets or Cloth</td>\n  </tr>\n  <tr>\n    <td>Lamp</td>\n    <td>Blacksmithing or Glass</td>\n  </tr>\n  <tr>\n    <td>Manacles<td>\n    <td>Blacksmithing or Locks</td>\n  </tr>\n  <tr>\n    <td>Masterwork Tool</td>\n    <td>Blacksmithing</td>\n  </tr>\n  <tr>\n    <td>Musical Instrument</td>\n    <td>Musical Instruments</td>\n  </tr>\n  <tr>\n    <td>Saddle</td>\n    <td>Leather</td>\n  </tr>\n  <tr>\n    <td>Scroll Case</td>\n    <td>Carpentry or Leather</td>\n  </tr>\n  <tr>\n    <td>Signet Ring</td>\n    <td>Jewelry</td>\n  </tr>\n  <tr>\n    <td>Silk Rope</td>\n    <td>Cloth</td>\n  </tr>\n  <tr>\n    <td>Silver Holy Symbol</td>\n    <td>Blacksmithing or Sculptures</td>\n  </tr>\n  <tr>\n    <td>Skeleton Key</td>\n    <td>Locks</td>\n  </tr>\n  <tr>\n    <td>Spell Component Pouch/td>\n    <td>Leather</td>\n  </tr>\n  <tr>\n    <td>Spyglass</td>\n    <td>Glass</td>\n  </tr>\n  <tr>\n    <td>Tattoo</td>\n    <td>Paintings</td>\n  </tr>\n  <tr>\n    <td>Tent</td>\n    <td>Cloth or Leather</td>\n  </tr>\n  <tr>\n    <td>Thieves' Tools</td>\n    <td>Blacksmithing or Locks</td>\n  </tr>\n  <tr>\n    <td>Waterskin</td>\n    <td>Leather</td>\n  </tr>\n  <tr>\n    <td>Wood Holy Symbol</td>\n    <td>Carpentry or Sculptures</td>\n  </tr>\n</table>\n\nThe following table indicates which Craft skills are typically used to create common worn items. While the normal system for creating magic items doesn't incorporate Craft skills, such skills could reasonably be used while creating a magic item to make it appear especially ornate.\n\n<table>\n  <tr>\n    <th>Worn Item</th>\n    <th>Craft Skill</th>\n  </tr>\n  <tr>\n    <td>Amulet</td>\n    <td>Jewelry</td>\n  </tr>\n  <tr>\n    <td>Belt</td>\n    <td>Leather or Clothing</td>\n  </tr>\n  <tr>\n    <td>Bracelet</td>\n    <td>Blacksmithing or Jewelry</td>\n  </tr>\n  <tr>\n    <td>Bracer</td>\n    <td>Armor or Leather</td>\n  </tr>\n  <tr>\n    <td>Brooch</td>\n    <td>Jewelry</td>\n  </tr>\n  <tr>\n    <td>Cape or Cloak</td>\n    <td>Cloth or Clothing</td>\n  </tr>\n  <tr>\n    <td>Circlet</td>\n    <td>Blacksmithing or Jewelry</td>\n  </tr>\n  <tr>\n    <td>Crown</td>\n    <td>Blacksmithing or Jewelry</td>\n  </tr>\n  <tr>\n    <td>Gauntlet</td>\n    <td>Armor</td>\n  </tr>\n  <tr>\n    <td>Girdle</td>\n    <td>Clothing or Leather</td>\n  </tr>\n  <tr>\n    <td>Glasses or Goggles</td>\n    <td>Glass</td>\n  </tr>\n  <tr>\n    <td>Glove</td>\n    <td>Clothing or Leather</td>\n  </tr>\n  <tr>\n    <td>Hat</td>\n    <td>Clothing or Leather</td>\n  </tr>\n  <tr>\n    <td>Headband</td>\n    <td>Cloth or Clothing</td>\n  </tr>\n  <tr>\n    <td>Helm</td>\n    <td>Armor</td>\n  </tr>\n  <tr>\n    <td>Mask</td>\n    <td>Clothing or Leather</td>\n  </tr>\n  <tr>\n    <td>Necklace</td>\n    <td>Blacksmithing or Jewelry</td>\n  </tr>\n  <tr>\n    <td>Periapt</td>\n    <td>Jewelry</td>\n  </tr>\n  <tr>\n    <td>Phylactery</td>\n    <td>Leather or Carpentry</td>\n  </tr>\n  <tr>\n    <td>Ring</td>\n    <td>Jewelry</td>\n  </tr>\n  <tr>\n    <td>Robe</td>\n    <td>Clothing</td>\n  </tr>\n  <tr>\n    <td>Vestments</td>\n    <td>Clothing</td>\n  </tr>\n</table>",untrained:!0,customizable:!0,knowledge:!1,blurb:"You are skilled in the creation of a specific group of items, such as armor or weapons. Like Knowledge, Perform, and Profession, Craft is actually a number of separate skills. You could have several Craft skills, each with its own ranks. The most common Craft skills are alchemy, armor, baskets, books, bows, calligraphy, carpentry, cloth, clothing, glass, jewelry, leather, locks, paintings, pottery, sculptures, ships, shoes, stonemasonry, traps, and weapons.\n\nA Craft skill is specifically focused on creating something. If nothing is created by the endeavor, it probably falls under the heading of a Profession skill.",action:"Does not apply. Craft checks are made by the day or week (see above).",try_again:"Yes, but each time you fail by 5 or more, you ruin half the raw materials and have to pay half the original raw material cost again.",special:"You may voluntarily add +10 to the indicated DC to craft an item. This allows you to create the item more quickly (since you\u2019ll be multiplying this higher DC by your Craft check result to determine progress). You must decide whether to increase the DC before you make each weekly or daily check.\n\nTo make an item using Craft (alchemy), you must have alchemical equipment. If you are working in a city, you can buy what you need as part of the raw materials cost to make the item, but alchemical equipment is difficult or impossible to come by in some places. Purchasing and maintaining an alchemist\u2019s lab grants a +2 circumstance bonus on Craft (alchemy) checks because you have the perfect tools for the job, but it does not affect the cost of any items made using the skill.\n\nThose who wish to construct or repair technological items use Craft (mechanical) in conjunction with technological item crafting feats. Without the Technologist feat, Craft (mechanical) can still be used to craft less advanced forms of technology such as gears, hinges, and pulleys. NPCs with the means of crafting technological items are extremely rare, and it is not assumed that PCs have access to such resources. GMs are encouraged to discuss such considerations with their players before allowing technological crafting into the game.",skill_unlock_5:"When determining your weekly progress, double the result of your Craft check before multiplying the result by the item\u2019s DC.",skill_unlock_10:"You do not ruin any of your raw materials unless you fail a check by 10 or more.",skill_unlock_15:"When you determine your progress, the result of your check is how much work you complete each day in silver pieces.",skill_unlock_20:"You can craft magic armor, magic weapons, magic rings, and wondrous items that fall under your category of Craft using the normal Craft rules."},{id:12,name:"Heal",ability_score:"Wisdom",description:"The DC and effect of a Heal check depend on the task you attempt.\n\n<table>\n  <tr>\n    <th>Task</th>\n    <th>Heal DC</th>\n  </tr>\n  <tr>\n    <td>First Aid</td>\n    <td>15</td>\n  </tr>\n  <tr>\n    <td>Long-Term Care</td>\n    <td>15</td>\n  </tr>\n  <tr>\n    <td>Treat Wounds from Caltrops, spike growth, or spike stones</td>\n    <td>15</td>\n  </tr>\n  <tr>\n    <td>Treat Deadly Wounds</td>\n    <td>20</td>\n  </tr>\n  <tr>\n    <td>Treat Poison</td>\n    <td>Poison's Save DC</td>\n  </tr>\n  <tr>\n    <td>Treat Disease</td>\n    <td>Disease's Save DC</td>\n  </tr>\n</table>\n\nFirst Aid: You usually use first aid to save a dying character. If a character has negative hit points and is losing hit points (at the rate of 1 per round, 1 per hour, or 1 per day), you can make him stable. A stable character regains no hit points but stops losing them. First aid also stops a character from losing hit points due to effects that cause bleed.\n\nLong-Term Care: Providing long-term care means treating a wounded person for a day or more. If your Heal check is successful, the patient recovers hit points or ability score points lost to ability damage at twice the normal rate: 2 hit points per level for a full 8 hours of rest in a day, or 4 hit points per level for each full day of complete rest; 2 ability score points for a full 8 hours of rest in a day, or 4 ability score points for each full day of complete rest.\n\nYou can tend to as many as six patients at a time. You need a few items and supplies (bandages, salves, and so on) that are easy to come by in settled lands. Giving long-term care counts as light activity for the healer. You cannot give long-term care to yourself.\n\nTreat Wounds from Caltrops, Spike Growth, or Spike Stones: A creature wounded by stepping on a caltrop moves at half normal speed. A successful Heal check removes this movement penalty.\n\nA creature wounded by a spike growth or spike stones spell must succeed on a Ref lex save or take injuries that reduce his speed by one-third. Another character can remove this penalty by taking 10 minutes to dress the victim\u2019s injuries and succeeding on a Heal check against the spell\u2019s save DC.\n\nTreat Deadly Wounds: When treating deadly wounds, you can restore hit points to a damaged creature. Treating deadly wounds restores 1 hit point per level of the creature. If you exceed the DC by 5 or more, add your Wisdom modifier (if positive) to this amount. A creature can only benefit from its deadly wounds being treated within 24 hours of being injured and never more than once per day. You must expend two uses from a healer\u2019s kit to perform this task. You take a \u20132 penalty on your Heal skill check for each use from the healer\u2019s kit that you lack.\n\nTreat Poison: To treat poison means to tend to a single character who has been poisoned and who is going to take more damage from the poison (or suffer some other effect). Every time the poisoned character makes a saving throw against the poison, you make a Heal check. If your Heal check exceeds the DC of the poison, the character receives a +4 competence bonus on his saving throw against the poison.\n\nTreat Disease: To treat a disease means to tend to a single diseased character. Every time the diseased character makes a saving throw against disease effects, you make a Heal check. If your Heal check exceeds the DC of the disease, the character receives a +4 competence bonus on his saving throw against the disease.",untrained:!0,customizable:!1,knowledge:!1,blurb:"You are skilled at tending to wounds and ailments.",action:"Providing first aid, treating a wound, or treating poison is a standard action. Treating a disease or tending a creature wounded by a spike growth or spike stones spell takes 10 minutes of work. Treating deadly wounds takes 1 hour of work. Providing long-term care requires 8 hours of light activity.",try_again:"Varies. Generally speaking, you can\u2019t try a Heal check again without witnessing proof of the original check\u2019s failure. You can always retry a check to provide first aid, assuming the target of the previous attempt is still alive.",special:"A healer\u2019s kit gives you a +2 circumstance bonus on Heal checks.",skill_unlock_5:"When you treat deadly wounds, the target recovers hit points and ability damage as if it had rested for a full day.",skill_unlock_10:"When you treat deadly wounds, the target recovers hit points as if it had rested for a full day with long-term care.",skill_unlock_15:"When you treat deadly wounds, the creature recovers hit point and ability damage as if it had rested for 3 days.",skill_unlock_20:"When you treat deadly wounds, the target recovers hit point and ability damage as if it had rested for 3 days with long-term care."},{id:13,name:"Intimidate",ability_score:"Charisma",description:"You can use Intimidate to force an opponent to act friendly toward you for 1d6 \xd7 10 minutes with a successful check. The DC of this check is equal to 10 + the target\u2019s Hit Dice + the target\u2019s Wisdom modifier. If successful, the target gives you the information you desire, takes actions that do not endanger it, or otherwise offers limited assistance. After the Intimidate expires, the target treats you as unfriendly and may report you to local authorities. If you fail this check by 5 or more, the target attempts to deceive you or otherwise hinder your activities.\n\nDemoralize: You can use this skill to cause an opponent to become shaken for a number of rounds. The DC of this check is equal to 10 + the target\u2019s Hit Dice + the target\u2019s Wisdom modifier. If you are successful, the target is shaken for 1 round. This duration increases by 1 round for every 5 by which you beat the DC. You can only threaten an opponent in this way if it is within 30 feet and can clearly see and hear you. Using demoralize on the same creature only extends the duration; it does not create a stronger fear condition.",untrained:!0,customizable:!1,knowledge:!1,blurb:"You can use this skill to frighten your opponents or to get them to act in a way that benefits you. This skill includes verbal threats and displays of prowess.",action:"Using Intimidate to change an opponent\u2019s attitude requires 1 minute of conversation. Demoralizing an opponent is a standard action.",try_again:"You can attempt to Intimidate an opponent again, but each additional check increases the DC by +5. This increase resets after 1 hour has passed.",special:"You also gain a +4 bonus on Intimidate checks if you are larger than your target and a \u20134 penalty on Intimidate checks if you are smaller than your target.",skill_unlock_5:"If you exceed the DC to demoralize a target by at least 10, it is frightened for 1 round and shaken thereafter. A Will save (DC = 10 + your number of ranks in Intimidate) negates the frightened condition, but the target is still shaken, even if it has the stalwart ability.",skill_unlock_10:"If you exceed the DC to demoralize a target by at least 10, it is panicked for 1 round or frightened for 1d4 rounds (your choice) and shaken thereafter. A Will save (DC = 10 + your number of ranks in Intimidate) negates the frightened or panicked condition, but the target is still shaken, even if it has the stalwart ability.",skill_unlock_15:"If you exceed the DC to demoralize a target by at least 20, it is cowering for 1 round or panicked for 1d4 rounds (your choice) and frightened thereafter. A Will save (DC = 10 + your number of ranks in Intimidate) negates the cowering, panicked, and frightened conditions, but the target is still shaken, even if it has the stalwart ability.",skill_unlock_20:"If you exceed the DC to demoralize a target by at least 20, it is cowering for 1d4 rounds and panicked thereafter. A Will save (DC = 10 + your number of ranks in Intimidate) negates the cowering and panicked conditions, but the target is still shaken, even if it has the stalwart ability."},{id:24,name:"Knowledge",ability_score:"Intelligence",description:"Arcana (ancient mysteries, magic traditions, arcane symbols, constructs, dragons, magical beasts)\n\nDungeoneering (aberrations, caverns, oozes, spelunking)\n\nEngineering (buildings, aqueducts, bridges, fortifications)\n\nGeography (lands, terrain, climate, people)\n\nHistory (wars, colonies, migrations, founding of cities)\n\nLocal (legends, personalities, inhabitants, laws, customs, traditions, humanoids)\n\nNature (animals, fey, monstrous humanoids, plants, seasons and cycles, weather, vermin)\n\nNobility (lineages, heraldry, personalities, royalty)\n\nPlanes (the Inner Planes, the Outer Planes, the Astral Plane, the Ethereal Plane, outsiders, planar magic)\n\nReligion (gods and goddesses, mythic history, ecclesiastic tradition, holy symbols, undead)\n\nAnswering a question within your field of study has a DC of 10 (for really easy questions), 15 (for basic questions), or 20 to 30 (for really tough questions).\n\nYou can use this skill to identify monsters and their special powers or vulnerabilities. In general, the DC of such a check equals 10 + the monster\u2019s CR. For common monsters, such as goblins, the DC of this check equals 5 + the monster\u2019s CR. For particularly rare monsters, such as the tarrasque, the DC of this check equals 15 + the monster\u2019s CR, or more. A successful check allows you to remember a bit of useful information about that monster. For every 5 points by which your check result exceeds the DC, you recall another piece of useful information. Many of the Knowledge skills have specific uses as noted on the below table.\n\n<table>\n  <tr>\n    <th>Tasks</th>\n    <th>Knowledge Skill</th>\n    <th>DC</th>\n  </tr>\n  <tr>\n    <td>Identify Auras While Using Detect Magic</td>\n    <td>Arcana</td>\n    <td>15 + Spell Level</td>\n  </tr>\n  <tr>\n    <td>Identify a Spell Effect That Is In Place</td>\n    <td>Arcana</td>\n    <td>20 + Spell Level</td>\n  </tr>\n  <tr>\n    <td>Identify Materials Manufactured by Magic</td>\n    <td>Arcana</td>\n    <td>20 + Spell Level</td>\n  </tr>\n  <tr>\n    <td>Identify a Spell That Just Targeted You</td>\n    <td>Arcana</td>\n    <td>25 + Spell Level</td>\n  </tr>\n  <tr>\n    <td>Identify the Spells Cast Using a Specific Material Component</td>\n    <td>Arcana</td>\n    <td>20</td>\n  </tr>\n  <tr>\n    <td>Identify Underground Hazard</td>\n    <td>Dungeoneering</td>\n    <td>15 + Hazard's CR</td>\n  </tr>\n  <tr>\n    <td>Identify Mineral, Stone, or Metal</td>\n    <td>Dungeoneering</td>\n    <td>10</td>\n  </tr>\n  <tr>\n    <td>Determine Slope</td>\n    <td>Dungeoneering</td>\n    <td>15</td>\n  </tr>\n  <tr>\n    <td>Determine Depth Underground</td>\n    <td>Dungeoneering</td>\n    <td>20</td>\n  </tr>\n  <tr>\n    <td>Identify Dangerous Construction</td>\n    <td>Engineering</td>\n    <td>10</td>\n  </tr>\n  <tr>\n    <td>Determine a Structure's Style or Age</td>\n    <td>Engineering</td>\n    <td>15</td>\n  </tr>\n  <tr>\n    <td>Determine a Structure's Weakness</td>\n    <td>Engineering</td>\n    <td>20</td>\n  </tr>\n  <tr>\n    <td>Identify a Creature's Ethnicity or Accent</td>\n    <td>Geography</td>\n    <td>10</td>\n  </tr>\n  <tr>\n    <td>Recognize Regional Terrain Features</td>\n    <td>Geography</td>\n    <td>15</td>\n  </tr>\n  <tr>\n    <td>Know Location of Nearest Community or Noteworthy Site</td>\n    <td>Geography</td>\n    <td>20</td>\n  </tr>\n  <tr>\n    <td>Know Recent or Historically Significant Date</td>\n    <td>History</td>\n    <td>10</td>\n  </tr>\n  <tr>\n    <td>Determine Approximate Date of Specific Event</td>\n    <td>History</td>\n    <td>15</td>\n  </tr>\n  <tr>\n    <td>Know Obscure or Ancient Historical Event</td>\n    <td>History</td>\n    <td>20</td>\n  </tr>\n  <tr>\n    <td>Know Local Laws, Rulers, and Popular Locations</td>\n    <td>Local</td>\n    <td>10</td>\n  </tr>\n  <tr>\n    <td>Know a Common Rumor or Local Tradition</td>\n    <td>Local</td>\n    <td>15</td>\n  </tr>\n  <tr>\n    <td>Know Hidden Organizations, Rulers, and Locations</td>\n    <td>Local</td>\n    <td>20</td>\n  </tr>\n  <tr>\n    <td>Identify Natural Hazard</td>\n    <td>Nature</td>\n    <td>15 + Hazard's CR</td>\n  </tr>\n  <tr>\n    <td>Identify a Common Plant or Animal</td>\n    <td>Nature</td>\n    <td>10</td>\n  </tr>\n  <tr>\n    <td>Identify Unnatural Weather Phenomenon</td>\n    <td>Nature</td>\n    <td>15</td>\n  </tr>\n  <tr>\n    <td>Determine Artifical Nature of Feature</td>\n    <td>Nature</td>\n    <td>20</td>\n  </tr>\n  <tr>\n    <td>Know Current Rulers and Their Symbols</td>\n    <td>Nobility</td>\n    <td>10</td>\n  </tr>\n  <tr>\n    <td>Know Proper Etiquette</td>\n    <td>Nobility</td>\n    <td>15</td>\n  </tr>\n  <tr>\n    <td>Know Line of Succession</td>\n    <td>Nobility</td>\n    <td>20</td>\n  </tr>\n  <tr>\n    <td>Know the Names of the Planes</td>\n    <td>Planes</td>\n    <td>10</td>\n  </tr>\n  <tr>\n    <td>Recognize Current Plane</td>\n    <td>Planes</td>\n    <td>15</td>\n  </tr>\n  <tr>\n    <td>Identify a Creature's Planar Origin</td>\n    <td>Planes</td>\n    <td>20</td>\n  </tr>\n  <tr>\n    <td>Recognize a Common Deity's Symbol or Clergy</td>\n    <td>Religion</td>\n    <td>10</td>\n  </tr>\n  <tr>\n    <td>Know Common Mythology and Tenets</td>\n    <td>Religion</td>\n    <td>15</td>\n  </tr>\n  <tr>\n    <td>Recognize an Obscure Deity's Symbol or Clergy</td>\n    <td>Religion</td>\n    <td>20</td>\n  </tr>\n  <tr>\n    <td>Identify a Monster's Abilities and Weaknesses</td>\n    <td>Varies</td>\n    <td>10 + Monster's CR</td>\n  </tr>\n</table>",untrained:!1,customizable:!0,knowledge:!0,blurb:"You are educated in a field of study and can answer both simple and complex questions. Like the Craft, Perform, and Profession skills, Knowledge actually encompasses a number of different specialties.",action:"Usually none. In most cases, a Knowledge check doesn\u2019t take an action.",try_again:"No. The check represents what you know, and thinking about a topic a second time doesn\u2019t let you know something that you never learned in the first place.",special:"You cannot make an untrained Knowledge check with a DC higher than 10. If you have access to an extensive library that covers a specific skill, this limit is removed. The time to make checks using a library, however, increases to 1d4 hours. Particularly complete libraries might even grant a bonus on Knowledge checks in the fields that they cover.",skill_unlock_5:"When you successfully identify a creature, you gain one additional piece of information for every 5 ranks you possess in that Knowledge skill.",skill_unlock_10:"When you successfully identify a creature, you gain a +1 competence bonus on attack rolls, opposed ability checks, skill checks, and caster level checks against creatures of that kind (e.g., glabrezu demons, but not other demons or evil outsiders) for 1 minute. This bonus increases by 1 for every 5 ranks beyond 10 you possess in that Knowledge skill.",skill_unlock_15:"When you fail a Knowledge check, you can reroll the check at a \u201310 penalty. The competence bonus above also applies to saving throws against exceptional, spell-like, or supernatural abilities used by creatures you identify.",skill_unlock_20:"Whenever you attempt a Knowledge check, you can roll twice and take the better result."},{id:26,name:"Perception",ability_score:"Wisdom",description:"Perception has a number of uses, the most common of which is an opposed check versus an opponent\u2019s Stealth check to notice the opponent and avoid being surprised. If you are successful, you notice the opponent and can react accordingly. If you fail, your opponent can take a variety of actions, including sneaking past you and attacking you.\n\nPerception is also used to notice fine details in the environment. The DC to notice such details varies depending upon distance, the environment, and how noticeable the detail is. The following table gives a number of guidelines.\n\n<table>\n  <tr>\n    <th>Detail</th>\n    <th>Perception DC</th>\n  </tr>\n  <tr>\n    <td>Hear the Sound of Battle</td>\n    <td>-10</td>\n  </tr>\n  <tr>\n    <td>Notice the Stench of Rotting Garbage</td>\n    <td>-10</td>\n  </tr>\n  <tr>\n    <td>Detect the Smell of Smoke</td>\n    <td>0</td>\n  </tr>\n  <tr>\n    <td>Hear the Details of a Conversation</td>\n    <td>0</td>\n  </tr>\n  <tr>\n    <td>Notice a Visible Creature</td>\n    <td>0</td>\n  </tr>\n  <tr>\n    <td>Determine if Food is Spoiled</td>\n    <td>5</td>\n  </tr>\n  <tr>\n    <td>Hear the Sound of a Creature Walking</td>\n    <td>10</td>\n  </tr>\n  <tr>\n    <td>Hear the Details of a Whispered Conversation</td>\n    <td>15</td>\n  </tr>\n  <tr>\n    <td>Find the Average Concealed Door</td>\n    <td>15</td>\n  </tr>\n  <tr>\n    <td>Hear the Sound of a Key Being Turned in a Lock</td>\n    <td>20</td>\n  </tr>\n  <tr>\n    <td>Find the Average Secret Door</td>\n    <td>20</td>\n  </tr>\n  <tr>\n    <td>Hear a Bow Being Drawn</td>\n    <td>25</td>\n  </tr>\n  <tr>\n    <td>Sense a Burrowing Creature Underneath You</td>\n    <td>25</td>\n  </tr>\n  <tr>\n    <td>Notice a Pickpocket</td>\n    <td>Opposed by Sleight of Hand</td>\n  </tr>\n  <tr>\n    <td>Notice a Creature Using Stealth</td>\n    <td>Opposed by Stealth</td>\n  </tr>\n  <tr>\n    <td>Find a Hidden Trap</td>\n    <td>Varies by Trap</td>\n  </tr>\n  <tr>\n    <td>Identify the Powers of a Potion through Taste</td>\n    <td>15 + Potion's Caster Level</td>\n  </tr>\n</table>\n\n<table>\n  <tr>\n    <th>Perception Modifiers</th>\n    <th>DC Modifier</th>\n  </tr>\n  <tr>\n    <td>Distance to the Source, Object, or Creature</td>\n    <td>+1 per 10 Feet</td>\n  </tr>\n  <tr>\n    <td>Through a Closed Door</td>\n    <td>+5</td>\n  </tr>\n  <tr>\n    <td>Through a Wall</td>\n    <td>+10 per Foot</td>\n  </tr>\n  <tr>\n    <td>Favorable Conditions</td>\n    <td>-2</td>\n  </tr>\n  <tr>\n    <td>Unfavorable Conditions</td>\n    <td>+2</td>\n  </tr>\n  <tr>\n    <td>Terrible Conditions</td>\n    <td>+5</td>\n  </tr>\n  <tr>\n    <td>Creature Making the Check is Distracted</td>\n    <td>+5</td>\n  </tr>\n  <tr>\n    <td>Creature Making the Check is Asleep</td>\n    <td>+10</td>\n  </tr>\n  <tr>\n    <td>Creature or Object is Invisible</td>\n    <td>+20</td>\n  </tr>\n</table>",untrained:!0,customizable:!1,knowledge:!1,blurb:"Your senses allow you to notice fine details and alert you to danger. Perception covers all five senses, including sight, hearing, touch, taste, and smell.",action:"Most Perception checks are reactive, made in response to observable stimulus. Intentionally searching for stimulus is a move action.",try_again:"Yes. You can try to sense something you missed the first time, so long as the stimulus is still present.",special:"Creatures with the scent special quality have a +8 bonus on Perception checks made to detect a scent. Creatures with the tremorsense special quality have a +8 bonus on Perception checks against creatures touching the ground and automatically make any such checks within their range.",skill_unlock_5:"You remain alert to sounds even in your sleep, and the normal DC increase to Perception checks when you are sleeping is halved. The distance modifier on the DC of Perception checks you attempt is reduced to +1 per 20 feet.",skill_unlock_10:"The distance modifier on the DC of Perception checks you attempt is reduced to +1 per 30 feet. In addition, you gain a +5 bonus on Perception checks to notice or locate an invisible creature or object.",skill_unlock_15:"You remain alert to sounds even in your sleep, and the normal DC increase to Perception checks when you are sleeping doesn\u2019t apply to you. The distance modifier on the DC of your Perception checks is reduced to +1 per 40 feet.",skill_unlock_20:"You gain a +10 bonus on Perception checks to notice invisible creatures or objects. The distance modifier on the DC of Perception checks you attempt is reduced to +1 per 60 feet."},{id:28,name:"Profession",ability_score:"Wisdom",description:"You can earn half your Profession check result in gold pieces per week of dedicated work. You know how to use the tools of your trade, how to perform the profession\u2019s daily tasks, how to supervise helpers, and how to handle common problems. You can also answer questions about your Profession. Basic questions are DC 10, while more complex questions are DC 15 or higher.\n\nA profession often encompasses many smaller areas of expertise, and these auxiliary skills can come in handy in situations beyond just making money or answering trade-specific questions. Below are some sample additional uses for Profession skills, and GMs are encouraged to create their own.\n\n<table>\n  <tr>\n    <th>Task</th>\n    <th>Profession Skill</th>\n    <th>DC</th>\n  </tr>\n  <tr>\n    <td>Determine Hardness and Hit Points of a Structure</td>\n    <td>Architect or Engineer</td>\n    <td>20</td>\n  </tr>\n  <tr>\n    <td>Prepare Trail Rations (Takes 1 Hour Per Day's Worth of Rations)</td>\n    <td>Baker or Cook</td>\n    <td>10</td>\n  </tr>\n  <tr>\n    <td>Obtain a Legal Permit</td>\n    <td>Barrister or Clerk</td>\n    <td>15</td>\n  </tr>\n  <tr>\n    <td>Get Somone Released From Jail Who Has Been Imprisoned for a Minor Crime</td>\n    <td>Barrister</td>\n    <td>20</td>\n  </tr>\n  <tr>\n    <td>Ask a Special Favor From a Judge (Such as Arresting Someone)</td>\n    <td>Barrister</td>\n    <td>30</td>\n  </tr>\n  <tr>\n    <td>Brew Alcohol of Exceptional Quality</td>\n    <td>Brewer</td>\n    <td>20</td>\n  </tr>\n  <tr>\n    <td>Notice Poison in a Beverage</td>\n    <td>Brewer</td>\n    <td>25</td>\n  </tr>\n  <tr>\n    <td>Skin an Animal and Tan the Hide</td>\n    <td>Butcher, Shepherd, or Tanner</td>\n    <td>10</td>\n  </tr>\n  <tr>\n    <td>Slaughter and Butcher an Animal</td>\n    <td>Butcher, Cook, or Shepherd</td>\n    <td>15</td>\n  </tr>\n  <tr>\n    <td>Reduce a Legal Fine or Tax By Half the Result of the Check in gp (up to 75%)</td>\n    <td>Clerk</td>\n    <td>20+</td>\n  </tr>\n  <tr>\n    <td>Cook a Meal of Exceptional Quality</td>\n    <td>Cook</td>\n    <td>20</td>\n  </tr>\n  <tr>\n    <td>Notice Poison in Food</td>\n    <td>Cook</td>\n    <td>25</td>\n  </tr>\n  <tr>\n    <td>Find Potential Clients within an Establishment or Large Group</td>\n    <td>Courtesan</td>\n    <td>15</td>\n  </tr>\n  <tr>\n    <td>Continue Steering a Vehicle When You Take Damage</td>\n    <td>Driver or Sailor</td>\n    <td>5</td>\n  </tr>\n  <tr>\n    <td>Take Cover (As The Ride Skill) While Steering a Vehicle</td>\n    <td>Driver or Sailor</td>\n    <td>15</td>\n  </tr>\n  <tr>\n    <td>Identify a Non-Creature Plant</td>\n    <td>Farmer or Gardener</td>\n    <td>10</td>\n  </tr>\n  <tr>\n    <td>Rejuvinate Dying Plants</td>\n    <td>Farmer or Gardener</td>\n    <td>15</td>\n  </tr>\n  <tr>\n    <td>Provide 1 Day's Worth of Food for Yourself and Others in the Wild</td>\n    <td>Fisherman or Trapper</td>\n    <td>15</td>\n  </tr>\n  <tr>\n    <td>Recall the Rules of a Game of Chance</td>\n    <td>Gambler</td>\n    <td>10</td>\n  </tr>\n  <tr>\n    <td>Get a Hunch Regarding Whether a Game is Rigged</td>\n    <td>Gambler</td>\n    <td>20</td>\n  </tr>\n  <tr>\n    <td>Reduce an Average or Lower Cost of Living by 50%</td>\n    <td>Innkeeper</td>\n    <td>15</td>\n  </tr>\n  <tr>\n    <td>Sate Hunger or Thirst for 1 Day</td>\n    <td>Herbalist</td>\n    <td>10</td>\n  </tr>\n  <tr>\n    <td>Identify Common Medicinal Herbs</td>\n    <td>Herbalist</td>\n    <td>10</td>\n  </tr>\n  <tr>\n    <td>Identify Rare Medicinal Herbs</td>\n    <td>Herbalist</td>\n    <td>15</td>\n  </tr>\n  <tr>\n    <td>Aid Another on a Knowledge Check Using Reference Material</td>\n    <td>Librarian</td>\n    <td>5</td>\n  </tr>\n  <tr>\n    <td>Recall the Name of a Rare Book</td>\n    <td>Librarian</td>\n    <td>15</td>\n  </tr>\n  <tr>\n    <td>Determine Where an Item was Manufactured</td>\n    <td>Merchant</td>\n    <td>10+</td>\n  </tr>\n  <tr>\n    <td>Recall Where a Common Good Fetches a Higher Price</td>\n    <td>Merchant</td>\n    <td>15</td>\n  </tr>\n  <tr>\n    <td>Safely Deliver a Child</td>\n    <td>Midwife</td>\n    <td>15</td>\n  </tr>\n  <tr>\n    <td>Safely Deliver a Child Despite Complications</td>\n    <td>Midwife</td>\n    <td>20</td>\n  </tr>\n  <tr>\n    <td>Grind a Small Piece of Nonmagical Substance into Powder</td>\n    <td>Miller</td>\n    <td>10 + Hardness</td>\n  </tr>\n  <tr>\n    <td>Identify Common Metal or Semiprecious Stone</td>\n    <td>Miner</td>\n    <td>5</td>\n  </tr>\n  <tr>\n    <td>Identify Rare Metal or Precious Gem</td>\n    <td>Miner</td>\n    <td>15</td>\n  </tr>\n  <tr>\n    <td>Ignore Half Hardness When Attacking a Stone or Metal Object</td>\n    <td>Miner</td>\n    <td>20</td>\n  </tr>\n  <tr>\n    <td>Increase Carrying Capacity for 8 Hours as if Strength were 2 Higher</td>\n    <td>Porter</td>\n    <td>15</td>\n  </tr>\n  <tr>\n    <td>Unload a Vessel in Half the Normal Time</td>\n    <td>Porter</td>\n    <td>20</td>\n  </tr>\n  <tr>\n    <td>Navigate a Ship in Fair Conditions</td>\n    <td>Sailor</td>\n    <td>20</td>\n  </tr>\n  <tr>\n    <td>Pilot a Ship Safely Through a Hazardous Seaway</td>\n    <td>Sailor</td>\n    <td>25+</td>\n  </tr>\n  <tr>\n    <td>Determine Which Scribe Wrote a Document</td>\n    <td>Scribe</td>\n    <td>10+</td>\n  </tr>\n  <tr>\n    <td>Copy a Document (30 Minutes per Page; Requires a Blank Book)</td>\n    <td>Scribe</td>\n    <td>10</td>\n  </tr>\n  <tr>\n    <td>Illuminate a Manuscript (1 Hour per Page)</td>\n    <td>Scribe</td>\n    <td>20</td>\n  </tr>\n  <tr>\n    <td>Determine the Quality of Woolen Textiles</td>\n    <td>Shepherd</td>\n    <td>10</td>\n  </tr>\n  <tr>\n    <td>Determine Whether a Weapon or Armor is of Masterwork Quality</td>\n    <td>Soldier</td>\n    <td>10</td>\n  </tr>\n  <tr>\n    <td>Estimate the Size of a Military Force</td>\n    <td>Soldier</td>\n    <td>15</td>\n  </tr>\n  <tr>\n    <td>Identify Advantages and Disadvantages of a Military Formation</td>\n    <td>Soldier</td>\n    <td>20</td>\n  </tr>\n  <tr>\n    <td>Keep Horses Fed in the Wild</td>\n    <td>Stable Master</td>\n    <td>10</td>\n  </tr>\n  <tr>\n    <td>Fit or Remove Barding in Half the Normal Time</td>\n    <td>Stable Master</td>\n    <td>15</td>\n  </tr>\n  <tr>\n    <td>Recognize Damaged or Sabotaged Horse Tack</td>\n    <td>Stable Master</td>\n    <td>20</td>\n  </tr>\n  <tr>\n    <td>Determine the Quality of Leatherwork (and Tell If It's Masterwork Quality)</td>\n    <td>Tanner</td>\n    <td>10</td>\n  </tr>\n  <tr>\n    <td>Aid Another on an Skill Check to Get Out of a Trap or Snare</td>\n    <td>Trapper</td>\n    <td>5</td>\n  </tr>\n  <tr>\n    <td>Reset a Trap in Half the Normal Amount of Time</td>\n    <td>Trapper</td>\n    <td>15</td>\n  </tr>\n  <tr>\n    <td>Scavenge Wood Suitable for Campfire or Shelter</td>\n    <td>Woodcutter</td>\n    <td>5</td>\n  </tr>\n  <tr>\n    <td>Ignore Half Hardness When Attacking Wooden Object</td>\n    <td>Woodcutter</td>\n    <td>20</td>\n  </tr>\n</table>",untrained:!1,customizable:!0,knowledge:!1,blurb:"You are skilled at a specific job. Like Craft, Knowledge, and Perform, Profession is actually a number of separate skills. You could have several Profession skills, each with its own ranks. While a Craft skill represents ability in creating an item, a Profession skill represents an aptitude in a vocation requiring a broader range of less specific knowledge. The most common Profession skills are architect, baker, barrister, brewer, butcher, clerk, cook, courtesan, driver, engineer, farmer, f isherman, gambler, gardener, herbalist, innkeeper, librarian, merchant, midwife, miller, miner, porter, sailor, scribe, shepherd, stable master, soldier, tanner, trapper, and woodcutter.",action:"Not applicable. A single check generally represents a week of work.",try_again:"Varies. An attempt to use a Profession skill to earn income cannot be retried. You are stuck with whatever weekly wage your check result brought you. Another check may be made after a week to determine a new income for the next period of time. An attempt to accomplish some specific task can usually be retried.",special:"Untrained laborers and assistants (that is, characters without any ranks in Profession) earn an average of 1 silver piece per day.",skill_unlock_5:"When using Profession checks to earn income, you earn gold pieces equal to the result of your check each week.",skill_unlock_10:"When attempting Profession checks, you can roll twice and take the better result. When answering questions about your Profession, you can always take 10.",skill_unlock_15:"You can attempt checks to earn income once per day instead of once per week.",skill_unlock_20:"When attempting Profession checks, you can choose to roll once instead of twice. If you do and the result of the roll is less than 10, replace it with 10. When answering questions about your Profession, you can always take 20."},{id:33,name:"Stealth",ability_score:"Dexterity",description:"Your Stealth check is opposed by the Perception check of anyone who might notice you. Creatures that fail to beat your Stealth check are not aware of you and treat you as if you had total concealment. You can move up to half your normal speed and use Stealth at no penalty. When moving at a speed greater than half but less than your normal speed, you take a \u20135 penalty. It\u2019s impossible to use Stealth while attacking, running, or charging.\n\nCreatures gain a bonus or penalty on Stealth checks based on their size: Fine +16, Diminutive +12, Tiny +8, Small +4, Medium +0, Large \u20134, Huge \u20138, Gargantuan \u201312, Colossal \u201316.\n\nIf people are observing you using any of their senses (but typically sight), you can\u2019t use Stealth. Against most creatures, finding cover or concealment allows you to use Stealth. If your observers are momentarily distracted (such as by a Bluff check), you can attempt to use Stealth. While the others turn their attention from you, you can attempt a Stealth check if you can get to an unobserved place of some kind. This check, however, is made at a \u201310 penalty because you have to move fast.\n\nBreaking Stealth: When you start your turn using Stealth, you can leave cover or concealment and remain unobserved as long as you succeed at a Stealth check and end your turn in cover or concealment. Your Stealth immediately ends after you make an attack roll, whether or not the attack is successful (except when sniping as noted below).\n\nSniping: If you\u2019ve already successfully used Stealth at least 10 feet from your target, you can make one ranged attack and then immediately use Stealth again. You take a \u201320 penalty on your Stealth check to maintain your obscured location.\n\nCreating a Diversion to Hide: You can use Bluff to allow you to use Stealth. A successful Bluff check opposed by the viewer\u2019s Sense Motive can give you the momentary diversion you need to attempt a Stealth check while people are aware of you.",untrained:!0,customizable:!1,knowledge:!1,blurb:"You are skilled at avoiding detection, allowing you to slip past foes or strike from an unseen position. This skill covers hiding and moving silently.",action:"Usually none. Normally, you make a Stealth check as part of movement, so it doesn\u2019t take a separate action. However, using Stealth immediately after a ranged attack (see Sniping, above) is a move action.",try_again:"",special:"If you are invisible, you gain a +40 bonus on Stealth checks if you are immobile, or a +20 bonus on Stealth checks if you\u2019re moving.\n\nIf people are observing you using any of their senses (but typically sight), you can\u2019t use Stealth. Against most creatures, finding cover or concealment allows you to use Stealth. If your observers are momentarily distracted (such as by a Bluff check), you can attempt to use Stealth. While the others turn their attention from you, you can attempt a Stealth check if you can get to an unobserved place of some kind. This check, however, is made at a \u201310 penalty because you have to move fast.",skill_unlock_5:"Reduce the Stealth penalty from sniping by 10.",skill_unlock_10:"Stealth check penalties for moving quickly are halved, including the ability unlocked at 5 ranks, moving full speed, and reaching concealment after creating a distraction.",skill_unlock_15:"If you attack after successfully using Stealth, your target is denied its Dexterity bonus against all attacks that you make before the end of your turn.",skill_unlock_20:"If you attack after successfully using Stealth, your target is denied its Dexterity bonus against all attacks that you make before the beginning of your next turn."},{id:36,name:"Use Magic Device",ability_score:"Charisma",description:"You can use this skill to read a spell or to activate a magic item. Use Magic Device lets you use a magic item as if you had the spell ability or class features of another class, as if you were a different race, or as if you were of a different alignment.\n\nYou make a Use Magic Device check each time you activate a device such as a wand. If you are using the check to emulate an alignment or some other quality in an ongoing manner, you need to make the relevant Use Magic Device check once per hour.\n\nYou must consciously choose which requirement to emulate. That is, you must know what you are trying to emulate when you make a Use Magic Device check for that purpose. The DCs for various tasks involving Use Magic Device checks are summarized on the table below.\n\n<table>\n  <tr>\n    <th>Task</th>\n    <th>Use Magic Device DC</th>\n  </tr>\n  <tr>\n    <td>Activate Blindly</td>\n    <td>25</td>\n  </tr>\n  <tr>\n    <td>Decipher a Written Scroll</td>\n    <td>25 + Spell Level</td>\n  </tr>\n  <tr>\n    <td>Use a Scroll</td>\n    <td>20 + Caster Level</td>\n  </tr>\n  <tr>\n    <td>Use a Wand</td>\n    <td>20</td>\n  </tr>\n  <tr>\n    <td>Emulate a Class Feature</td>\n    <td>20</td>\n  </tr>\n  <tr>\n    <td>Emulate an Ability Score</td>\n    <td>See Text</td>\n  </tr>\n  <tr>\n    <td>Emulate an Ancestry</td>\n    <td>25</td>\n  </tr>\n  <tr>\n    <td>Emulate an Alignment</td>\n    <td>30</td>\n  </tr>\n</table>\n\nActivate Blindly: Some magic items are activated by special words, thoughts, or actions. You can activate such an item as if you were using the activation word, thought, or action, even when you\u2019re not and even if you don\u2019t know it. You do have to perform some equivalent activity in order to make the check. That is, you must speak, wave the item around, or otherwise attempt to get it to activate. You get a +2 bonus on your Use Magic Device check if you\u2019ve activated the item in question at least once before. If you fail by 9 or less, you can\u2019t activate the device. If you fail by 10 or more, you suffer a mishap. A mishap means that magical energy gets released but doesn\u2019t do what you wanted it to do. The default mishaps are that the item affects the wrong target or that uncontrolled magical energy is released, dealing 2d6 points of damage to you. This mishap is in addition to the chance for a mishap that you normally risk when you cast a spell from a scroll that you could not otherwise cast yourself.\n\nDecipher a Written Spell: This usage works just like deciphering a written spell with the Spellcraft skill, except that the DC is 5 points higher. Deciphering a written spell requires 1 minute of concentration.\n\nEmulate an Ability Score: To cast a spell from a scroll, you need a high score in the appropriate ability (Intelligence for wizard spells, Wisdom for divine spells, or Charisma for sorcerer or bard spells). Your effective ability score (appropriate to the class you\u2019re emulating when you try to cast the spell from the scroll) is your Use Magic Device check result minus 15. If you already have a high enough score in the appropriate ability, you don\u2019t need to make this check.\n\nEmulate an Alignment: Some magic items have positive or negative effects based on the user\u2019s alignment. Use Magic Device lets you use these items as if you were of an alignment of your choice. You can emulate only one alignment at a time.\n\nEmulate a Class Feature: Sometimes you need to use a class feature to activate a magic item. In this case, your effective level in the emulated class equals your Use Magic Device check result minus 20. This skill does not let you actually use the class feature of another class. It just lets you activate items as if you had that class feature. If the class whose feature you are emulating has an alignment requirement, you must meet it, either honestly or by emulating an appropriate alignment with a separate Use Magic Device check (see above).\n\nEmulate an Ancestry: Some magic items work only for members of certain ancestries, or work better for members of those ancestries. You can use such an item as if you were a member of an ancestry of your choice. You can emulate only one ancestry at a time.\n\nUse a Scroll: Normally, to cast a spell from a scroll, you must have the scroll\u2019s spell on your class spell list. Use Magic Device allows you to use a scroll as if you had a particular spell on your class spell list. The DC is equal to 20 + the caster level of the spell you are trying to cast from the scroll. In addition, casting a spell from a scroll requires a minimum score (10 + spell level) in the appropriate ability. If you don\u2019t have a sufficient score in that ability, you must emulate the ability score with a separate Use Magic Device check.\n\nThis use of the skill also applies to other spell completion magic items.\n\nUse a Wand, Staff, or Other Spell Trigger Item: Normally, to use a wand, you must have the wand\u2019s spell on your class spell list. This use of the skill allows you to use a wand as if you had a particular spell on your class spell list. Failing the roll does not expend a charge.",untrained:!1,customizable:!1,knowledge:!1,blurb:"You are skilled at activating magic items, even if you are not otherwise trained in their use.",action:"None. The Use Magic Device check is made as part of the action (if any) required to activate the magic item.",try_again:"Yes, but if you ever roll a natural 1 while attempting to activate an item and you fail, then you can\u2019t try to activate that item again for 24 hours.",special:"You cannot take 10 with this skill. You can\u2019t aid another on Use Magic Device checks. Only the user of the item may attempt such a check.",skill_unlock_5:"You can use the aid another action to assist another creature\u2019s Use Magic Device check by attempting a check against the item\u2019s Use Magic Device DC.",skill_unlock_10:"If you roll a natural 1 when activating an item, you take a \u201310 penalty on Use Magic Device checks with that item for 24 hours instead of being unable to activate it. This penalty stacks with itself.",skill_unlock_15:"You can use this skill to emulate two ancestries or two alignments simultaneously.",skill_unlock_20:"If you roll a natural 1 when activating an item, you can reroll the check at a \u201310 penalty to activate the item. You must take the result of the second check, even if it is worse, and you can\u2019t reroll it again."},{id:1,name:"Acrobatics",ability_score:"Dexterity",description:"You can use Acrobatics to move on narrow surfaces and uneven ground without falling. A successful check allows you to move at half speed across such surfaces\u2014only one check is needed per round. Use the following table to determine the base DC, which is then modified by the Acrobatics skill modifiers noted below. While you are using Acrobatics in this way, you are considered flat-footed and lose your Dexterity bonus to your AC (if any). If you take damage while using Acrobatics, you must immediately make another Acrobatics check at the same DC to avoid falling or being knocked prone. *No Acrobatics check is needed to move across these surfaces unless the modifiers increase the DC to 10 or higher.\n\n<table>\n  <tr>\n    <th>Surface Width</th>\n    <th>Base Acrobatics DC</th>\n  </tr>\n  <tr>\n    <td>Greater Than 3 Feet Wide</td>\n    <td>0*</td>\n  </tr>\n  <tr>\n    <td>1-3 Feet Wide</td>\n    <td>5*</td>\n  </tr>\n  <tr>\n    <td>7-11 Inches Wide</td>\n    <td>10</td>\n  </tr>\n  <tr>\n    <td>2-6 Inches Wide</td>\n    <td>15</td>\n  </tr>\n  <tr>\n    <td>Less Than 2 Inches Wide</td>\n    <td>20</td>\n  </tr>\n</table>\n\nIn addition, you can move through a threatened square without provoking an attack of opportunity from an enemy by using Acrobatics. When moving in this way, you move at half speed. You can move at full speed by increasing the DC of the check by 10. You cannot use Acrobatics to move past foes if your speed is reduced due to carrying a medium or heavy load or wearing medium or heavy armor. If an ability allows you to move at full speed under such conditions, you can use Acrobatics to move past foes. You can use Acrobatics in this way while prone, but doing so requires a full-round action to move 5 feet, and the DC is increased by 5. If you attempt to move through an enemy\u2019s space and fail the check, you lose the move action and provoke an attack of opportunity. *This DC is used to avoid an attack of opportunity due to movement. This DC increases by 2 for each additional opponent avoided in 1 round.\n\n<table>\n  <tr>\n    <th>Situation</th>\n    <th>Base Acrobatics DC*</th>\n  </tr>\n  <tr>\n    <td>Move Through a Threatened Area</td>\n    <td>Opponent's Combat Maneuver Defense</td>\n  </tr>\n  <tr>\n    <td>Move Through an Enemy's Space</td>\n    <td>5 + Opponent's Combat Maneuver Defense</td>\n  </tr>\n</table>\n\nFinally, you can use the Acrobatics skill to make jumps or to soften a fall. The base DC to make a jump is equal to the distance to be crossed (if horizontal) or four times the height to be reached (if vertical). These DCs double if you do not have at least 10 feet of space to get a running start. The only Acrobatics modifiers that apply are those concerning the surface you are jumping from. If you fail this check by 4 or less, you can attempt a DC 20 Reflex save to grab hold of the other side after having missed the jump. If you fail by 5 or more, you fail to make the jump and fall (or land prone, in the case of a vertical jump).\n\nCreatures with a base land speed above 30 feet receive a +4 racial bonus on Acrobatics checks made to jump for every 10 feet of their speed above 30 feet. Creatures with a base land speed below 30 feet receive a \u20134 racial bonus on Acrobatics checks made to jump for every 10 feet of their speed below 30 feet. No jump can allow you to exceed your maximum movement for the round.\n\nFor a running jump, the result of your Acrobatics check indicates the distance traveled in the jump (and if the check fails, the distance at which you actually land and fall prone). Halve this result for a standing long jump to determine where you land.\n\nWhen you deliberately fall any distance, even as a result of a missed jump, a DC 15 Acrobatics skill check allows you to ignore the first 10 feet fallen, although you still end up prone if you take damage from a fall.\n\n<table>\n  <tr>\n    <th>Long Jump</th>\n    <th>Acrobatics DC</th>\n  </tr>\n  <tr>\n    <td>5 Feet</td>\n    <td>5</td>\n  </tr>\n  <tr>\n    <td>10 Feet</td>\n    <td>10</td>\n  </tr>\n  <tr>\n    <td>15 Feet</td>\n    <td>15</td>\n  </tr>\n  <tr>\n    <td>20 Feet</td>\n    <td>20</td>\n  </tr>\n  <tr>\n    <td>Greater Than 20 Feet</td>\n    <td>+5 per 5 Feet</td>\n  </tr>\n</table>\n\n<table>\n  <tr>\n    <th>High Jump</th>\n    <th>Acrobatics DC</th>\n  </tr>\n  <tr>\n    <td>1 Foot</td>\n    <td>4</td>\n  </tr>\n  <tr>\n    <td>2 Feet</td>\n    <td>8</td>\n  </tr>\n  <tr>\n    <td>3 Feet</td>\n    <td>12</td>\n  </tr>\n  <tr>\n    <td>4 Feet</td>\n    <td>16</td>\n  </tr>\n  <tr>\n    <td>Greater Than 4 Feet</td>\n    <td>+4 per Foot</td>\n  </tr>\n</table>\n\nThe following modifiers apply to all Acrobatics skill checks. The modifiers stack with one another, but only the most severe modifier for any given condition applies.\n\n<table>\n  <tr>\n    <th>Acrobatics Modifiers</th>\n    <th>DC Modifier</th>\n  </tr>\n  <tr>\n    <td>Slightly Obstructed (Gravel, Sand)</td>\n    <td>+2</td>\n  </tr>\n  <tr>\n    <td>Severyly Obstructed (Cavern, Rubble)</td>\n    <td>+5</td>\n  </tr>\n  <tr>\n    <td>Slightly Slippery (Wet)</td>\n    <td>+2</td>\n  </tr>\n  <tr>\n    <td>Severly Slippery</td>\n    <td>+5</td>\n  </tr>\n  <tr>\n    <td>Slightly Sloped (<45 degrees)</td>\n    <td>+2</td>\n  </tr>\n  <tr>\n    <td>Severly Sloped (>45 degrees)</td>\n    <td>+5</td>\n  </tr>\n  <tr>\n    <td>Slightly Unsteady (Boat in Rough Water)</td>\n    <td>+2</td>\n  </tr>\n  <tr>\n    <td>Moderately Unsteady (Boat in a Storm)</td>\n    <td>+5</td>\n  </tr>\n  <tr>\n    <td>Move at Full Speed on Narrow or Uneven Surfaces</td>\n    <td>+5 (not to Jumps)</td>\n  </tr>\n</table>",untrained:!0,customizable:!1,knowledge:!1,blurb:"You can keep your balance while traversing narrow or treacherous surfaces. You can also dive, flip, jump, and roll, avoiding attacks and confusing your opponents.",action:"None. An Acrobatics check is made as part of another action or as a reaction to a situation.",try_again:"",special:"If you have 3 or more ranks in Acrobatics, you gain a +3 dodge bonus to AC when fighting defensively instead of the usual +2, and a +6 dodge bonus to AC when taking the total defense action instead of the usual +4.",skill_unlock_5:"You can move at normal speed through a threatened square without provoking an attack of opportunity by increasing the DC of the check by 5 (instead of by 10). You aren\u2019t denied your Dexterity bonus when attempting Acrobatics checks with DCs of 20 or lower.",skill_unlock_10:"You can attempt an Acrobatics check at a \u201310 penalty and use the result as your CMD against trip maneuvers. You can also attempt an Acrobatics check at a \u201310 penalty in place of a Reflex save to avoid falling. You must choose to use this ability before the trip attempt or Reflex save is rolled. With a successful DC 20 Acrobatics check, you treat an unintentional fall as 10 feet shorter plus 10 feet for every 10 by which you exceed the DC, and treat an intentional fall as 10 feet shorter for every 10 by which you exceed the DC.",skill_unlock_15:"You do not provoke attacks of opportunity when standing up from prone.",skill_unlock_20:"You double the result of any Acrobatics check when jumping and never fall prone at the end of a fall as long as you remain conscious."},{id:5,name:"Craft",ability_score:"Intelligence",description:"You can practice your trade and make a decent living, earning half your check result in gold pieces per week of dedicated work. You know how to use the tools of your trade, how to perform the craft\u2019s daily tasks, how to supervise untrained helpers, and how to handle common problems. (Untrained laborers and assistants earn an average of 1 silver piece per day.)\n\nThe basic function of the Craft skill, however, is to allow you to make an item of the appropriate type. The DC depends on the complexity of the item to be created. The DC, your check result, and the price of the item determine how long it takes to make a particular item. The item\u2019s finished price also determines the cost of raw materials.\n\nTo determine how much time and money it takes to make an item, follow these steps.\n\n1) Find the item\u2019s price in silver pieces (1 gp = 10 sp).\n\n2) Find the item\u2019s DC from Table: Craft Skills.\n\n3) Pay 1/3 of the item\u2019s price for the raw material cost.\n\n4) Make an appropriate Craft check representing one week\u2019s worth of work. If the check succeeds, multiply your check result by the DC. If the result \xd7 the DC equals the price of the item in sp, then you have completed the item. (If the result \xd7 the DC equals double or triple the price of the item in silver pieces, then you\u2019ve completed the task in one-half or one-third of the time. Other multiples of the DC reduce the time in the same manner.) If the result \xd7 the DC doesn\u2019t equal the price, then it represents the progress you\u2019ve made this week. Record the result and make a new Craft check for the next week. Each week, you make more progress until your total reaches the price of the item in silver pieces.\n\nIf you fail a check by 4 or less, you make no progress this week (or day, see below). If you miss by 5 or more, you ruin half the raw materials and have to pay half the original raw material cost again.\n\nTools: All crafts require artisan\u2019s tools to give the best chance of success. If improvised tools are used, the check is made with a \u20132 penalty. On the other hand, masterwork artisan\u2019s tools provide a +2 circumstance bonus on the check.\n\nFabricate Spell: In some cases, the fabricate spell can be used to achieve the results of a Craft check with no actual check involved. You must still make an appropriate Craft check when using the spell to make articles requiring a high degree of craftsmanship.\n\nIronwood Spell: A successful Craft check related to woodworking in conjunction with the casting of the ironwood spell enables you to make wooden items that have the strength of steel.\n\nMinor Creation: When casting the spell minor creation, you must succeed on an appropriate Craft check to make a complex item.\n\nProgress by the Day: You can make checks by the day instead of by the week. In this case your progress (check result \xd7 DC) should be divided by the number of days in a week.\n\nCreate Masterwork Items: You can make a masterwork item: a weapon, suit of armor, shield, or tool that conveys a bonus on its use through its exceptional craftsmanship. To create a masterwork item, you create the masterwork component as if it were a separate item in addition to the standard item. The masterwork component has its own price (300 gp for a weapon or 150 gp for a suit of armor or a shield, see Chapter 6 for the price of other masterwork tools) and a Craft DC of 20. Once both the standard component and the masterwork component are completed, the masterwork item is finished. The cost you pay for the masterwork component is one-third of the given amount, just as it is for the cost in raw materials.\n\nRepair Items: You can repair an item by making checks against the same DC that it took to make the item in the first place. The cost of repairing an item is one-fifth of the item\u2019s price.\n\n*You must be trained in the listed skill to attempt this task.\n\n<table>\n  <tr>\n    <th>Item/Task</th>\n    <th>Craft Skill</th>\n    <th>Craft DC</th>\n  </tr>\n  <tr>\n    <td>Craft Acid</td>\n    <td>Alchemy</td>\n    <td>15</td>\n  </tr>\n  <tr>\n    <td>Determine the Items an Alchemist Makes with Substances from Their Lab*</td>\n    <td>Alchemy</td>\n    <td>15</td>\n  </tr>\n  <tr>\n    <td>Craft Alchemist's Fire, Smokestick, or Tindertwig</td>\n    <td>Alchemy</td>\n    <td>20</td>\n  </tr>\n  <tr>\n    <td>Craft Antitoxin, Sunrod, Tanglefoot Bag, or Thunderstone</td>\n    <td>Alchemy</td>\n    <td>25</td>\n  </tr>\n  <tr>\n    <td>Craft Armor or Shield</td>\n    <td>Armor</td>\n    <td>10 + AC Bonus</td>\n  </tr>\n  <tr>\n    <td>Etch Metal Armor Plates with Decorative Designs</td>\n    <td>Armor or Paintings</td>\n    <td>15</td>\n  </tr>\n  <tr>\n    <td>Identify a Suit of Masterwork Armor on Sight</td>\n    <td>Armor</td>\n    <td>15</td>\n  </tr>\n  <tr>\n    <td>Determine What Type of Environment a Basket's Material Came From</td>\n    <td>Baskets</td>\n    <td>10</td>\n  </tr>\n  <tr>\n    <td>Determine the Specific Region a Basket's Material Came From</td>\n    <td>Baskets</td>\n    <td>20</td>\n  </tr>\n  <tr>\n    <td>Smelt Ore and Refine the Metal</td>\n    <td>Blacksmithing</td>\n    <td>15</td>\n  </tr>\n  <tr>\n    <td>Create Armor Spikes or Shield Spikes Without Craft (Armor)*</td>\n    <td>Blacksmithing</td>\n    <td>+5</td>\n  </tr>\n  <tr>\n    <td>Determine a Book's Approxiamte Age</td>\n    <td>Books</td>\n    <td>10</td>\n  </tr>\n  <tr>\n    <td>Identify a Composite Bow on Site</td>\n    <td>Bows</td>\n    <td>10</td>\n  </tr>\n  <tr>\n    <td>Craft Longbow, Shortbow, or Arrows</td>\n    <td>Bows</td>\n    <td>12</td>\n  </tr>\n  <tr>\n    <td>Craft Composite Longbow or Composite Shortbow</td>\n    <td>Bows</td>\n    <td>15</td>\n  </tr>\n  <tr>\n    <td>Identify a Masterwork Bow on Sight</td>\n    <td>Bows</td>\n    <td>15</td>\n  </tr>\n  <tr>\n    <td>Craft Composite Longbow or Composite Shortbow With High Strength Rating</td>\n    <td>Bows</td>\n    <td>15 + (2 x Rating)</td>\n  </tr>\n  <tr>\n    <td>Determine a Writer's Experience Level and Handedness*</td>\n    <td>Calligraphy</td>\n    <td>10</td>\n  </tr>\n  <tr>\n    <td>Write an Invitation That Matches Appropriate Social Conventions</td>\n    <td>Calligraphy</td>\n    <td>10</td>\n  </tr>\n  <tr>\n    <td>Make a Makeshift Barrel or Crate</td>\n    <td>Carpentry</td>\n    <td>10</td>\n  </tr>\n  <tr>\n    <td>Create a Rudiementary Raft from Found Materials</td>\n    <td>Carpentry or Ships</td>\n    <td>15</td>\n  </tr>\n  <tr>\n    <td>Carve Fine Woodworking</td>\n    <td>Carpentry or Sculptures</td>\n    <td>15</td>\n  </tr>\n  <tr>\n    <td>Craft Wooden Armor or a Wooden Shield Without Craft (Armor)</td>\n    <td>Carpentry</td>\n    <td>+5</td>\n  </tr>\n  <tr>\n    <td>Correctly Dye a Garment or Bolt of Cloth</td>\n    <td>Cloth</td>\n    <td>10</td>\n  </tr>\n  <tr>\n    <td>Mend a Sail</td>\n    <td>Cloth, Clothin, or Ships</td>\n    <td>15</td>\n  </tr>\n  <tr>\n    <td>Tailor a Garment to Another Size or Body Shape</td>\n    <td>Clothing</td>\n    <td>10</td>\n  </tr>\n  <tr>\n    <td>Create Temporary Cold-Weather Gear (Grants a +2 Bonus)</td>\n    <td>Clothing</td>\n    <td>20</td>\n  </tr>\n  <tr>\n    <td>Create Padded Armor Without Craft (Armor)</td>\n    <td>Clothing</td>\n    <td>+5</td>\n  </tr>\n  <tr>\n    <td>Craft One-Handed Firearm or Two-Handed Firearm</td>\n    <td>Firearms</td>\n    <td>20</td>\n  </tr>\n  <tr>\n    <td>Craft Seige Firearm, Heavy</td>\n    <td>Firearms</td>\n    <td>30</td>\n  </tr>\n  <tr>\n    <td>Craft Seige Firearm, Light</td>\n    <td>Firearms</td>\n    <td>35</td>\n  </tr>\n  <tr>\n    <td>Locate or Identify Naturally Formed Glass</td>\n    <td>Glass</td>\n    <td>10</td>\n  </tr>\n  <tr>\n    <td>Identify the Work of Famous Jewelers</td>\n    <td>Jewelry</td>\n    <td>15</td>\n  </tr>\n  <tr>\n    <td>Create a Fake Gemstone*</td>\n    <td>Jewelry</td>\n    <td>Opposed</td>\n  </tr>\n  <tr>\n    <td>Identify the Sort of Creature From Which a Piece of Leather Came*</td>\n    <td>Leather</td>\n    <td>10+</td>\n  </tr>\n  <tr>\n    <td>Skin an Animal and Tan the Hide</td>\n    <td>Leather</td>\n    <td>15</td>\n  </tr>\n  <tr>\n    <td>Create a High-Quality Item From the Hide of a Non-Standard Creature*</td>\n    <td>Leather</td>\n    <td>20</td>\n  </tr>\n  <tr>\n    <td>Create Leather, Studded Leather, or Hide Armor Without Craft (Armor)</td>\n    <td>Leather</td>\n    <td>+5</td>\n  </tr>\n  <tr>\n    <td>Aid Another on a Skill Check to Open a Lock*</td>\n    <td>Locks</td>\n    <td>5</td>\n  </tr>\n  <tr>\n    <td>Tune a Musical Instrument</td>\n    <td>Musical Instruments</td>\n    <td>10</td>\n  </tr>\n  <tr>\n    <td>Create Paint or Other Pigments from Scratch</td>\n    <td>Paintings</td>\n    <td>10</td>\n  </tr>\n  <tr>\n    <td>Re-create Someone's Likeness from Memory</td>\n    <td>Paintings</td>\n    <td>15</td>\n  </tr>\n  <tr>\n    <td>Re-create Someone's Likeness from an Eyewitness Account</td>\n    <td>Paintings</td>\n    <td>20</td>\n  </tr>\n  <tr>\n    <td>Create a Temporary or Makeshift Kiln</td>\n    <td>Pottery</td>\n    <td>20</td>\n  </tr>\n  <tr>\n    <td>Make a Mold of an Object or Part of a Body</td>\n    <td>Sculptures</td>\n    <td>10</td>\n  </tr>\n  <tr>\n    <td>Craft Ranged Seige Engine, Heavy</td>\n    <td>Seige Engines</td>\n    <td>20</td>\n  </tr>\n  <tr>\n    <td>Craft Ranged Seige Engine, Medium</td>\n    <td>Seige Engines</td>\n    <td>25</td>\n  </tr>\n  <tr>\n    <td>Craft Ranged Seige Engine, Light</td>\n    <td>Seige Engines</td>\n    <td>30</td>\n  </tr>\n  <tr>\n    <td>Alter Shoes to a Different Size or Foot Shape*</td>\n    <td>Shoes</td>\n    <td>10</td>\n  </tr>\n  <tr>\n    <td>Recognize a Famous Ship and Where it Likely Came From</td>\n    <td>Ships</td>\n    <td>10</td>\n  </tr>\n  <tr>\n    <td>Identify Whether a Stone Wall is Entirely Stone or a Veneer</td>\n    <td>Stonemasonry</td>\n    <td>10</td>\n  </tr>\n  <tr>\n    <td>Create a Temporary Stone Support or Small Rampart with Found Supplies</td>\n    <td>Stonemasonry</td>\n    <td>15</td>\n  </tr>\n  <tr>\n    <td>Craft Mechanical Traps</td>\n    <td>Traps</td>\n    <td>Varies</td>\n  </tr>\n  <tr>\n    <td>Determine the Age of a Mechanical Trap</td>\n    <td>Traps</td>\n    <td>15</td>\n  </tr>\n  <tr>\n    <td>Identify a Masterwork Weapon on Sight</td>\n    <td>Weapons</td>\n    <td>15</td>\n  </tr>\n  <tr>\n    <td>Craft Crossbow or Bolts</td>\n    <td>Weapons</td>\n    <td>15</td>\n  </tr>\n  <tr>\n    <td>Craft Simple Melee or Thrown Weapon</td>\n    <td>Weapons</td>\n    <td>12</td>\n  </tr>\n  <tr>\n    <td>Craft Martial Melee or Thrown Weapon</td>\n    <td>Weapons</td>\n    <td>15</td>\n  </tr>\n  <tr>\n    <td>Craft Exotic Melee or Thrown Weapon</td>\n    <td>Weapons</td>\n    <td>18</td>\n  </tr>\n  <tr>\n    <td>Very Simple Item (Wooden Spoon)</td>\n    <td>Varies</td>\n    <td>5</td>\n  </tr>\n  <tr>\n    <td>Craft Typical Item (Iron Pot)</td>\n    <td>Varies</td>\n    <td>10</td>\n  </tr>\n  <tr>\n    <td>Identify a Famous Maker's Mark</td>\n    <td>Varies</td>\n    <td>10</td>\n  </tr>\n  <tr>\n    <td>Craft High-Quality Item (Bell)</td>\n    <td>Varies</td>\n    <td>15</td>\n  </tr>\n  <tr>\n    <td>Detemine What Culture (e.g. Elves, Frost Giants) Made an Item</td>\n    <td>Varies</td>\n    <td>15</td>\n  </tr>\n  <tr>\n    <td>Craft Complex or Superior Item (Lock)</td>\n    <td>Varies</td>\n    <td>20</td>\n  </tr>\n  <tr>\n    <td>Identify an Obscure Maker's Mark*</td>\n    <td>Varies</td>\n    <td>20</td>\n  </tr>\n  <tr>\n    <td>Determine the Hardness and Hit Points of an Item*</td>\n    <td>Varies</td>\n    <td>20</td>\n  </tr>\n  <tr>\n    <td>Identify the Creator of an Item with No Mark*</td>\n    <td>Varies</td>\n    <td>30</td>\n  </tr>\n</table>\n\nThe table below lists which craft skills to use for certain prominent items and adventuring tools. This list omits obvious items - outfits are made with Craft (clothing), keelboats with Craft (ships),  and so on. More specific skills can also be used instead of the listed skill, such as using Craft (tattoos) instead of Craft (paintings) for a tattoo.\n\n<table>\n  <tr>\n    <th>Item</th>\n    <th>Craft Skill</th>\n  </tr>\n  <tr>\n    <td>Alchemist's Lab</td>\n    <td>Alchemy</td>\n  </tr>\n  <tr>\n    <td>Artisan's Tools</td>\n    <td>Blacksmithing or Carpentry</td>\n  </tr>\n  <tr>\n    <td>Backpack</td>\n    <td>Clothing or Leather</td>\n  </tr>\n  <tr>\n    <td>Barding</td>\n    <td>Armor</td>\n  </tr>\n  <tr>\n    <td>Bedroll</td>\n    <td>Cloth or Leather</td>\n  </tr>\n  <tr>\n    <td>Caltrops</td>\n    <td>Weapons</td>\n  </tr>\n  <tr>\n    <td>Cart or Carriage</td>\n    <td>Carpentry</td>\n  </tr>\n  <tr>\n    <td>Chain</td>\n    <td>Blacksmithing or Traps</td>\n  </tr>\n  <tr>\n    <td>Chest</td>\n    <td>Carpentry or Locks</td>\n  </tr>\n  <tr>\n    <td>Climber's Kit</td>\n    <td>Blacksmithing</td>\n  </tr>\n  <tr>\n    <td>Disguise Kit</td>\n    <td>Alchemy or Paintings</td>\n  </tr>\n  <tr>\n    <td>Flint and Steel</td>\n    <td>Blacksmithing or Stonemasonry</td>\n  </tr>\n  <tr>\n    <td>Grappling Hook</td>\n    <td>Blacksmithing or Weapons</td>\n  </tr>\n  <tr>\n    <td>Gunslinger's Kit</td>\n    <td>Alchemy or Blacksmithing</td>\n  </tr>\n  <tr>\n    <td>Harrow Deck</td>\n    <td>Paintings</td>\n  </tr>\n  <tr>\n    <td>Healer's Kit</td>\n    <td>Alchemy or Cloth</td>\n  </tr>\n  <tr>\n    <td>Hemp Rope</td>\n    <td>Baskets or Cloth</td>\n  </tr>\n  <tr>\n    <td>Lamp</td>\n    <td>Blacksmithing or Glass</td>\n  </tr>\n  <tr>\n    <td>Manacles<td>\n    <td>Blacksmithing or Locks</td>\n  </tr>\n  <tr>\n    <td>Masterwork Tool</td>\n    <td>Blacksmithing</td>\n  </tr>\n  <tr>\n    <td>Musical Instrument</td>\n    <td>Musical Instruments</td>\n  </tr>\n  <tr>\n    <td>Saddle</td>\n    <td>Leather</td>\n  </tr>\n  <tr>\n    <td>Scroll Case</td>\n    <td>Carpentry or Leather</td>\n  </tr>\n  <tr>\n    <td>Signet Ring</td>\n    <td>Jewelry</td>\n  </tr>\n  <tr>\n    <td>Silk Rope</td>\n    <td>Cloth</td>\n  </tr>\n  <tr>\n    <td>Silver Holy Symbol</td>\n    <td>Blacksmithing or Sculptures</td>\n  </tr>\n  <tr>\n    <td>Skeleton Key</td>\n    <td>Locks</td>\n  </tr>\n  <tr>\n    <td>Spell Component Pouch/td>\n    <td>Leather</td>\n  </tr>\n  <tr>\n    <td>Spyglass</td>\n    <td>Glass</td>\n  </tr>\n  <tr>\n    <td>Tattoo</td>\n    <td>Paintings</td>\n  </tr>\n  <tr>\n    <td>Tent</td>\n    <td>Cloth or Leather</td>\n  </tr>\n  <tr>\n    <td>Thieves' Tools</td>\n    <td>Blacksmithing or Locks</td>\n  </tr>\n  <tr>\n    <td>Waterskin</td>\n    <td>Leather</td>\n  </tr>\n  <tr>\n    <td>Wood Holy Symbol</td>\n    <td>Carpentry or Sculptures</td>\n  </tr>\n</table>\n\nThe following table indicates which Craft skills are typically used to create common worn items. While the normal system for creating magic items doesn't incorporate Craft skills, such skills could reasonably be used while creating a magic item to make it appear especially ornate.\n\n<table>\n  <tr>\n    <th>Worn Item</th>\n    <th>Craft Skill</th>\n  </tr>\n  <tr>\n    <td>Amulet</td>\n    <td>Jewelry</td>\n  </tr>\n  <tr>\n    <td>Belt</td>\n    <td>Leather or Clothing</td>\n  </tr>\n  <tr>\n    <td>Bracelet</td>\n    <td>Blacksmithing or Jewelry</td>\n  </tr>\n  <tr>\n    <td>Bracer</td>\n    <td>Armor or Leather</td>\n  </tr>\n  <tr>\n    <td>Brooch</td>\n    <td>Jewelry</td>\n  </tr>\n  <tr>\n    <td>Cape or Cloak</td>\n    <td>Cloth or Clothing</td>\n  </tr>\n  <tr>\n    <td>Circlet</td>\n    <td>Blacksmithing or Jewelry</td>\n  </tr>\n  <tr>\n    <td>Crown</td>\n    <td>Blacksmithing or Jewelry</td>\n  </tr>\n  <tr>\n    <td>Gauntlet</td>\n    <td>Armor</td>\n  </tr>\n  <tr>\n    <td>Girdle</td>\n    <td>Clothing or Leather</td>\n  </tr>\n  <tr>\n    <td>Glasses or Goggles</td>\n    <td>Glass</td>\n  </tr>\n  <tr>\n    <td>Glove</td>\n    <td>Clothing or Leather</td>\n  </tr>\n  <tr>\n    <td>Hat</td>\n    <td>Clothing or Leather</td>\n  </tr>\n  <tr>\n    <td>Headband</td>\n    <td>Cloth or Clothing</td>\n  </tr>\n  <tr>\n    <td>Helm</td>\n    <td>Armor</td>\n  </tr>\n  <tr>\n    <td>Mask</td>\n    <td>Clothing or Leather</td>\n  </tr>\n  <tr>\n    <td>Necklace</td>\n    <td>Blacksmithing or Jewelry</td>\n  </tr>\n  <tr>\n    <td>Periapt</td>\n    <td>Jewelry</td>\n  </tr>\n  <tr>\n    <td>Phylactery</td>\n    <td>Leather or Carpentry</td>\n  </tr>\n  <tr>\n    <td>Ring</td>\n    <td>Jewelry</td>\n  </tr>\n  <tr>\n    <td>Robe</td>\n    <td>Clothing</td>\n  </tr>\n  <tr>\n    <td>Vestments</td>\n    <td>Clothing</td>\n  </tr>\n</table>",untrained:!0,customizable:!0,knowledge:!1,blurb:"You are skilled in the creation of a specific group of items, such as armor or weapons. Like Knowledge, Perform, and Profession, Craft is actually a number of separate skills. You could have several Craft skills, each with its own ranks. The most common Craft skills are alchemy, armor, baskets, books, bows, calligraphy, carpentry, cloth, clothing, glass, jewelry, leather, locks, paintings, pottery, sculptures, ships, shoes, stonemasonry, traps, and weapons.\n\nA Craft skill is specifically focused on creating something. If nothing is created by the endeavor, it probably falls under the heading of a Profession skill.",action:"Does not apply. Craft checks are made by the day or week (see above).",try_again:"Yes, but each time you fail by 5 or more, you ruin half the raw materials and have to pay half the original raw material cost again.",special:"You may voluntarily add +10 to the indicated DC to craft an item. This allows you to create the item more quickly (since you\u2019ll be multiplying this higher DC by your Craft check result to determine progress). You must decide whether to increase the DC before you make each weekly or daily check.\n\nTo make an item using Craft (alchemy), you must have alchemical equipment. If you are working in a city, you can buy what you need as part of the raw materials cost to make the item, but alchemical equipment is difficult or impossible to come by in some places. Purchasing and maintaining an alchemist\u2019s lab grants a +2 circumstance bonus on Craft (alchemy) checks because you have the perfect tools for the job, but it does not affect the cost of any items made using the skill.\n\nThose who wish to construct or repair technological items use Craft (mechanical) in conjunction with technological item crafting feats. Without the Technologist feat, Craft (mechanical) can still be used to craft less advanced forms of technology such as gears, hinges, and pulleys. NPCs with the means of crafting technological items are extremely rare, and it is not assumed that PCs have access to such resources. GMs are encouraged to discuss such considerations with their players before allowing technological crafting into the game.",skill_unlock_5:"When determining your weekly progress, double the result of your Craft check before multiplying the result by the item\u2019s DC.",skill_unlock_10:"You do not ruin any of your raw materials unless you fail a check by 10 or more.",skill_unlock_15:"When you determine your progress, the result of your check is how much work you complete each day in silver pieces.",skill_unlock_20:"You can craft magic armor, magic weapons, magic rings, and wondrous items that fall under your category of Craft using the normal Craft rules."},{id:12,name:"Heal",ability_score:"Wisdom",description:"The DC and effect of a Heal check depend on the task you attempt.\n\n<table>\n  <tr>\n    <th>Task</th>\n    <th>Heal DC</th>\n  </tr>\n  <tr>\n    <td>First Aid</td>\n    <td>15</td>\n  </tr>\n  <tr>\n    <td>Long-Term Care</td>\n    <td>15</td>\n  </tr>\n  <tr>\n    <td>Treat Wounds from Caltrops, spike growth, or spike stones</td>\n    <td>15</td>\n  </tr>\n  <tr>\n    <td>Treat Deadly Wounds</td>\n    <td>20</td>\n  </tr>\n  <tr>\n    <td>Treat Poison</td>\n    <td>Poison's Save DC</td>\n  </tr>\n  <tr>\n    <td>Treat Disease</td>\n    <td>Disease's Save DC</td>\n  </tr>\n</table>\n\nFirst Aid: You usually use first aid to save a dying character. If a character has negative hit points and is losing hit points (at the rate of 1 per round, 1 per hour, or 1 per day), you can make him stable. A stable character regains no hit points but stops losing them. First aid also stops a character from losing hit points due to effects that cause bleed.\n\nLong-Term Care: Providing long-term care means treating a wounded person for a day or more. If your Heal check is successful, the patient recovers hit points or ability score points lost to ability damage at twice the normal rate: 2 hit points per level for a full 8 hours of rest in a day, or 4 hit points per level for each full day of complete rest; 2 ability score points for a full 8 hours of rest in a day, or 4 ability score points for each full day of complete rest.\n\nYou can tend to as many as six patients at a time. You need a few items and supplies (bandages, salves, and so on) that are easy to come by in settled lands. Giving long-term care counts as light activity for the healer. You cannot give long-term care to yourself.\n\nTreat Wounds from Caltrops, Spike Growth, or Spike Stones: A creature wounded by stepping on a caltrop moves at half normal speed. A successful Heal check removes this movement penalty.\n\nA creature wounded by a spike growth or spike stones spell must succeed on a Ref lex save or take injuries that reduce his speed by one-third. Another character can remove this penalty by taking 10 minutes to dress the victim\u2019s injuries and succeeding on a Heal check against the spell\u2019s save DC.\n\nTreat Deadly Wounds: When treating deadly wounds, you can restore hit points to a damaged creature. Treating deadly wounds restores 1 hit point per level of the creature. If you exceed the DC by 5 or more, add your Wisdom modifier (if positive) to this amount. A creature can only benefit from its deadly wounds being treated within 24 hours of being injured and never more than once per day. You must expend two uses from a healer\u2019s kit to perform this task. You take a \u20132 penalty on your Heal skill check for each use from the healer\u2019s kit that you lack.\n\nTreat Poison: To treat poison means to tend to a single character who has been poisoned and who is going to take more damage from the poison (or suffer some other effect). Every time the poisoned character makes a saving throw against the poison, you make a Heal check. If your Heal check exceeds the DC of the poison, the character receives a +4 competence bonus on his saving throw against the poison.\n\nTreat Disease: To treat a disease means to tend to a single diseased character. Every time the diseased character makes a saving throw against disease effects, you make a Heal check. If your Heal check exceeds the DC of the disease, the character receives a +4 competence bonus on his saving throw against the disease.",untrained:!0,customizable:!1,knowledge:!1,blurb:"You are skilled at tending to wounds and ailments.",action:"Providing first aid, treating a wound, or treating poison is a standard action. Treating a disease or tending a creature wounded by a spike growth or spike stones spell takes 10 minutes of work. Treating deadly wounds takes 1 hour of work. Providing long-term care requires 8 hours of light activity.",try_again:"Varies. Generally speaking, you can\u2019t try a Heal check again without witnessing proof of the original check\u2019s failure. You can always retry a check to provide first aid, assuming the target of the previous attempt is still alive.",special:"A healer\u2019s kit gives you a +2 circumstance bonus on Heal checks.",skill_unlock_5:"When you treat deadly wounds, the target recovers hit points and ability damage as if it had rested for a full day.",skill_unlock_10:"When you treat deadly wounds, the target recovers hit points as if it had rested for a full day with long-term care.",skill_unlock_15:"When you treat deadly wounds, the creature recovers hit point and ability damage as if it had rested for 3 days.",skill_unlock_20:"When you treat deadly wounds, the target recovers hit point and ability damage as if it had rested for 3 days with long-term care."},{id:13,name:"Intimidate",ability_score:"Charisma",description:"You can use Intimidate to force an opponent to act friendly toward you for 1d6 \xd7 10 minutes with a successful check. The DC of this check is equal to 10 + the target\u2019s Hit Dice + the target\u2019s Wisdom modifier. If successful, the target gives you the information you desire, takes actions that do not endanger it, or otherwise offers limited assistance. After the Intimidate expires, the target treats you as unfriendly and may report you to local authorities. If you fail this check by 5 or more, the target attempts to deceive you or otherwise hinder your activities.\n\nDemoralize: You can use this skill to cause an opponent to become shaken for a number of rounds. The DC of this check is equal to 10 + the target\u2019s Hit Dice + the target\u2019s Wisdom modifier. If you are successful, the target is shaken for 1 round. This duration increases by 1 round for every 5 by which you beat the DC. You can only threaten an opponent in this way if it is within 30 feet and can clearly see and hear you. Using demoralize on the same creature only extends the duration; it does not create a stronger fear condition.",untrained:!0,customizable:!1,knowledge:!1,blurb:"You can use this skill to frighten your opponents or to get them to act in a way that benefits you. This skill includes verbal threats and displays of prowess.",action:"Using Intimidate to change an opponent\u2019s attitude requires 1 minute of conversation. Demoralizing an opponent is a standard action.",try_again:"You can attempt to Intimidate an opponent again, but each additional check increases the DC by +5. This increase resets after 1 hour has passed.",special:"You also gain a +4 bonus on Intimidate checks if you are larger than your target and a \u20134 penalty on Intimidate checks if you are smaller than your target.",skill_unlock_5:"If you exceed the DC to demoralize a target by at least 10, it is frightened for 1 round and shaken thereafter. A Will save (DC = 10 + your number of ranks in Intimidate) negates the frightened condition, but the target is still shaken, even if it has the stalwart ability.",skill_unlock_10:"If you exceed the DC to demoralize a target by at least 10, it is panicked for 1 round or frightened for 1d4 rounds (your choice) and shaken thereafter. A Will save (DC = 10 + your number of ranks in Intimidate) negates the frightened or panicked condition, but the target is still shaken, even if it has the stalwart ability.",skill_unlock_15:"If you exceed the DC to demoralize a target by at least 20, it is cowering for 1 round or panicked for 1d4 rounds (your choice) and frightened thereafter. A Will save (DC = 10 + your number of ranks in Intimidate) negates the cowering, panicked, and frightened conditions, but the target is still shaken, even if it has the stalwart ability.",skill_unlock_20:"If you exceed the DC to demoralize a target by at least 20, it is cowering for 1d4 rounds and panicked thereafter. A Will save (DC = 10 + your number of ranks in Intimidate) negates the cowering and panicked conditions, but the target is still shaken, even if it has the stalwart ability."},{id:24,name:"Knowledge",ability_score:"Intelligence",description:"Arcana (ancient mysteries, magic traditions, arcane symbols, constructs, dragons, magical beasts)\n\nDungeoneering (aberrations, caverns, oozes, spelunking)\n\nEngineering (buildings, aqueducts, bridges, fortifications)\n\nGeography (lands, terrain, climate, people)\n\nHistory (wars, colonies, migrations, founding of cities)\n\nLocal (legends, personalities, inhabitants, laws, customs, traditions, humanoids)\n\nNature (animals, fey, monstrous humanoids, plants, seasons and cycles, weather, vermin)\n\nNobility (lineages, heraldry, personalities, royalty)\n\nPlanes (the Inner Planes, the Outer Planes, the Astral Plane, the Ethereal Plane, outsiders, planar magic)\n\nReligion (gods and goddesses, mythic history, ecclesiastic tradition, holy symbols, undead)\n\nAnswering a question within your field of study has a DC of 10 (for really easy questions), 15 (for basic questions), or 20 to 30 (for really tough questions).\n\nYou can use this skill to identify monsters and their special powers or vulnerabilities. In general, the DC of such a check equals 10 + the monster\u2019s CR. For common monsters, such as goblins, the DC of this check equals 5 + the monster\u2019s CR. For particularly rare monsters, such as the tarrasque, the DC of this check equals 15 + the monster\u2019s CR, or more. A successful check allows you to remember a bit of useful information about that monster. For every 5 points by which your check result exceeds the DC, you recall another piece of useful information. Many of the Knowledge skills have specific uses as noted on the below table.\n\n<table>\n  <tr>\n    <th>Tasks</th>\n    <th>Knowledge Skill</th>\n    <th>DC</th>\n  </tr>\n  <tr>\n    <td>Identify Auras While Using Detect Magic</td>\n    <td>Arcana</td>\n    <td>15 + Spell Level</td>\n  </tr>\n  <tr>\n    <td>Identify a Spell Effect That Is In Place</td>\n    <td>Arcana</td>\n    <td>20 + Spell Level</td>\n  </tr>\n  <tr>\n    <td>Identify Materials Manufactured by Magic</td>\n    <td>Arcana</td>\n    <td>20 + Spell Level</td>\n  </tr>\n  <tr>\n    <td>Identify a Spell That Just Targeted You</td>\n    <td>Arcana</td>\n    <td>25 + Spell Level</td>\n  </tr>\n  <tr>\n    <td>Identify the Spells Cast Using a Specific Material Component</td>\n    <td>Arcana</td>\n    <td>20</td>\n  </tr>\n  <tr>\n    <td>Identify Underground Hazard</td>\n    <td>Dungeoneering</td>\n    <td>15 + Hazard's CR</td>\n  </tr>\n  <tr>\n    <td>Identify Mineral, Stone, or Metal</td>\n    <td>Dungeoneering</td>\n    <td>10</td>\n  </tr>\n  <tr>\n    <td>Determine Slope</td>\n    <td>Dungeoneering</td>\n    <td>15</td>\n  </tr>\n  <tr>\n    <td>Determine Depth Underground</td>\n    <td>Dungeoneering</td>\n    <td>20</td>\n  </tr>\n  <tr>\n    <td>Identify Dangerous Construction</td>\n    <td>Engineering</td>\n    <td>10</td>\n  </tr>\n  <tr>\n    <td>Determine a Structure's Style or Age</td>\n    <td>Engineering</td>\n    <td>15</td>\n  </tr>\n  <tr>\n    <td>Determine a Structure's Weakness</td>\n    <td>Engineering</td>\n    <td>20</td>\n  </tr>\n  <tr>\n    <td>Identify a Creature's Ethnicity or Accent</td>\n    <td>Geography</td>\n    <td>10</td>\n  </tr>\n  <tr>\n    <td>Recognize Regional Terrain Features</td>\n    <td>Geography</td>\n    <td>15</td>\n  </tr>\n  <tr>\n    <td>Know Location of Nearest Community or Noteworthy Site</td>\n    <td>Geography</td>\n    <td>20</td>\n  </tr>\n  <tr>\n    <td>Know Recent or Historically Significant Date</td>\n    <td>History</td>\n    <td>10</td>\n  </tr>\n  <tr>\n    <td>Determine Approximate Date of Specific Event</td>\n    <td>History</td>\n    <td>15</td>\n  </tr>\n  <tr>\n    <td>Know Obscure or Ancient Historical Event</td>\n    <td>History</td>\n    <td>20</td>\n  </tr>\n  <tr>\n    <td>Know Local Laws, Rulers, and Popular Locations</td>\n    <td>Local</td>\n    <td>10</td>\n  </tr>\n  <tr>\n    <td>Know a Common Rumor or Local Tradition</td>\n    <td>Local</td>\n    <td>15</td>\n  </tr>\n  <tr>\n    <td>Know Hidden Organizations, Rulers, and Locations</td>\n    <td>Local</td>\n    <td>20</td>\n  </tr>\n  <tr>\n    <td>Identify Natural Hazard</td>\n    <td>Nature</td>\n    <td>15 + Hazard's CR</td>\n  </tr>\n  <tr>\n    <td>Identify a Common Plant or Animal</td>\n    <td>Nature</td>\n    <td>10</td>\n  </tr>\n  <tr>\n    <td>Identify Unnatural Weather Phenomenon</td>\n    <td>Nature</td>\n    <td>15</td>\n  </tr>\n  <tr>\n    <td>Determine Artifical Nature of Feature</td>\n    <td>Nature</td>\n    <td>20</td>\n  </tr>\n  <tr>\n    <td>Know Current Rulers and Their Symbols</td>\n    <td>Nobility</td>\n    <td>10</td>\n  </tr>\n  <tr>\n    <td>Know Proper Etiquette</td>\n    <td>Nobility</td>\n    <td>15</td>\n  </tr>\n  <tr>\n    <td>Know Line of Succession</td>\n    <td>Nobility</td>\n    <td>20</td>\n  </tr>\n  <tr>\n    <td>Know the Names of the Planes</td>\n    <td>Planes</td>\n    <td>10</td>\n  </tr>\n  <tr>\n    <td>Recognize Current Plane</td>\n    <td>Planes</td>\n    <td>15</td>\n  </tr>\n  <tr>\n    <td>Identify a Creature's Planar Origin</td>\n    <td>Planes</td>\n    <td>20</td>\n  </tr>\n  <tr>\n    <td>Recognize a Common Deity's Symbol or Clergy</td>\n    <td>Religion</td>\n    <td>10</td>\n  </tr>\n  <tr>\n    <td>Know Common Mythology and Tenets</td>\n    <td>Religion</td>\n    <td>15</td>\n  </tr>\n  <tr>\n    <td>Recognize an Obscure Deity's Symbol or Clergy</td>\n    <td>Religion</td>\n    <td>20</td>\n  </tr>\n  <tr>\n    <td>Identify a Monster's Abilities and Weaknesses</td>\n    <td>Varies</td>\n    <td>10 + Monster's CR</td>\n  </tr>\n</table>",untrained:!1,customizable:!0,knowledge:!0,blurb:"You are educated in a field of study and can answer both simple and complex questions. Like the Craft, Perform, and Profession skills, Knowledge actually encompasses a number of different specialties.",action:"Usually none. In most cases, a Knowledge check doesn\u2019t take an action.",try_again:"No. The check represents what you know, and thinking about a topic a second time doesn\u2019t let you know something that you never learned in the first place.",special:"You cannot make an untrained Knowledge check with a DC higher than 10. If you have access to an extensive library that covers a specific skill, this limit is removed. The time to make checks using a library, however, increases to 1d4 hours. Particularly complete libraries might even grant a bonus on Knowledge checks in the fields that they cover.",skill_unlock_5:"When you successfully identify a creature, you gain one additional piece of information for every 5 ranks you possess in that Knowledge skill.",skill_unlock_10:"When you successfully identify a creature, you gain a +1 competence bonus on attack rolls, opposed ability checks, skill checks, and caster level checks against creatures of that kind (e.g., glabrezu demons, but not other demons or evil outsiders) for 1 minute. This bonus increases by 1 for every 5 ranks beyond 10 you possess in that Knowledge skill.",skill_unlock_15:"When you fail a Knowledge check, you can reroll the check at a \u201310 penalty. The competence bonus above also applies to saving throws against exceptional, spell-like, or supernatural abilities used by creatures you identify.",skill_unlock_20:"Whenever you attempt a Knowledge check, you can roll twice and take the better result."},{id:26,name:"Perception",ability_score:"Wisdom",description:"Perception has a number of uses, the most common of which is an opposed check versus an opponent\u2019s Stealth check to notice the opponent and avoid being surprised. If you are successful, you notice the opponent and can react accordingly. If you fail, your opponent can take a variety of actions, including sneaking past you and attacking you.\n\nPerception is also used to notice fine details in the environment. The DC to notice such details varies depending upon distance, the environment, and how noticeable the detail is. The following table gives a number of guidelines.\n\n<table>\n  <tr>\n    <th>Detail</th>\n    <th>Perception DC</th>\n  </tr>\n  <tr>\n    <td>Hear the Sound of Battle</td>\n    <td>-10</td>\n  </tr>\n  <tr>\n    <td>Notice the Stench of Rotting Garbage</td>\n    <td>-10</td>\n  </tr>\n  <tr>\n    <td>Detect the Smell of Smoke</td>\n    <td>0</td>\n  </tr>\n  <tr>\n    <td>Hear the Details of a Conversation</td>\n    <td>0</td>\n  </tr>\n  <tr>\n    <td>Notice a Visible Creature</td>\n    <td>0</td>\n  </tr>\n  <tr>\n    <td>Determine if Food is Spoiled</td>\n    <td>5</td>\n  </tr>\n  <tr>\n    <td>Hear the Sound of a Creature Walking</td>\n    <td>10</td>\n  </tr>\n  <tr>\n    <td>Hear the Details of a Whispered Conversation</td>\n    <td>15</td>\n  </tr>\n  <tr>\n    <td>Find the Average Concealed Door</td>\n    <td>15</td>\n  </tr>\n  <tr>\n    <td>Hear the Sound of a Key Being Turned in a Lock</td>\n    <td>20</td>\n  </tr>\n  <tr>\n    <td>Find the Average Secret Door</td>\n    <td>20</td>\n  </tr>\n  <tr>\n    <td>Hear a Bow Being Drawn</td>\n    <td>25</td>\n  </tr>\n  <tr>\n    <td>Sense a Burrowing Creature Underneath You</td>\n    <td>25</td>\n  </tr>\n  <tr>\n    <td>Notice a Pickpocket</td>\n    <td>Opposed by Sleight of Hand</td>\n  </tr>\n  <tr>\n    <td>Notice a Creature Using Stealth</td>\n    <td>Opposed by Stealth</td>\n  </tr>\n  <tr>\n    <td>Find a Hidden Trap</td>\n    <td>Varies by Trap</td>\n  </tr>\n  <tr>\n    <td>Identify the Powers of a Potion through Taste</td>\n    <td>15 + Potion's Caster Level</td>\n  </tr>\n</table>\n\n<table>\n  <tr>\n    <th>Perception Modifiers</th>\n    <th>DC Modifier</th>\n  </tr>\n  <tr>\n    <td>Distance to the Source, Object, or Creature</td>\n    <td>+1 per 10 Feet</td>\n  </tr>\n  <tr>\n    <td>Through a Closed Door</td>\n    <td>+5</td>\n  </tr>\n  <tr>\n    <td>Through a Wall</td>\n    <td>+10 per Foot</td>\n  </tr>\n  <tr>\n    <td>Favorable Conditions</td>\n    <td>-2</td>\n  </tr>\n  <tr>\n    <td>Unfavorable Conditions</td>\n    <td>+2</td>\n  </tr>\n  <tr>\n    <td>Terrible Conditions</td>\n    <td>+5</td>\n  </tr>\n  <tr>\n    <td>Creature Making the Check is Distracted</td>\n    <td>+5</td>\n  </tr>\n  <tr>\n    <td>Creature Making the Check is Asleep</td>\n    <td>+10</td>\n  </tr>\n  <tr>\n    <td>Creature or Object is Invisible</td>\n    <td>+20</td>\n  </tr>\n</table>",untrained:!0,customizable:!1,knowledge:!1,blurb:"Your senses allow you to notice fine details and alert you to danger. Perception covers all five senses, including sight, hearing, touch, taste, and smell.",action:"Most Perception checks are reactive, made in response to observable stimulus. Intentionally searching for stimulus is a move action.",try_again:"Yes. You can try to sense something you missed the first time, so long as the stimulus is still present.",special:"Creatures with the scent special quality have a +8 bonus on Perception checks made to detect a scent. Creatures with the tremorsense special quality have a +8 bonus on Perception checks against creatures touching the ground and automatically make any such checks within their range.",skill_unlock_5:"You remain alert to sounds even in your sleep, and the normal DC increase to Perception checks when you are sleeping is halved. The distance modifier on the DC of Perception checks you attempt is reduced to +1 per 20 feet.",skill_unlock_10:"The distance modifier on the DC of Perception checks you attempt is reduced to +1 per 30 feet. In addition, you gain a +5 bonus on Perception checks to notice or locate an invisible creature or object.",skill_unlock_15:"You remain alert to sounds even in your sleep, and the normal DC increase to Perception checks when you are sleeping doesn\u2019t apply to you. The distance modifier on the DC of your Perception checks is reduced to +1 per 40 feet.",skill_unlock_20:"You gain a +10 bonus on Perception checks to notice invisible creatures or objects. The distance modifier on the DC of Perception checks you attempt is reduced to +1 per 60 feet."},{id:28,name:"Profession",ability_score:"Wisdom",description:"You can earn half your Profession check result in gold pieces per week of dedicated work. You know how to use the tools of your trade, how to perform the profession\u2019s daily tasks, how to supervise helpers, and how to handle common problems. You can also answer questions about your Profession. Basic questions are DC 10, while more complex questions are DC 15 or higher.\n\nA profession often encompasses many smaller areas of expertise, and these auxiliary skills can come in handy in situations beyond just making money or answering trade-specific questions. Below are some sample additional uses for Profession skills, and GMs are encouraged to create their own.\n\n<table>\n  <tr>\n    <th>Task</th>\n    <th>Profession Skill</th>\n    <th>DC</th>\n  </tr>\n  <tr>\n    <td>Determine Hardness and Hit Points of a Structure</td>\n    <td>Architect or Engineer</td>\n    <td>20</td>\n  </tr>\n  <tr>\n    <td>Prepare Trail Rations (Takes 1 Hour Per Day's Worth of Rations)</td>\n    <td>Baker or Cook</td>\n    <td>10</td>\n  </tr>\n  <tr>\n    <td>Obtain a Legal Permit</td>\n    <td>Barrister or Clerk</td>\n    <td>15</td>\n  </tr>\n  <tr>\n    <td>Get Somone Released From Jail Who Has Been Imprisoned for a Minor Crime</td>\n    <td>Barrister</td>\n    <td>20</td>\n  </tr>\n  <tr>\n    <td>Ask a Special Favor From a Judge (Such as Arresting Someone)</td>\n    <td>Barrister</td>\n    <td>30</td>\n  </tr>\n  <tr>\n    <td>Brew Alcohol of Exceptional Quality</td>\n    <td>Brewer</td>\n    <td>20</td>\n  </tr>\n  <tr>\n    <td>Notice Poison in a Beverage</td>\n    <td>Brewer</td>\n    <td>25</td>\n  </tr>\n  <tr>\n    <td>Skin an Animal and Tan the Hide</td>\n    <td>Butcher, Shepherd, or Tanner</td>\n    <td>10</td>\n  </tr>\n  <tr>\n    <td>Slaughter and Butcher an Animal</td>\n    <td>Butcher, Cook, or Shepherd</td>\n    <td>15</td>\n  </tr>\n  <tr>\n    <td>Reduce a Legal Fine or Tax By Half the Result of the Check in gp (up to 75%)</td>\n    <td>Clerk</td>\n    <td>20+</td>\n  </tr>\n  <tr>\n    <td>Cook a Meal of Exceptional Quality</td>\n    <td>Cook</td>\n    <td>20</td>\n  </tr>\n  <tr>\n    <td>Notice Poison in Food</td>\n    <td>Cook</td>\n    <td>25</td>\n  </tr>\n  <tr>\n    <td>Find Potential Clients within an Establishment or Large Group</td>\n    <td>Courtesan</td>\n    <td>15</td>\n  </tr>\n  <tr>\n    <td>Continue Steering a Vehicle When You Take Damage</td>\n    <td>Driver or Sailor</td>\n    <td>5</td>\n  </tr>\n  <tr>\n    <td>Take Cover (As The Ride Skill) While Steering a Vehicle</td>\n    <td>Driver or Sailor</td>\n    <td>15</td>\n  </tr>\n  <tr>\n    <td>Identify a Non-Creature Plant</td>\n    <td>Farmer or Gardener</td>\n    <td>10</td>\n  </tr>\n  <tr>\n    <td>Rejuvinate Dying Plants</td>\n    <td>Farmer or Gardener</td>\n    <td>15</td>\n  </tr>\n  <tr>\n    <td>Provide 1 Day's Worth of Food for Yourself and Others in the Wild</td>\n    <td>Fisherman or Trapper</td>\n    <td>15</td>\n  </tr>\n  <tr>\n    <td>Recall the Rules of a Game of Chance</td>\n    <td>Gambler</td>\n    <td>10</td>\n  </tr>\n  <tr>\n    <td>Get a Hunch Regarding Whether a Game is Rigged</td>\n    <td>Gambler</td>\n    <td>20</td>\n  </tr>\n  <tr>\n    <td>Reduce an Average or Lower Cost of Living by 50%</td>\n    <td>Innkeeper</td>\n    <td>15</td>\n  </tr>\n  <tr>\n    <td>Sate Hunger or Thirst for 1 Day</td>\n    <td>Herbalist</td>\n    <td>10</td>\n  </tr>\n  <tr>\n    <td>Identify Common Medicinal Herbs</td>\n    <td>Herbalist</td>\n    <td>10</td>\n  </tr>\n  <tr>\n    <td>Identify Rare Medicinal Herbs</td>\n    <td>Herbalist</td>\n    <td>15</td>\n  </tr>\n  <tr>\n    <td>Aid Another on a Knowledge Check Using Reference Material</td>\n    <td>Librarian</td>\n    <td>5</td>\n  </tr>\n  <tr>\n    <td>Recall the Name of a Rare Book</td>\n    <td>Librarian</td>\n    <td>15</td>\n  </tr>\n  <tr>\n    <td>Determine Where an Item was Manufactured</td>\n    <td>Merchant</td>\n    <td>10+</td>\n  </tr>\n  <tr>\n    <td>Recall Where a Common Good Fetches a Higher Price</td>\n    <td>Merchant</td>\n    <td>15</td>\n  </tr>\n  <tr>\n    <td>Safely Deliver a Child</td>\n    <td>Midwife</td>\n    <td>15</td>\n  </tr>\n  <tr>\n    <td>Safely Deliver a Child Despite Complications</td>\n    <td>Midwife</td>\n    <td>20</td>\n  </tr>\n  <tr>\n    <td>Grind a Small Piece of Nonmagical Substance into Powder</td>\n    <td>Miller</td>\n    <td>10 + Hardness</td>\n  </tr>\n  <tr>\n    <td>Identify Common Metal or Semiprecious Stone</td>\n    <td>Miner</td>\n    <td>5</td>\n  </tr>\n  <tr>\n    <td>Identify Rare Metal or Precious Gem</td>\n    <td>Miner</td>\n    <td>15</td>\n  </tr>\n  <tr>\n    <td>Ignore Half Hardness When Attacking a Stone or Metal Object</td>\n    <td>Miner</td>\n    <td>20</td>\n  </tr>\n  <tr>\n    <td>Increase Carrying Capacity for 8 Hours as if Strength were 2 Higher</td>\n    <td>Porter</td>\n    <td>15</td>\n  </tr>\n  <tr>\n    <td>Unload a Vessel in Half the Normal Time</td>\n    <td>Porter</td>\n    <td>20</td>\n  </tr>\n  <tr>\n    <td>Navigate a Ship in Fair Conditions</td>\n    <td>Sailor</td>\n    <td>20</td>\n  </tr>\n  <tr>\n    <td>Pilot a Ship Safely Through a Hazardous Seaway</td>\n    <td>Sailor</td>\n    <td>25+</td>\n  </tr>\n  <tr>\n    <td>Determine Which Scribe Wrote a Document</td>\n    <td>Scribe</td>\n    <td>10+</td>\n  </tr>\n  <tr>\n    <td>Copy a Document (30 Minutes per Page; Requires a Blank Book)</td>\n    <td>Scribe</td>\n    <td>10</td>\n  </tr>\n  <tr>\n    <td>Illuminate a Manuscript (1 Hour per Page)</td>\n    <td>Scribe</td>\n    <td>20</td>\n  </tr>\n  <tr>\n    <td>Determine the Quality of Woolen Textiles</td>\n    <td>Shepherd</td>\n    <td>10</td>\n  </tr>\n  <tr>\n    <td>Determine Whether a Weapon or Armor is of Masterwork Quality</td>\n    <td>Soldier</td>\n    <td>10</td>\n  </tr>\n  <tr>\n    <td>Estimate the Size of a Military Force</td>\n    <td>Soldier</td>\n    <td>15</td>\n  </tr>\n  <tr>\n    <td>Identify Advantages and Disadvantages of a Military Formation</td>\n    <td>Soldier</td>\n    <td>20</td>\n  </tr>\n  <tr>\n    <td>Keep Horses Fed in the Wild</td>\n    <td>Stable Master</td>\n    <td>10</td>\n  </tr>\n  <tr>\n    <td>Fit or Remove Barding in Half the Normal Time</td>\n    <td>Stable Master</td>\n    <td>15</td>\n  </tr>\n  <tr>\n    <td>Recognize Damaged or Sabotaged Horse Tack</td>\n    <td>Stable Master</td>\n    <td>20</td>\n  </tr>\n  <tr>\n    <td>Determine the Quality of Leatherwork (and Tell If It's Masterwork Quality)</td>\n    <td>Tanner</td>\n    <td>10</td>\n  </tr>\n  <tr>\n    <td>Aid Another on an Skill Check to Get Out of a Trap or Snare</td>\n    <td>Trapper</td>\n    <td>5</td>\n  </tr>\n  <tr>\n    <td>Reset a Trap in Half the Normal Amount of Time</td>\n    <td>Trapper</td>\n    <td>15</td>\n  </tr>\n  <tr>\n    <td>Scavenge Wood Suitable for Campfire or Shelter</td>\n    <td>Woodcutter</td>\n    <td>5</td>\n  </tr>\n  <tr>\n    <td>Ignore Half Hardness When Attacking Wooden Object</td>\n    <td>Woodcutter</td>\n    <td>20</td>\n  </tr>\n</table>",untrained:!1,customizable:!0,knowledge:!1,blurb:"You are skilled at a specific job. Like Craft, Knowledge, and Perform, Profession is actually a number of separate skills. You could have several Profession skills, each with its own ranks. While a Craft skill represents ability in creating an item, a Profession skill represents an aptitude in a vocation requiring a broader range of less specific knowledge. The most common Profession skills are architect, baker, barrister, brewer, butcher, clerk, cook, courtesan, driver, engineer, farmer, f isherman, gambler, gardener, herbalist, innkeeper, librarian, merchant, midwife, miller, miner, porter, sailor, scribe, shepherd, stable master, soldier, tanner, trapper, and woodcutter.",action:"Not applicable. A single check generally represents a week of work.",try_again:"Varies. An attempt to use a Profession skill to earn income cannot be retried. You are stuck with whatever weekly wage your check result brought you. Another check may be made after a week to determine a new income for the next period of time. An attempt to accomplish some specific task can usually be retried.",special:"Untrained laborers and assistants (that is, characters without any ranks in Profession) earn an average of 1 silver piece per day.",skill_unlock_5:"When using Profession checks to earn income, you earn gold pieces equal to the result of your check each week.",skill_unlock_10:"When attempting Profession checks, you can roll twice and take the better result. When answering questions about your Profession, you can always take 10.",skill_unlock_15:"You can attempt checks to earn income once per day instead of once per week.",skill_unlock_20:"When attempting Profession checks, you can choose to roll once instead of twice. If you do and the result of the roll is less than 10, replace it with 10. When answering questions about your Profession, you can always take 20."},{id:33,name:"Stealth",ability_score:"Dexterity",description:"Your Stealth check is opposed by the Perception check of anyone who might notice you. Creatures that fail to beat your Stealth check are not aware of you and treat you as if you had total concealment. You can move up to half your normal speed and use Stealth at no penalty. When moving at a speed greater than half but less than your normal speed, you take a \u20135 penalty. It\u2019s impossible to use Stealth while attacking, running, or charging.\n\nCreatures gain a bonus or penalty on Stealth checks based on their size: Fine +16, Diminutive +12, Tiny +8, Small +4, Medium +0, Large \u20134, Huge \u20138, Gargantuan \u201312, Colossal \u201316.\n\nIf people are observing you using any of their senses (but typically sight), you can\u2019t use Stealth. Against most creatures, finding cover or concealment allows you to use Stealth. If your observers are momentarily distracted (such as by a Bluff check), you can attempt to use Stealth. While the others turn their attention from you, you can attempt a Stealth check if you can get to an unobserved place of some kind. This check, however, is made at a \u201310 penalty because you have to move fast.\n\nBreaking Stealth: When you start your turn using Stealth, you can leave cover or concealment and remain unobserved as long as you succeed at a Stealth check and end your turn in cover or concealment. Your Stealth immediately ends after you make an attack roll, whether or not the attack is successful (except when sniping as noted below).\n\nSniping: If you\u2019ve already successfully used Stealth at least 10 feet from your target, you can make one ranged attack and then immediately use Stealth again. You take a \u201320 penalty on your Stealth check to maintain your obscured location.\n\nCreating a Diversion to Hide: You can use Bluff to allow you to use Stealth. A successful Bluff check opposed by the viewer\u2019s Sense Motive can give you the momentary diversion you need to attempt a Stealth check while people are aware of you.",untrained:!0,customizable:!1,knowledge:!1,blurb:"You are skilled at avoiding detection, allowing you to slip past foes or strike from an unseen position. This skill covers hiding and moving silently.",action:"Usually none. Normally, you make a Stealth check as part of movement, so it doesn\u2019t take a separate action. However, using Stealth immediately after a ranged attack (see Sniping, above) is a move action.",try_again:"",special:"If you are invisible, you gain a +40 bonus on Stealth checks if you are immobile, or a +20 bonus on Stealth checks if you\u2019re moving.\n\nIf people are observing you using any of their senses (but typically sight), you can\u2019t use Stealth. Against most creatures, finding cover or concealment allows you to use Stealth. If your observers are momentarily distracted (such as by a Bluff check), you can attempt to use Stealth. While the others turn their attention from you, you can attempt a Stealth check if you can get to an unobserved place of some kind. This check, however, is made at a \u201310 penalty because you have to move fast.",skill_unlock_5:"Reduce the Stealth penalty from sniping by 10.",skill_unlock_10:"Stealth check penalties for moving quickly are halved, including the ability unlocked at 5 ranks, moving full speed, and reaching concealment after creating a distraction.",skill_unlock_15:"If you attack after successfully using Stealth, your target is denied its Dexterity bonus against all attacks that you make before the end of your turn.",skill_unlock_20:"If you attack after successfully using Stealth, your target is denied its Dexterity bonus against all attacks that you make before the beginning of your next turn."}]}],class_obj:[{klass_id:15,level:2}],race:{id:8,name:"Vine Leshy",speed:20,size:"Small",description:"Vine leshys are born by ritual, called forth when a druid channels a nature spirit into a plant\u2019s form. The nature spirit that answers the call for a vine leshy creation ritual is always one that has keenly felt the influence of mortal beings. Compared to other leshys, vine leshys have an easier time relating to non-plant creatures and a deeper sense of curiosity about the wonders of the natural world beyond those plants closely related to them, as well as a fascination with the societies of humans and other creatures.\n\nPhysical Description: A vine leshy\u2019s body is made of masses of twisted vines and leaves, sometimes incorporating flowers and fruits as well. Their appearance is mostly determined by the species of vine used in their creation, but most have a large cluster of leaves that forms a face with round eyes, a small mouth, and no visible nose.\n\nSociety: Because of their ritual-based genesis, vine leshys do not have a traditional family structure. They form strong friendships with those who accompany them on explorations or who assist them in protecting a natural site. Unlike most leshys, vine leshys usually feel a strong desire to seek out the one who create!d them. They see their creators as friends and allies rather than as parents.\n\nWhile most leshys devote themselves to protecting a particular ward for long stretches of time, vine leshys are far more likely to travel and explore, stopping to care for many different wards for short periods throughout their lifetime. Vine leshys love storytelling, but they place more importance on the meaning and message of the story than the details, both because they can\u2019t always remember the details and because they find many details to be unnecessary. A story that has passed through several vine leshys is likely to undergo significant changes in characters and setting but usually retains its core message.\n\nRelations: Vine leshys are interested in learning about the cultures of many other races. Their initial attitudes when they encounter new races are based on biases from the nature spirit\u2019s past incarnations, but they evolve over time through the leshy\u2019s experiences. In unfamiliar situations, vine leshys prefer to blend in with vegetation to observe before venturing out and introducing themselves.\n\nConsistent with the plant species from which they derive their bodies, vine leshys recognize a spectrum of genders. Some vine leshys are exclusively female or male, while many vine leshys are both. The biological features of a leshy\u2019s flowers do not necessarily indicate its gender, as the nature spirit that inhabits the leshy plays a strong role in determining the leshy\u2019s identity.\n\nVine leshys have an unusual relationship with other leshys, for unlike standard leshys, vine leshys are not grown to be servants. They are free-willed and individualistic creatures. Whether or not an individual vine leshy views the servitude other leshys endure as akin to slavery or as something more like an honorable tradition of service to a powerful druid depends on the vine leshy\u2019s opinion and alignment. While it\u2019s unusual for a vine leshy to take on another leshy as a minion in the traditional way, it\u2019s not unusual to see vine leshys take on sponsorship of a sort over other leshys, treating them almost as adopted children or wayward exiles in need of guidance and protection from those who would force their servitude.\n\nAlignment and Religion: Vine leshys see themselves as part of the ancient cycle of nature. They care for their friends and any natural areas under their care, but rarely feel compelled toward either charity or malice. Most vine leshys are truly neutral, and they almost always have at least one neutral aspect to their alignments. Religion is not particularly important to vine leshys.\n\nAdventurers: Like most leshys, vine leshys typically do not fear death. They know that if their bodies die, their spirits will return to the natural world and may someday find themselves in new bodies. This lack of fear combined with their curiosity leads them to take risks. However, they typically avoid excessively dangerous activities, as they would rather gather a story from their adventures to tell later. Vine leshys gravitate toward classes that let them use their connection to nature, such as druid and ranger.\n\nNames: Vine leshys\u2019 names change throughout their lives. A young vine leshy typically names herself after her physical characteristics or a natural feature that she particularly enjoys. As vine leshys age, they modify their names to better reflect their personality and experiences. A leshy may even have several names that she cycles among, such as one name for each season. Most vine leshys select names that are at least two words long. Example vine leshy names include Burbling Waterfall, Lovely Triple Leaves, Masterful Sun Drinker, Snowy Pine Branches, Verdant Taleweaver, and Vibrant Tree Climber.",racial_traits:[{id:42,name:"Type",race_id:8,description:"Vine leshys are plants with the leshy subtype but lack the immunities to mind-affecting effects, paralysis, poison, polymorph, sleep, and stunning that the plant type usually grants, and they lack the immunity to electricity and sonic that the leshy subtype usually grants.",source_id:null},{id:43,name:"Languages",race_id:8,description:"Vine leshys begin play speaking Common and Sylvan. Vine leshys with high Intelligence scores can choose from the following: Aquan, Auran, Aklo, Elven, Gnome, Goblin, Terran, or Undercommon.",source_id:null},{id:44,name:"Plantspeech",race_id:8,description:"Vine leshys can speak with vines as if subject to a continual speak with plants spell.",source_id:null},{id:45,name:"Darkvision",race_id:8,description:"Vine leshys can see in the dark up to 60 feet.",source_id:null},{id:46,name:"Low-Light Vision",race_id:8,description:"Vine leshys can see twice as far as humans under conditions of dim light.",source_id:null},{id:47,name:"Pass Without Trace",race_id:8,description:"Vine leshys have pass without trace as a constant spell-like ability (caster level 2nd).",source_id:null},{id:48,name:"Change Shape",race_id:8,description:"Vine leshys can transform into vines, with results similar to tree shape. In this form, the leshy appears as a particularly healthy Small vine. The \tleshy can assume plant form or revert to its true form as a swift action.",source_id:null},{id:49,name:"Verdant Burst",race_id:8,description:"When slain, a vine leshy explodes in a burst of fertile energies. All plant creatures within 30 feet of the slain leshy regain hit 1d8 points, and vines quickly infest the area. If the terrain can support vines, the undergrowth is dense enough to make the region into difficult terrain for 24 hours, after which the plant life diminishes to a normal level; otherwise, this plant life has no significant effect on movement and withers and dies within an hour.",source_id:null},{id:50,name:"Unassuming Foliage",race_id:8,description:"Vine leshys gain a +4 racial bonus on Stealth checks in forests.",source_id:null},{id:51,name:"Climber",race_id:8,description:"Vine leshys gain a +2 racial bonus on Climb checks.",source_id:null}],race_ability_score_modifiers:[{id:20,race_id:8,ability_score:"Constitution",bonus:2},{id:21,race_id:8,ability_score:"Wisdom",bonus:2},{id:22,race_id:8,ability_score:"Intelligence",bonus:-2}],img_url:"https://i.pinimg.com/originals/95/2f/4a/952f4a813b92fdde2da083dc934c36b3.png",favored_klass_bonuses:[{id:4,description:"Add a +1/3 bonus to Perform (oratory) checks, including checks using versatile performance, as long as the bard first spends at least 10 minutes telling a story.",klass_id:7,race_id:8,source_id:null},{id:5,description:"An oracle with the nature or wood mystery adds one spell from the druid's spell list that isn't on the cleric spell list to the oracle's spell list; they still must select this spell as one of their spells known in order to cast it. This spell must be at least 1 level lower than the highest spell level the oracle can cast.",klass_id:1,race_id:8,source_id:null}],source:{id:14,title:"Ultimate Wilderness",abbreviation:"UW",code:"PZO1140"},alternate_racial_traits:[{name:"Grapevine",description:"A vine leshy made from a grapevine can produce magically infused fruit that can heal her allies. She can cast goodberry once per day as a spell-like ability, with a caster level equal to her character level. This replaces pass without trace.",source:{id:14,title:"Ultimate Wilderness",abbreviation:"UW",code:"PZO1140"},alternate_trait_replace_racial_traits:[{id:4,alternate_racial_trait_id:3,racial_trait_id:47}],associated_spells:[{id:219,name:"Goodberry",description:"Casting goodberry makes 2d4 freshly picked berries magical. You (as well as any other druid of 3rd or higher level) can immediately discern which berries are affected. Each transmuted berry provides nourishment as if it were a normal meal for a Medium creature. The berry also cures 1 point of damage when eaten, subject to a maximum of 8 points of such curing in any 24-hour period.",target:"2d4 fresh berries touched",saving_throw:"none",spell_resistance:!1,magic_school_id:8,action_id:1,duration:"1 day/level",time:1,unit_of_time:"day",increase_per_level:1,dismissible:!1,concentration:!1,spell_range_id:2,source_id:null}]},{name:"Swamp Leshy",description:"Some vine leshys are made from plants that naturally grow in swamps. These leshys gain a +2 racial bonus on Swim checks and a +4 racial bonus on Stealth checks in swamps. This replaces climber and alters unassuming foliage.",source:{id:14,title:"Ultimate Wilderness",abbreviation:"UW",code:"PZO1140"},alternate_trait_replace_racial_traits:[{id:5,alternate_racial_trait_id:4,racial_trait_id:51},{id:6,alternate_racial_trait_id:4,racial_trait_id:50}],associated_spells:[]}]}}},Vc=function(e){var t=r.a.useState({}),a=Object(U.a)(t,2),n=a[0],l=a[1],i=r.a.useState({}),o=Object(U.a)(i,2),c=o[0],s=o[1];r.a.useEffect((function(){l(Kc.character);var e={layout:Kc.character.layout||"detailed",colorTheme:Kc.character.colorTheme||"noir"};!function(e){ce({type:"SET SETTINGS",settings:e})}(e),s(e)}),[]);var u="".concat(c.layout,"-layout");return r.a.createElement("main",{id:"character-details-container",className:u},Object.keys(n).length?r.a.createElement(r.a.Fragment,null,r.a.createElement(Gc,{character:n}),r.a.createElement(Yc,{character:n})):null)},Jc=a(363),Qc=a(364),Zc=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={username:"",password:"",error:!1},e.renderSubmit=function(t){t.preventDefault(),fetch("".concat(p,"/api/v1/login"),{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(e.state)}).then((function(e){return e.json()})).then((function(t){t.error?(console.log(t.error),e.setState({username:"",password:"",error:!0})):(e.props.dispatch({type:"SIGNIN",user:t.user,admin:t.user.admin}),localStorage.setItem("token",t.token),e.setState({username:"",password:"",error:!1}),e.props.history.push("/"))}))},e.renderChange=function(t){e.setState(Object(O.a)({},t.target.name,t.target.value))},e}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h1",{className:"project-name front-and-center"},"CharacterFinder"),r.a.createElement("h4",{className:"project-name subtitle"},"Pathfinder TTRPG Database & Character Creator"),r.a.createElement(Jc.a,{onSubmit:this.renderSubmit,style:{margin:"0 20%"}},r.a.createElement(Jc.a.Field,null,r.a.createElement("label",null,"Username"),r.a.createElement("input",{type:"text",name:"username",value:this.state.username,placeholder:"Username",onChange:this.renderChange,autocomplete:"off"})),r.a.createElement(Jc.a.Field,null,r.a.createElement("label",null,"Password"),r.a.createElement("input",{type:"text",name:"password",value:this.state.password,placeholder:"Password",onChange:this.renderChange,autocomplete:"off"})),r.a.createElement(Qc.a,{type:"submit"}," Login ")),this.state.error?r.a.createElement("p",null,r.a.createElement("strong",null,"Invalid login. Please try again.")):null)}}]),a}(r.a.Component),Xc=Object(h.b)((function(e){return{currentUser:e.currentUser,admin:e.admin}}))(Zc),$c=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={username:"",password:"",error:!1},e.renderSubmit=function(t){t.preventDefault(),fetch("".concat(p,"/api/v1/signup"),{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(e.state)}).then((function(e){return e.json()})).then((function(t){t.error?(console.log(t.error),e.setState({username:"",password:"",error:!0})):(e.props.dispatch({type:"SIGNIN",user:t.user,admin:t.user.admin}),localStorage.setItem("token",t.token),e.setState({username:"",password:""}),e.props.history.push("/"))}))},e.renderChange=function(t){e.setState(Object(O.a)({},t.target.name,t.target.value))},e}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h1",{className:"project-name front-and-center"},"CharacterFinder"),r.a.createElement("h4",{className:"project-name subtitle"},"Pathfinder TTRPG Database & Character Creator"),r.a.createElement(Jc.a,{onSubmit:this.renderSubmit,style:{margin:"0 20%"}},r.a.createElement(Jc.a.Field,null,r.a.createElement("label",null,"Username"),r.a.createElement("input",{type:"text",name:"username",value:this.state.username,placeholder:"Username",onChange:this.renderChange,autocomplete:"off"})),r.a.createElement(Jc.a.Field,null,r.a.createElement("label",null,"Password"),r.a.createElement("input",{type:"text",name:"password",value:this.state.password,placeholder:"Password",onChange:this.renderChange,autocomplete:"off"})),r.a.createElement(Qc.a,{type:"submit"}," Sign Up ")),this.state.error?r.a.createElement("p",null,r.a.createElement("strong",null,"Invalid login. Please try again.")):null)}}]),a}(r.a.Component),es=Object(h.b)((function(e){return{currentUser:e.currentUser,admin:e.admin}}))($c),ts=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,l=new Array(n),i=0;i<n;i++)l[i]=arguments[i];return(e=t.call.apply(t,[this].concat(l))).state={name:"",abilityScore:"",description:"",untrained:!1},e.renderSubmit=function(t){t.preventDefault(),fetch("".concat(p,"/api/v1/skills"),{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(e.state)}).then((function(e){return e.json()})).then((function(t){t.error?console.log(t.error):(e.props.history.push("/skills/".concat(t.skill.name)),e.setState({name:"",description:"",abilityScore:"",untrained:!1}))}))},e.renderChange=function(t){"untrained"===t.target.name?e.setState({untrained:!e.state.untrained}):e.setState(Object(O.a)({},t.target.name,t.target.value))},e.renderFormSubmit=function(t){e.props.renderSkillEdit?e.props.renderSkillEdit(t,e.state):e.renderSubmit(t)},e.renderForm=function(){return r.a.createElement("form",{onSubmit:function(t){return e.renderFormSubmit(t)}},r.a.createElement("label",null,"Skill Name:",r.a.createElement("input",{type:"text",name:"name",value:e.state.name,onChange:e.renderChange})),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("label",null,"Description:",r.a.createElement("textarea",{type:"textfield",className:"desc-box",rows:"6",name:"description",value:e.state.description,onChange:e.renderChange})),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("label",null,"Ability Score:",r.a.createElement("select",{name:"abilityScore",value:e.state.abilityScore,onChange:e.renderChange},r.a.createElement("option",{value:""},"Choose One"),r.a.createElement("option",{value:"Strength"},"Strength"),r.a.createElement("option",{value:"Dexterity"},"Dexterity"),r.a.createElement("option",{value:"Constitution"},"Constitution"),r.a.createElement("option",{value:"Intelligence"},"Intelligence"),r.a.createElement("option",{value:"Wisdom"},"Wisdom"),r.a.createElement("option",{value:"Charisma"},"Charisma"))),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("label",null,"Can a Character use this skill Untrained?:",r.a.createElement("input",{type:"checkbox",name:"untrained",isSelected:e.state.untrained,onChange:e.renderChange})),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("input",{type:"submit",name:"submit"}))},e.deleteSkill=function(){e.setState({deleteSkillButton:!e.state.deleteSkillButton})},e.deleteSkillConfirm=function(t,a){t.preventDefault(),"yes"===a?fetch("".concat(p,"/api/v1/skills/").concat(e.props.skill.id),{method:"DELETE",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({skill_id:e.props.skill.id})}).then((function(e){return e.json()})).then((function(t){e.props.history.push("/skills"),e.setState({deleteSkillButton:!1})})):"no"===a&&e.setState({deleteSkillButton:!1})},e}return Object(c.a)(a,[{key:"render",value:function(){var e=this;return console.log(this.state),r.a.createElement("div",null,this.props.toggleSkillForm||"/skills-form"===this.props.location.pathname?this.renderForm():null,this.props.skill?r.a.createElement("button",{onClick:this.deleteSkill},"Delete Skill"):null,this.state.deleteSkillButton?r.a.createElement("span",null,r.a.createElement("br",null),"Are you sure about that?",r.a.createElement("br",null)," ",r.a.createElement("button",{onClick:function(t){return e.deleteSkillConfirm(t,"no")}},"No"),r.a.createElement("button",{onClick:function(t){return e.deleteSkillConfirm(t,"yes")}},"Yes"),r.a.createElement("br",null),r.a.createElement("br",null)):null)}}]),a}(r.a.Component),as=Object(h.b)((function(e){return{currentUser:e.currentUser,admin:e.admin}}))(ts),ns=function(e){return r.a.createElement("p",null,"What is the name of your feature?",r.a.createElement("input",{type:"text",name:"name",value:e.name,onChange:e.renderChange}),r.a.createElement("button",{onClick:function(){return e.nextQuestion("name")}},"Next"))},rs=function(e){var t=r.a.useState([]),a=Object(U.a)(t,2),n=a[0],l=a[1];r.a.useEffect((function(){fetch("".concat(p,"/api/v1/actions")).then((function(e){return e.json()})).then(l)}),[]);var i=n.map((function(e){return e.name.toLowerCase().split(" ").filter((function(e){return"action"!==e})).join("_")}));return r.a.createElement("p",null,"Does your feature take an action to trigger/use?",r.a.createElement("select",{value:e.action,onChange:e.renderChange,name:"action"},r.a.createElement("option",{value:""},"No Action"),i.map((function(e,t){return r.a.createElement("option",{key:3*t-1,value:e},e)}))),r.a.createElement("button",{onClick:function(){return e.nextQuestion("action")}},"Next"))},ls=function(e){return r.a.createElement("p",null,"Does this feature threaten an Attack of Opportunity?",r.a.createElement("select",{value:e.attack_of_opportunity,onChange:e.renderChange,name:"attack_of_opportunity"},r.a.createElement("option",{value:"true"},"True"),r.a.createElement("option",{value:"false"},"False")),r.a.createElement("button",{onClick:function(){return e.nextQuestion("attack_of_opportunity")}},"Next"))},is=function(e){var t=e.usage,a=t.limit,n=t.limit_frequency,l=t.destroy_after_use,i=t.adjustable,o=t.unit,c=t.toggleable,s=t.wieldable,u=t.complete;return r.a.createElement("p",null,"How Many Times can this Feature be used?",r.a.createElement("br",null),r.a.createElement("input",{type:"number",name:"limit",value:a,onChange:function(t){return e.renderNestedChange("usage","limit",t.target.value)}}),r.a.createElement("br",null),"What is the frequency this feature can used given the above number? (1 times a round, 3 times a day, 2 times an hour)",r.a.createElement("br",null),r.a.createElement("select",{value:n,onChange:function(t){return e.renderNestedChange("usage","limit_frequency",t.target.value)},name:"limit_frequency"},r.a.createElement("option",{value:""},"Choose"),r.a.createElement("option",{value:"Round"},"Round"),r.a.createElement("option",{value:"Day"},"Day"),r.a.createElement("option",{value:"Forever"},"Forever")),r.a.createElement("br",null),'Is the number of times this feature can be used counted beside "times used"? Examples: feature can be used for 10 "minutes", used for 25 "rounds", used on up to 6 "allies" (write singular)',r.a.createElement("br",null),r.a.createElement("input",{type:"text",name:"unit",value:o,onChange:function(t){return e.renderNestedChange("usage","unit",t.target.value)}}),r.a.createElement("br",null),"If this feature is on an item, after the feature is used, is the item destroyed?",r.a.createElement("br",null),r.a.createElement("select",{value:l,onChange:function(t){return e.renderNestedChange("usage","destroy_after_use",t.target.value)},name:"destroy_after_use"},r.a.createElement("option",{value:"true"},"True"),r.a.createElement("option",{value:"false"},"False")),r.a.createElement("br",null),"Can the number of times this feature can be used be adjusted?",r.a.createElement("br",null),r.a.createElement("select",{value:i,onChange:function(t){return e.renderNestedChange("usage","adjustable",t.target.value)},name:"adjustable"},r.a.createElement("option",{value:"true"},"True"),r.a.createElement("option",{value:"false"},"False")),r.a.createElement("br",null),"Can the usage of this feature be switched on and off? Examples: Barbarian's Rage Rounds, Slippers of Spider Climbing",r.a.createElement("br",null),r.a.createElement("select",{value:c,onChange:function(t){return e.renderNestedChange("usage","toggleable",t.target.value)},name:"toggleable"},r.a.createElement("option",{value:"true"},"True"),r.a.createElement("option",{value:"false"},"False")),r.a.createElement("br",null),"If this feature is on an item, can it, and will it only be triggered, when character is wielding it?",r.a.createElement("br",null),r.a.createElement("select",{value:s,onChange:function(t){return e.renderNestedChange("usage","wieldable",t.target.value)},name:"wieldable"},r.a.createElement("option",{value:"true"},"True"),r.a.createElement("option",{value:"false"},"False")),r.a.createElement("br",null),"Is this Usage Questionnaire Completed?",r.a.createElement("br",null),r.a.createElement("select",{value:u,onChange:function(t){return e.renderNestedChange("usage","complete",t.target.value)},name:"complete"},r.a.createElement("option",{value:"true"},"True"),r.a.createElement("option",{value:"false"},"False")),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("button",{onClick:function(){return e.nextQuestion("usage")}},"Next"))},os=function(e){var t=r.a.useState(0),a=Object(U.a)(t,2),n=a[0],l=a[1],i=e.usage_options,o=i.options,c=i.complete,s={detail:"",cost:1,amount:1,destroy_after_use:!1},u=function(t){var a=Object(S.a)(o);"+"===t?(a.push(s),l(n+1)):"-"===t&&(a.pop(),l(n-1)),e.renderNestedChange("usage_options","options",a)},d=function(t,a,n){var r=Object(S.a)(o)[t];r[a]=n;var l=Object(S.a)(o);l.splice(t,1,r),e.renderNestedChange("usage_options","options",l)};return r.a.createElement("section",null,"How many usage options does this feature have? ",n,r.a.createElement("button",{style:{width:"2.5em",height:"2em",marginLeft:"1em"},onClick:function(){return u("+")}},"+"),r.a.createElement("button",{style:{width:"2.5em",height:"2em",marginLeft:"1em"},onClick:function(){return n>0&&u("-")}},"-"),r.a.createElement("br",null),"(This is for specific information for different options. If the feature does not have multiple ways it can be used, or if it uses different features for different options, do not fill this out; the description will be written on the actual Class Feature/Racial Traits/Feat details/Equipment/etc.)",r.a.createElement("br",null),o.map((function(e,t){return function(e,t){return r.a.createElement("p",{key:3*t-1,style:{borderBottom:"2px solid black",paddingBottom:"0.5em"}},r.a.createElement("strong",null,"Option ",t+1,":"),r.a.createElement("br",null),r.a.createElement("br",null),"Describe this specific option's details or effect",r.a.createElement("br",null),r.a.createElement("input",{type:"text",name:"detail",value:e.detail,onChange:function(e){return d(t,e.target.name,e.target.value)}}),r.a.createElement("br",null),'When this feature option is used, how many instances does it cost, or how many instances of the limit does it use? Example: Casting Reduce Person costs "1 charge" from the Staff\'s 10 charges, and Shrink Item costs "2 charges"',r.a.createElement("br",null),r.a.createElement("input",{type:"number",name:"cost",value:e.cost,onChange:function(e){return d(t,e.target.name,e.target.value)}}),r.a.createElement("br",null),"How many of this feature option exist? Example: Necklace of Fireballs can have 3 of a given option, and 1 of another option",r.a.createElement("br",null),r.a.createElement("input",{type:"number",name:"amount",value:e.amount,onChange:function(e){return d(t,e.target.name,e.target.value)}}),r.a.createElement("br",null),"If this feature option is on an item, after the feature option is used, is the specific option destroyed or no longer available?",r.a.createElement("br",null),r.a.createElement("select",{value:e.destroy_after_use,onChange:function(e){return d(t,e.target.name,e.target.value)},name:"destroy_after_use"},r.a.createElement("option",{value:"true"},"True"),r.a.createElement("option",{value:"false"},"False")),r.a.createElement("br",null))}(e,t)})),r.a.createElement("br",null),"Is this Usage Options Questionnaire Completed?",r.a.createElement("br",null),r.a.createElement("select",{value:c,onChange:function(t){return e.renderNestedChange("usage_options","complete",t.target.value)},name:"complete"},r.a.createElement("option",{value:!0},"True"),r.a.createElement("option",{value:!1},"False")),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("button",{onClick:function(){return e.nextQuestion("usage_options")}},"Next"))},cs=function(e){var t=r.a.useState(0),a=Object(U.a)(t,2),n=a[0],l=a[1],i=e.usage_spell_options,o=i.spell_options,c=i.complete,s={spell:"",cost:1,castable:!0},u=function(t){var a=Object(S.a)(o);"+"===t?(a.push(s),l(n+1)):"-"===t&&(a.pop(),l(n-1)),e.renderNestedChange("usage_spell_options","spell_options",a)},d=function(t,a,n){var r=Object(S.a)(o)[t];r[a]=n;var l=Object(S.a)(o);l.splice(t,1,r),e.renderNestedChange("usage_spell_options","spell_options",l)};return r.a.createElement("section",null,"How many usage spell options does this feature have? ",n,r.a.createElement("button",{style:{width:"2.5em",height:"2em",marginLeft:"1em"},onClick:function(){return u("+")}},"+"),r.a.createElement("button",{style:{width:"2.5em",height:"2em",marginLeft:"1em"},onClick:function(){return n>0&&u("-")}},"-"),r.a.createElement("br",null),o.map((function(e,t){return function(e,t){return r.a.createElement("p",{key:3*t-1,style:{borderBottom:"2px solid black",paddingBottom:"0.5em"}},r.a.createElement("strong",null,"Spell Option ",t+1,":"),r.a.createElement("br",null),r.a.createElement("br",null),"What is the name of the Spell",r.a.createElement("br",null),r.a.createElement("input",{type:"text",name:"spell",value:e.spell,onChange:function(e){return d(t,e.target.name,e.target.value)}}),r.a.createElement("br",null),'When this feature spell option is used, how many instances does it cost, or how many instances of the limit does it use? Example: Casting Reduce Person costs "1 charge" from the Staff\'s 10 charges, and Shrink Item costs "2 charges"',r.a.createElement("br",null),r.a.createElement("input",{type:"number",name:"cost",value:e.cost,onChange:function(e){return d(t,e.target.name,e.target.value)}}),r.a.createElement("br",null),"Is this spell castable, or is it just a reference when using this feature?",r.a.createElement("br",null),r.a.createElement("select",{value:e.castable,onChange:function(e){return d(t,e.target.name,e.target.value)},name:"castable"},r.a.createElement("option",{value:"true"},"Castable"),r.a.createElement("option",{value:"false"},"Just a Reference")),r.a.createElement("br",null))}(e,t)})),r.a.createElement("br",null),"Is this Usage Spell Options Questionnaire Completed?",r.a.createElement("br",null),r.a.createElement("select",{value:c,onChange:function(t){return e.renderNestedChange("usage_spell_options","complete",t.target.value)},name:"complete"},r.a.createElement("option",{value:"true"},"True"),r.a.createElement("option",{value:"false"},"False")),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("button",{onClick:function(){return e.nextQuestion("usage_spell_options")}},"Next"))},ss=function(e){var t=r.a.useState(0),a=Object(U.a)(t,2),n=a[0],l=a[1],i=e.skill_bonuses,o=i.bonuses,c=i.complete,s={skill:"",bonus:1,bonus_type:"",duration:"",custom:"",notes:""},u=function(t){var a=Object(S.a)(o);"+"===t?(a.push(s),l(n+1)):"-"===t&&(a.pop(),l(n-1)),e.renderNestedChange("skill_bonuses","bonuses",a)},d=function(t,a,n){var r=Object(S.a)(o)[t];r[a]=n;var l=Object(S.a)(o);l.splice(t,1,r),e.renderNestedChange("skill_bonuses","bonuses",l)};return r.a.createElement("section",null,"Does this Feature grant skill bonuses? How many? ",n,r.a.createElement("button",{style:{width:"2.5em",height:"2em",marginLeft:"1em"},onClick:function(){return u("+")}},"+"),r.a.createElement("button",{style:{width:"2.5em",height:"2em",marginLeft:"1em"},onClick:function(){return n>0&&u("-")}},"-"),r.a.createElement("br",null),o.map((function(e,t){return function(e,t){return r.a.createElement("p",{key:3*t-1,style:{borderBottom:"2px solid black",paddingBottom:"0.5em"}},r.a.createElement("strong",null,"Skill Bonus ",t+1,":"),r.a.createElement("br",null),r.a.createElement("br",null),"Which Skill?",r.a.createElement("br",null),r.a.createElement("input",{type:"text",name:"skill",value:e.skill,onChange:function(e){return d(t,e.target.name,e.target.value)}}),r.a.createElement("br",null),"How much is the bonus?",r.a.createElement("br",null),r.a.createElement("input",{type:"number",name:"bonus",value:e.bonus,onChange:function(e){return d(t,e.target.name,e.target.value)}}),r.a.createElement("br",null),"What kind of bonus is it?",r.a.createElement("br",null),r.a.createElement("select",{value:e.bonus_type,onChange:function(e){return d(t,e.target.name,e.target.value)},name:"bonus_type"},r.a.createElement("option",{value:""},"Choose"),r.a.createElement("option",{value:"Circumstance"},"Circumstance"),r.a.createElement("option",{value:"Competence"},"Competence"),r.a.createElement("option",{value:"Insight"},"Insight"),r.a.createElement("option",{value:"Luck"},"Luck"),r.a.createElement("option",{value:"Morale"},"Morale"),r.a.createElement("option",{value:"Profane"},"Profane"),r.a.createElement("option",{value:"Sacred"},"Sacred")),r.a.createElement("br",null),"How Long does the Bonus Last?",r.a.createElement("br",null),r.a.createElement("select",{value:e.duration,onChange:function(e){return d(t,e.target.name,e.target.value)},name:"duration"},r.a.createElement("option",{value:""},"Choose"),r.a.createElement("option",{value:"Permanent"},"Permanent")),r.a.createElement("br",null),"Does this skill only apply to a subset of a skill? Example: Perform (percussion), Profession (sailor), Craft (alchemy)",r.a.createElement("br",null),r.a.createElement("input",{type:"text",name:"custom",value:e.custom,onChange:function(e){return d(t,e.target.name,e.target.value)}}),r.a.createElement("br",null),"Does this feature have specific details or notes that could appear as a tooltip? Please use separate lines for seperate details",r.a.createElement("br",null),r.a.createElement("input",{type:"text",name:"notes",value:e.notes,onChange:function(e){return d(t,e.target.name,e.target.value)}}),r.a.createElement("br",null))}(e,t)})),r.a.createElement("br",null),"Is this Skill Bonuses Questionnaire Completed?",r.a.createElement("br",null),r.a.createElement("select",{value:c,onChange:function(t){return e.renderNestedChange("skill_bonuses","complete",t.target.value)},name:"complete"},r.a.createElement("option",{value:"true"},"True"),r.a.createElement("option",{value:"false"},"False")),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("button",{onClick:function(){return e.nextQuestion("skill_bonuses")}},"Next"))},us=function(e){var t=r.a.useState(0),a=Object(U.a)(t,2),n=a[0],l=a[1],i=e.stat_bonuses,o=i.bonuses,c=i.complete,s={statistic:"",bonus:1,bonus_type:"",duration:"",note:""},u=function(t){var a=Object(S.a)(o);"+"===t?(a.push(s),l(n+1)):"-"===t&&(a.pop(),l(n-1)),e.renderNestedChange("stat_bonuses","bonuses",a)},d=function(t,a,n){var r=Object(S.a)(o)[t];r[a]=n;var l=Object(S.a)(o);l.splice(t,1,r),e.renderNestedChange("stat_bonuses","bonuses",l)};return r.a.createElement("section",null,"Does this Feature grant skill bonuses? How many? ",n,r.a.createElement("button",{style:{width:"2.5em",height:"2em",marginLeft:"1em"},onClick:function(){return u("+")}},"+"),r.a.createElement("button",{style:{width:"2.5em",height:"2em",marginLeft:"1em"},onClick:function(){return n>0&&u("-")}},"-"),r.a.createElement("br",null),o.map((function(e,t){return function(e,t){return r.a.createElement("p",{key:3*t-1,style:{borderBottom:"2px solid black",paddingBottom:"0.5em"}},r.a.createElement("strong",null,"Skill Bonus ",t+1,":"),r.a.createElement("br",null),r.a.createElement("br",null),"Which Statistic?",r.a.createElement("br",null),r.a.createElement("select",{value:e.statistic,onChange:function(e){return d(t,e.target.name,e.target.value)},name:"statistic"},r.a.createElement("option",{value:""},"Choose Statistic"),r.a.createElement("option",{value:"Strength"},"Strength"),r.a.createElement("option",{value:"Dexterity"},"Dexterity"),r.a.createElement("option",{value:"Constitution"},"Constitution"),r.a.createElement("option",{value:"Intelligence"},"Intelligence"),r.a.createElement("option",{value:"Wisdom"},"Wisdom"),r.a.createElement("option",{value:"Charisma"},"Charisma"),r.a.createElement("option",{value:"Initiative"},"Initiative"),r.a.createElement("option",{value:"Save"},"Save"),r.a.createElement("option",{value:"Fortitude"},"Fortitude"),r.a.createElement("option",{value:"Reflex"},"Reflex"),r.a.createElement("option",{value:"Will"},"Will")),r.a.createElement("br",null),"How much is the bonus?",r.a.createElement("br",null),r.a.createElement("input",{type:"number",name:"bonus",value:e.bonus,onChange:function(e){return d(t,e.target.name,e.target.value)}}),r.a.createElement("br",null),"What kind of bonus is it?",r.a.createElement("br",null),r.a.createElement("select",{value:e.bonus_type,onChange:function(e){return d(t,e.target.name,e.target.value)},name:"bonus_type"},r.a.createElement("option",{value:""},"Choose"),r.a.createElement("option",{value:"Alchemical"},"Alchemical"),r.a.createElement("option",{value:"Circumstance"},"Circumstance"),r.a.createElement("option",{value:"Competence"},"Competence"),r.a.createElement("option",{value:"Enhancement"},"Enhancement"),r.a.createElement("option",{value:"Inherent"},"Inherent"),r.a.createElement("option",{value:"Insight"},"Insight"),r.a.createElement("option",{value:"Luck"},"Luck"),r.a.createElement("option",{value:"Morale"},"Morale"),r.a.createElement("option",{value:"Profane"},"Profane"),r.a.createElement("option",{value:"Resistance"},"Resistance"),r.a.createElement("option",{value:"Sacred"},"Sacred"),r.a.createElement("option",{value:"Size"},"Size")),r.a.createElement("br",null),"How Long does the Bonus Last?",r.a.createElement("br",null),r.a.createElement("select",{value:e.duration,onChange:function(e){return d(t,e.target.name,e.target.value)},name:"duration"},r.a.createElement("option",{value:""},"Choose"),r.a.createElement("option",{value:"Permanent"},"Permanent")),r.a.createElement("br",null),"Does this feature have specific details or notes that could appear as a tooltip? Please use separate lines for seperate details",r.a.createElement("br",null),r.a.createElement("input",{type:"text",name:"note",value:e.note,onChange:function(e){return d(t,e.target.name,e.target.value)}}),r.a.createElement("br",null))}(e,t)})),r.a.createElement("br",null),"Is this Stat Bonuses Questionnaire Completed?",r.a.createElement("br",null),r.a.createElement("select",{value:c,onChange:function(t){return e.renderNestedChange("stat_bonuses","complete",t.target.value)},name:"complete"},r.a.createElement("option",{value:"true"},"True"),r.a.createElement("option",{value:"false"},"False")),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("button",{onClick:function(){return e.nextQuestion("stat_bonuses")}},"Next"))},ds=function(e){var t=e.container,a=t.weight,n=t.volume_cubic_feet,l=t.complete;return r.a.createElement("p",null,"Fill out if feature or item is container",r.a.createElement("br",null),r.a.createElement("br",null),"How much weight can this feature or item hold?",r.a.createElement("br",null),r.a.createElement("input",{type:"number",name:"weight",value:a,onChange:function(t){return e.renderNestedChange("container","weight",t.target.value)}}),r.a.createElement("br",null),"How many cubic feet can this feature or item hold?",r.a.createElement("br",null),r.a.createElement("input",{type:"number",name:"volume_cubic_feet",value:n,onChange:function(t){return e.renderNestedChange("container","volume_cubic_feet",t.target.value)}}),r.a.createElement("br",null),"Is this Container Questionnaire Completed?",r.a.createElement("br",null),r.a.createElement("select",{value:l,onChange:function(t){return e.renderNestedChange("container","complete",t.target.value)},name:"complete"},r.a.createElement("option",{value:"true"},"True"),r.a.createElement("option",{value:"false"},"False")),r.a.createElement("br",null),r.a.createElement("button",{onClick:function(){return e.nextQuestion("name")}},"Next"))},ms=function(e){var t=r.a.useState(0),a=Object(U.a)(t,2),n=a[0],l=a[1],i=e.languages,o=i.options,c=i.complete,s={language:"",note:""},u=function(t){var a=Object(S.a)(o);"+"===t?(a.push(s),l(n+1)):"-"===t&&(a.pop(),l(n-1)),e.renderNestedChange("languages","options",a)},d=function(t,a,n){var r=Object(S.a)(o)[t];r[a]=n;var l=Object(S.a)(o);l.splice(t,1,r),e.renderNestedChange("languages","options",l)};return r.a.createElement("section",null,"Does this feature give you additional languages? How many? ",n,r.a.createElement("button",{style:{width:"2.5em",height:"2em",marginLeft:"1em"},onClick:function(){return u("+")}},"+"),r.a.createElement("button",{style:{width:"2.5em",height:"2em",marginLeft:"1em"},onClick:function(){return n>0&&u("-")}},"-"),r.a.createElement("br",null),o.map((function(e,t){return function(e,t){return r.a.createElement("p",{key:3*t-1,style:{borderBottom:"2px solid black",paddingBottom:"0.5em"}},r.a.createElement("strong",null,"Langauge ",t+1,":"),r.a.createElement("br",null),r.a.createElement("br",null),"What langauge does it give you",r.a.createElement("br",null),r.a.createElement("input",{type:"text",name:"language",value:e.language,onChange:function(e){return d(t,e.target.name,e.target.value)}}),r.a.createElement("br",null),"Does this feature have specific details or notes that could appear as a tooltip? Please use separate lines for seperate details",r.a.createElement("br",null),r.a.createElement("input",{type:"text",name:"note",value:e.note,onChange:function(e){return d(t,e.target.name,e.target.value)}}),r.a.createElement("br",null))}(e,t)})),r.a.createElement("br",null),"Is this Languages Questionnaire Completed?",r.a.createElement("br",null),r.a.createElement("select",{value:c,onChange:function(t){return e.renderNestedChange("languages","complete",t.target.value)},name:"complete"},r.a.createElement("option",{value:"true"},"True"),r.a.createElement("option",{value:"false"},"False")),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("button",{onClick:function(){return e.nextQuestion("languages")}},"Next"))},hs=function(e){var t=e.movement,a=t.movement,n=t.feet,l=t.bonus,i=t.penalty,o=t.complete;return r.a.createElement("p",null,"Fill out if feature gives a character a movement speed change",r.a.createElement("br",null),r.a.createElement("br",null),"What type of movement speed change does this give",r.a.createElement("br",null),r.a.createElement("select",{value:a,onChange:function(t){return e.renderNestedChange("movement","movement",t.target.value)},name:"movement"},r.a.createElement("option",{value:""},"Choose"),r.a.createElement("option",{value:"Base"},"Base"),r.a.createElement("option",{value:"Climb"},"Climb"),r.a.createElement("option",{value:"Swim"},"Swim"),r.a.createElement("option",{value:"Burrow"},"Burrow")),r.a.createElement("br",null),"What is the feet specified for this feature",r.a.createElement("br",null),r.a.createElement("input",{type:"number",name:"feet",value:n,onChange:function(t){return e.renderNestedChange("movement","feet",t.target.value)}}),r.a.createElement("br",null),"Is this movement a increase/bonus to a current movement speed?",r.a.createElement("br",null),r.a.createElement("select",{value:l,onChange:function(t){return e.renderNestedChange("movement","bonus",t.target.value)},name:"bonus"},r.a.createElement("option",{value:"true"},"True"),r.a.createElement("option",{value:"false"},"False")),r.a.createElement("br",null),"Is this movement a decrease/penalty to a current movement speed?",r.a.createElement("br",null),r.a.createElement("select",{value:i,onChange:function(t){return e.renderNestedChange("movement","penalty",t.target.value)},name:"penalty"},r.a.createElement("option",{value:"true"},"True"),r.a.createElement("option",{value:"false"},"False")),r.a.createElement("br",null),"Is this Movement Questionnaire Completed?",r.a.createElement("br",null),r.a.createElement("select",{value:o,onChange:function(t){return e.renderNestedChange("movement","complete",t.target.value)},name:"complete"},r.a.createElement("option",{value:"true"},"True"),r.a.createElement("option",{value:"false"},"False")),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("button",{onClick:function(){return e.nextQuestion("movement")}},"Next"))},ps=function(e){var t=e.loading,a=t.capacity,n=t.must_reload_after_use,l=t.complete;return r.a.createElement("p",null,"Fill out if feature/item must be reloading after use",r.a.createElement("br",null),r.a.createElement("br",null),"What is the capacity of this feature/item?",r.a.createElement("br",null),r.a.createElement("input",{type:"number",name:"capacity",value:a,onChange:function(t){return e.renderNestedChange("movement","capacity",t.target.value)}}),r.a.createElement("br",null),"Must this feature/item needed to be reloaded after use?",r.a.createElement("br",null),r.a.createElement("select",{value:n,onChange:function(t){return e.renderNestedChange("loading","must_reload_after_use",t.target.value)},name:"must_reload_after_use"},r.a.createElement("option",{value:"true"},"True"),r.a.createElement("option",{value:"false"},"False")),r.a.createElement("br",null),"Is this Loading Questionnaire Completed?",r.a.createElement("br",null),r.a.createElement("select",{value:l,onChange:function(t){return e.renderNestedChange("loading","complete",t.target.value)},name:"complete"},r.a.createElement("option",{value:"true"},"True"),r.a.createElement("option",{value:"false"},"False")),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("button",{onClick:function(){return e.nextQuestion("loading")}},"Next"))},fs=function(e){var t=e.state,a=t.name,n=t.action,l=t.attack_of_opportunity,i=t.usage,o=Z.a.sampleSize(["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","0","1","2","3","4","5","6","7","8","9","_"],9).join("");return r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,o,' = Feature.create!(name: "',a,'", action_id: ',n,".id, attack_of_opportunity: ",l,")"),r.a.createElement("p",null,o,"_usage = FeatureUsage.create!(feature_id: ",o,".id, limit: ",i.limit,', unit: "',i.unit,'"',"true"===i.destroy_after_use&&', destroy_after_use: "true" ',', limit_frequency: "',i.limit_frequency,'"',"true"===i.adjustable&&', adjustable: "true"',"true"===i.toggleable&&', toggleable: "true"',"true"===i.wieldable&&', wieldable: "true"',")"))},gs=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,l=new Array(n),i=0;i<n;i++)l[i]=arguments[i];return(e=t.call.apply(t,[this].concat(l))).state={currentQ:"name",name:"",action:"",attack_of_opportunity:!1,usage:{complete:!1,destroy_after_use:"false",limit:0,limit_frequency:"",unit:"",adjustable:"false",toggleable:"false",wieldable:"false"},usage_options:{complete:!1,options:[]},usage_spell_options:{complete:!1,spell_options:[]},skill_bonuses:{complete:!1,bonuses:[]},stat_bonuses:{complete:!1,bonuses:[]},container:{complete:!1,weight:0,volume_cubic_feet:0},languages:{complete:!1,options:[]},movement:{complete:!1,movement:"",feet:0,bonus:!1,penalty:!1},loading:{complete:!1,capactiy:0,must_reload_after_use:!1},quizOrder:["name","action","attack_of_opportunity","usage","usage_options","usage_spell_options","skill_bonuses","stat_bonuses","container","languages","movement","loading","complete"]},e.renderChange=function(t){console.log(t.target.name,t.target.value),e.setState(Object(O.a)({},t.target.name,t.target.value))},e.renderNestedChange=function(t,a,n){var r=Object(j.a)({},e.state[t]);r[a]=n,e.setState(Object(O.a)({},t,r))},e.nextQuestion=function(t){var a=e.state.quizOrder.findIndex((function(e){return e===t}));e.setState({currentQ:e.state.quizOrder[a+1]})},e.hopToQ=function(t){e.setState({currentQ:t})},e.renderNameQ=function(){return r.a.createElement("p",null,"What is the name of your feature?",r.a.createElement("input",{type:"text",name:"name",value:e.state.name,onChange:e.renderChange}),r.a.createElement("button",{onClick:function(){return e.nextQuestion("name")}},"Next"))},e.distributeQuiz=function(){switch(e.state.currentQ){case"name":return r.a.createElement(ns,{renderChange:e.renderChange,name:e.state.name,nextQuestion:e.nextQuestion});case"action":return r.a.createElement(rs,{renderChange:e.renderChange,action:e.state.action,nextQuestion:e.nextQuestion});case"attack_of_opportunity":return r.a.createElement(ls,{renderChange:e.renderChange,attack_of_opportunity:e.state.attack_of_opportunity,nextQuestion:e.nextQuestion});case"usage":return r.a.createElement(is,{renderNestedChange:e.renderNestedChange,usage:e.state.usage,nextQuestion:e.nextQuestion});case"usage_options":return r.a.createElement(os,{renderNestedChange:e.renderNestedChange,usage_options:e.state.usage_options,nextQuestion:e.nextQuestion});case"usage_spell_options":return r.a.createElement(cs,{renderNestedChange:e.renderNestedChange,usage_spell_options:e.state.usage_spell_options,nextQuestion:e.nextQuestion});case"skill_bonuses":return r.a.createElement(ss,{renderNestedChange:e.renderNestedChange,skill_bonuses:e.state.skill_bonuses,nextQuestion:e.nextQuestion});case"stat_bonuses":return r.a.createElement(us,{renderNestedChange:e.renderNestedChange,stat_bonuses:e.state.stat_bonuses,nextQuestion:e.nextQuestion});case"container":return r.a.createElement(ds,{renderNestedChange:e.renderNestedChange,container:e.state.container,nextQuestion:e.nextQuestion});case"languages":return r.a.createElement(ms,{renderNestedChange:e.renderNestedChange,languages:e.state.languages,nextQuestion:e.nextQuestion});case"movement":return r.a.createElement(hs,{renderNestedChange:e.renderNestedChange,movement:e.state.movement,nextQuestion:e.nextQuestion});case"loading":return r.a.createElement(ps,{renderNestedChange:e.renderNestedChange,loading:e.state.loading,nextQuestion:e.nextQuestion});case"complete":return r.a.createElement(fs,{state:e.state})}},e.listOfAttributes=function(){var t=Object(S.a)(e.state.quizOrder).map((function(t,a){var n="_";return n=e.state[t]&&"object"!==typeof e.state[t]?"X":n,n="object"===typeof e.state[t]&&e.state[t].complete?"X":n,n=e.state.currentQ===t?"...":n,r.a.createElement("li",{key:3*a-1,style:{padding:"0.2em"},onClick:function(){return e.hopToQ(t)}},n," ",t)}));return r.a.createElement("ul",{style:{listStyleType:"none",position:"fixed",bottom:"0",border:"1px solid black",padding:"0",margin:"0",display:"grid",gridTemplateColumns:"1fr 1fr",backgroundColor:"rgba(235, 235, 235, 0.95)"}},t)},e}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("section",{style:{padding:"1%",minHeight:"70vh",marginBottom:"30vh"}},this.distributeQuiz(),this.listOfAttributes())}}]),a}(r.a.Component),bs=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this;if("http://localhost:3000/characters/10001"===window.location.href)return null;fetch("".concat(p,"/api/v1/data")).then((function(e){return e.json()})).then((function(t){e.props.dispatch({type:"EVERYTHING",classes:t.klasses,races:t.races,skills:t.skills})}));var t=localStorage.getItem("token");E(t)}},{key:"render",value:function(){var e;return console.log(this.props),window.outerWidth/window.outerHeight<.85?(console.log("Imma Phone! Here is my width/height percentage",window.outerWidth/window.outerHeight),e=!1):(console.log("Imma Computer! Here is my width/height percentage",window.outerWidth/window.outerHeight),e=!0),localStorage.setItem("computer",e),r.a.createElement(d.a,null,r.a.createElement("main",{style:{backgroundImage:"linear-gradient(#".concat(this.props.settings.background1," 60%, #").concat(this.props.settings.background2,")"),height:"100vh",backgroundAttachment:"fixed"}},r.a.createElement(z,null),this.props.tooltip.message&&r.a.createElement(G,null),!!this.props.modal.length&&r.a.createElement(cr,null),!!this.props.notifications.length&&r.a.createElement(sr,null),r.a.createElement(m.c,null,r.a.createElement(m.a,{exact:!0,path:"/",component:fr}),r.a.createElement(m.a,{exact:!0,path:"/classes",component:gr}),r.a.createElement(m.a,{exact:!0,path:"/login",component:Xc}),r.a.createElement(m.a,{exact:!0,path:"/signup",component:es}),r.a.createElement(m.a,{exact:!0,path:"/classes-form",component:Pr}),r.a.createElement(m.a,{exact:!0,path:"/classes/:slug",component:zr}),r.a.createElement(m.a,{exact:!0,path:"/ancestries",component:br}),r.a.createElement(m.a,{exact:!0,path:"/ancestries-form",component:Qr}),r.a.createElement(m.a,{exact:!0,path:"/ancestries/:slug",component:Xr}),r.a.createElement(m.a,{exact:!0,path:"/skills",component:yr}),r.a.createElement(m.a,{exact:!0,path:"/skills-form",component:as}),r.a.createElement(m.a,{exact:!0,path:"/skills/:slug",component:tl}),r.a.createElement(m.a,{exact:!0,path:"/spells",component:_r}),r.a.createElement(m.a,{exact:!0,path:"/creation",component:Fl}),r.a.createElement(m.a,{exact:!0,path:"/characters/10001",component:Vc}),r.a.createElement(m.a,{exact:!0,path:"/characters/:slug",component:bc}),r.a.createElement(m.a,{exact:!0,path:"/campaigns/new",component:Uc}),r.a.createElement(m.a,{path:"/campaigns/:slug",component:Lc}),r.a.createElement(m.a,{path:"/how-to-build-a-feature",component:gs}))))}}]),a}(r.a.Component),vs=Object(h.b)((function(e){return{currentUser:e.currentUser,admin:e.admin,tooltip:e.tooltip,modal:e.modal,notifications:e.notifications,settings:e.settings}}))(bs);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ys=a(189),Es=a.n(ys);(function(){var e={};e.cable=Es.a.createConsumer("".concat("wss://characterfinder-api.herokuapp.com","/cable")),Ce({type:"START WEBSOCKET",websocket:e})})(),i.a.render(r.a.createElement(h.a,{store:F},r.a.createElement(vs,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[200,1,2]]]);
//# sourceMappingURL=main.ba234a0f.chunk.js.map